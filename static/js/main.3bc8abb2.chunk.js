(this["webpackJsonpshuai-website"]=this["webpackJsonpshuai-website"]||[]).push([[0],Array(51).concat([function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Profile.c5ace7dd.jpeg"},,,,,,,,,,,,function(e,t,n){var a={"./BTC Price.jpeg":80,"./BTC_heatmap.jpg":81,"./Bull_bear.jpg":82,"./Election.jpg":83,"./FRED.jpeg":84,"./Figma.png":85,"./Image-Recognizer.jpeg":86,"./India.jpeg":87,"./Iran.jpeg":88,"./Korea.png":89,"./Mexico.jpeg":90,"./NLP.jpeg":91,"./Poland-abortion-cost.jpeg":92,"./Profile.jpeg":51,"./Slavery.jpeg":93,"./Sleep-Deprivation1.jpeg":94,"./Turkey.jpeg":95,"./Venezuela.jpeg":96,"./alexander.jpeg":97,"./astronomy.png":98,"./china-map.jpeg":99,"./christmas.jpg":100,"./databases.jpeg":101,"./final-project.jpeg":102,"./weed.jpeg":103,"./woman.png":104};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=63},,,,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/BTC Price.987297fd.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/BTC_heatmap.27fd0069.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Bull_bear.28e7f338.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Election.713d55f0.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/FRED.f865a892.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Figma.4338cc45.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Image-Recognizer.a4864d65.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/India.9f1f7c68.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Iran.87d57217.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Korea.13aaea0b.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Mexico.d342166c.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/NLP.672234e1.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Poland-abortion-cost.1e41e595.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Slavery.a73facde.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Sleep-Deprivation1.b43c251c.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Turkey.c8f6c658.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/Venezuela.e0f45498.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/alexander.12b2ee10.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/astronomy.9d04e7c8.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/china-map.d36a3a00.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/christmas.e15f0d61.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/databases.df39a94e.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/final-project.939d0f7b.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/weed.1db7d6b8.jpeg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/woman.2d3ca202.png"},,,,,function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/c051fbc024553912e31968b35e537d4ad3592201b5f8e7bd13fd9d02e38599c5d541a704d0858c676328babb3e5c9c35dd7c6d67240090d094882a1cad8eece4.87a2b973.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/c051fbc024553912e31968b35e537d4ad3592201b5f8e7bd13fd9d02e38599c5d541a704d0858c676328babb3e5c9c35dd7c6d67240090d094882a1cad8eece4.87a2b973.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0a91280427f2511e4078e8566449070b1f657b8b95a2624e4a9c4c54bb3725d6ba088cacfc888c24196e3af9ecca31d437c382fbee01598c4c059e73e74236a5.11c21d85.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/c051fbc024553912e31968b35e537d4ad3592201b5f8e7bd13fd9d02e38599c5d541a704d0858c676328babb3e5c9c35dd7c6d67240090d094882a1cad8eece4.87a2b973.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/77fa7756af821e4d2867e0fc43cd3040a0fef23a0603062eb031fa581c0bb3bfe70f462846e4bcd94cdbfe92622bd510d377dce140ea216549319ea08196f3c6.bf165d76.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/bb2814b0b71df8257ec2d0fdcd2b4a09923b229a932af0051e5e03e6f90ea7c7b6490710999342f5f5593aee9e68ee96a4e3ebea2925a52a190b5e277e7db3dd.342133af.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/f22cb5a92b8e39f69df1ad97a8e9c510d7ed14fbe854436ecf74609adbb25ab6806e143558b05edfda471a1e535dd9ec51138ea3be8e21973c88ffbb3352d69c.395a6170.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/c051fbc024553912e31968b35e537d4ad3592201b5f8e7bd13fd9d02e38599c5d541a704d0858c676328babb3e5c9c35dd7c6d67240090d094882a1cad8eece4.87a2b973.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/fe83fd55eb1882e6cc467c43d748360412553c578e05ed7178591a825b639661bcbcbcadf21e8a48741b7a051744246fa3cd2e3fcb1721dd66618febc1ef29ce.ed1d7e74.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/023f2e516d30f7483d2feb8ec2216b9af7fb5a2d3ff0ff615cfbfab3331a610a36ea2eb5a096ab59013e080c0e8db70c055f18b8c2a898e0ebe67742aaae6bfb.9ac3d3fa.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/d5d3b7f8adfa5caeedd4f4c3fcef02ed8273523866e0db1ea69bb00824205fad60ada99acae0c4a3515bb95ef788f5993cd20c2e944b4475057ba81006d20401.5c21df74.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/883d83b92b5e94816b4b9c67c1fa3e0c5f423d4989dcf5a93a2b479c5750053261dc68b92f17706b067985f7c4e1fdbeb214bc603b3c55753b8e679cc2c4f938.79d3c9c7.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/c4acaa2e22e5600d22c6c4a8f337dca860ad37d38b3bfa9654d4514b5eb0dade6eb0ad2c845c99330129e86e9ec1938580f3a2484a5e51f90ccab9bee76dd7e2.4c25a8fc.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/254a99fef9cfdc739794cf276a25ffce226b9d17d64789497bbed4935f1fda7d621149894d3a06e546f0e5c53beda2580db0166433ff2fac65397af1aa3627ea.880378e1.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/4c2d4cb3aa3800c60244e5d55d02bfc4eebbab6696edd4438d000cbc20ea5b4d3bba3fd6a7b91c9b11800b6564b7b21e14836dae4629b3279c1d627401ce0ad2.653ce26c.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/ab9e81b50933310631d81e909acad3544ed98f8867576a096fbdf0a1d128ec226d1a7d079957910e4d24c545b12d1374ebb380b8aa620f097dc08ad0587cfc0d.fb41b10d.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/1aa1f923cfda9be3481e3b71f037884b4e8e983a62e1b1187d68e1010e4b09379f10ac3174ec26d482c82a5ce8c4f677c0f367484f8d067f16349cf8d3cd324e.5e837466.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/cd82c7fc4cba90a1139d3809b18946197782e5ccd906d0e9f271e9acbde286ecff33b07a80554abe96176d3bfc184515a7d0aa9b3619f84e4712f05f1b1d36c2.64f717d5.bin"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/683b7d47d2d818dfac5c5c0f13c7e7c71a577c5a4f925037ade55993b7c11033e9895e7e089be4a60143d1a2e573bbe9c30a4c1258d791a6c3d93410fc4aa2f1.82eec470.bin"},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(40),i=n.n(r),o=(n(73),n(5)),l=n(25),u=n(46),s=n.p+"static/media/Resume of Shuai Hao.0189db31.pdf",c=n(4);function d(){return Object(c.jsxs)(u.a,{bg:"dark",variant:"dark",expand:"lg",children:[Object(c.jsx)(u.a.Brand,{href:"#home",children:"Shuai Hao"}),Object(c.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(l.a,{className:"mr-auto",children:[Object(c.jsx)(l.a.Link,{href:s,children:"Resume"}),Object(c.jsx)(l.a.Link,{href:"https://observablehq.com/@haoshuai999/why-i-choose-data-journalism",children:"My Story"}),Object(c.jsx)(l.a.Link,{href:"https://observablehq.com/@shuaihaofzny",children:"Observable"}),Object(c.jsx)(l.a.Link,{href:"https://github.com/haoshuai999",children:"GitHub"}),Object(c.jsx)(l.a.Link,{href:"mailto: shuaihao@outlook.com",children:"Contact"})]})})]})}var f=n(16);function p(e){return Object(c.jsxs)(f.a,{children:[Object(c.jsx)(f.a.Header,{children:e.date}),Object(c.jsxs)(f.a.Body,{children:[e.chart,Object(c.jsx)(f.a.Title,{children:e.title}),Object(c.jsx)(f.a.Text,{children:e.description}),Object(c.jsx)(f.a.Link,{href:e.link,children:"More details"})]})]})}var m=n(61);function v(e){return Object(c.jsx)(m.a,{children:e.data.map((function(e){return Object(c.jsx)(m.a.Item,{id:e.id,children:Object(c.jsx)("img",{className:"d-block w-100",src:n(63)("./"+e.image).default,alt:"Slide"})})}))})}function b(e){return Object(c.jsxs)(f.a,{id:e.id,children:[Object(c.jsx)(f.a.Header,{children:e.date}),e.image&&Object(c.jsx)(f.a.Img,{variant:"top",src:n(63)("./"+e.image).default,alt:"card-image"}),Object(c.jsxs)(f.a.Body,{children:[Object(c.jsx)(f.a.Title,{children:e.title}),Object(c.jsx)(f.a.Text,{children:e.description}),Object(c.jsx)(f.a.Link,{href:e.link,children:"Read More"})]})]})}var h,g,w,y,x,j,k,O,S,A,C,M,P,D,T,z,N,F,G,L,R,B,_,I,E,q,V,U,W,H,Y,X,J,K,Q,Z,$,ee,te,ne,ae,re,ie,oe,le,ue,se,ce,de,fe,pe,me,ve,be,he=n(9),ge=n(1),we=n.n(ge),ye=n(3),xe=n(0);function je(e,t){var a=e.module(),r=new Map([["capstan.gif",n(109).default]]);return a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md","FileAttachment"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=h||(h=Object(xe.a)(['# Inputs\n<div style="margin-top: -3px; font-size: 1.05em;">*a.k.a \u201cThe Grand Native Inputs Bazaar\u201d*</div>\n\n<div style="max-width: 500px; margin: 30px 0; padding: 15px 30px; background-color: #ffffee; font: 700 18px/24px sans-serif;">\u2728 Rejoice! Observable now has <a href="https://observablehq.com/@observablehq/inputs">an official inputs library</a>. If it contains the input you need, you should probably be using that instead of this notebook. \u2728</div>\n\n<img width="350px" src="','" />\n\nA collection of assorted fancy inputs, odds and ends \u2014 with which to produce values to feed your burgeoning sketches. All inputs support optional **titles** and **descriptions**; where it makes sense, inputs also support a **submit** option, which allows you to prevent the value from updating until the input has been finalized.\n\nWares we have on offer: \n  * [`slider`](#sliderDemo)\n  * [`button`](#buttonDemo)\n  * [`select`](#selectDemo)\n  * [`autoSelect`](#autoSelectDemo)\n  * [`color`](#colorDemo)\n  * [`coordinates`](#coordinatesDemo)\n  * [`worldMapCoordinates`](#worldMapCoordinatesDemo)\n  * [`usaMapCoordinates`](#usaMapCoordinatesDemo)\n  * [`date`](#dateDemo)\n  * [`time`](#timeDemo)\n  * [`file`](#fileDemo)\n  * [`text`](#textDemo)\n  * [`textarea`](#textareaDemo)\n  * [`radio`](#radioDemo)\n  * [`checkbox`](#checkboxDemo)\n  * [`number`](#numberDemo)\n  * [`password`](#passwordDemo)'],['# Inputs\n<div style="margin-top: -3px; font-size: 1.05em;">*a.k.a \u201cThe Grand Native Inputs Bazaar\u201d*</div>\n\n<div style="max-width: 500px; margin: 30px 0; padding: 15px 30px; background-color: #ffffee; font: 700 18px/24px sans-serif;">\u2728 Rejoice! Observable now has <a href="https://observablehq.com/@observablehq/inputs">an official inputs library</a>. If it contains the input you need, you should probably be using that instead of this notebook. \u2728</div>\n\n<img width="350px" src="','" />\n\nA collection of assorted fancy inputs, odds and ends \u2014 with which to produce values to feed your burgeoning sketches. All inputs support optional **titles** and **descriptions**; where it makes sense, inputs also support a **submit** option, which allows you to prevent the value from updating until the input has been finalized.\n\nWares we have on offer: \n  * [\\`slider\\`](#sliderDemo)\n  * [\\`button\\`](#buttonDemo)\n  * [\\`select\\`](#selectDemo)\n  * [\\`autoSelect\\`](#autoSelectDemo)\n  * [\\`color\\`](#colorDemo)\n  * [\\`coordinates\\`](#coordinatesDemo)\n  * [\\`worldMapCoordinates\\`](#worldMapCoordinatesDemo)\n  * [\\`usaMapCoordinates\\`](#usaMapCoordinatesDemo)\n  * [\\`date\\`](#dateDemo)\n  * [\\`time\\`](#timeDemo)\n  * [\\`file\\`](#fileDemo)\n  * [\\`text\\`](#textDemo)\n  * [\\`textarea\\`](#textareaDemo)\n  * [\\`radio\\`](#radioDemo)\n  * [\\`checkbox\\`](#checkboxDemo)\n  * [\\`number\\`](#numberDemo)\n  * [\\`password\\`](#passwordDemo)'])),e.next=4,n("capstan.gif").url();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.variable(t()).define(["md"],(function(e){return e(g||(g=Object(xe.a)(["| <h3>Friends & Family:</h3>  |   |\n|---|---|\n| **[@mbostock/form-input](/@mbostock/form-input)**  | Fully custom forms, combining inputs into a single reactive cell. |\n| **[@mbostock/scrubber](/@mbostock/scrubber)** | A slider that automatically plays through its range, useful for driving and scrubbing through animations. |\n| **[@bumbeishvili/input-groups](/@bumbeishvili/input-groups)** | A wrapper function that can put many of these inputs into a more compact grid layout. | \n| **[@zechasault/color-schemes-and-interpolators-picker](/@zechasault/color-schemes-and-interpolators-picker)**  | Color scheme and interpolation pickers. |\n| **[@awhitty/fips-county-code-brush](/@awhitty/fips-county-code-brush)**  | A brushable map of the United States, allowing you to quickly select sets of counties to get their FIPS codes. |\n| **[@mootari/range-slider](https://observablehq.com/@mootari/range-slider)**  |  True range sliders, setting both a minimum and maximum value. |\n| **[@bumbeishvili/data-driven-range-sliders](/@bumbeishvili/data-driven-range-sliders)** | Data-driven range sliders, displaying a distribution histogram of the underlying data. |\n| **[@trebor/snapping-histogram-slider](/@trebor/snapping-histogram-slider)** | Another data-driven range slider option. |\n| **[@mootari\u2019s 2D Slider](https://observablehq.com/d/98bbb19bf9e859ee)** | Two dimensional sliders, exploring discrete points on a plane. |\n| **[@yurivish/ternary-slider](/@yurivish/ternary-slider)** | Nifty ternary plot inputs, describing the percentages of a whole composed of exactly three things. |\n| **[@rreusser/binary-input](/@rreusser/binary-input)** | Input numbers in binary, great for working with values where results vary with specific bit positions. |\n| **[@bartok32/diy-inputs](/@bartok32/diy-inputs)** | A fun tool for defining your own fancy and colorful inputs. |\n| **[@bobkerns/elements-input](/@bobkerns/elements-input)** | A periodic table of the elements input! You can construct molecules programmatically, or click on the table to create formulas. |\n| **[@fil/selectflat](/@fil/selectflat)** | A fast selector to explore a discrete parameter space. The value changes on mouseover, and sticks when you click. |\n| **[@oscar6echo/player](/@oscar6echo/player)** | A slider with buttons to play, pause, step, and change speed and direction \u2014 useful for animations. |\n| **[@harrislapiroff/list-input](/@harrislapiroff/list-input)** | A input for when you want more than one of something. |\n| **[@nhogs/easing-graphs-editor](/@nhogs/easing-graphs-editor)** | A curve input to display and edit values of animated properties over time, such as easing curves and animation curves. |\n| **[@j-f1/checkbox](/@j-f1/checkbox)** | A simple checkbox input that provides a boolean value. |\n\n<br>*If you have any improvements for the bazaar, [please make your change in a fork and send it to me as a suggestion.](https://observablehq.com/@observablehq/suggestions-and-comments)*"])))})),a.variable(t("sliderDemo")).define("sliderDemo",["md"],(function(e){return e(w||(w=Object(xe.a)(['---\n## Sliders\n\n~~~js\nimport {slider} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof a")).define("viewof a",["slider"],(function(e){return e()})),a.variable(t("a")).define("a",["Generators","viewof a"],(function(e,t){return e.input(t)})),a.variable(t("viewof a1")).define("viewof a1",["slider"],(function(e){return e({min:0,max:1,step:.01,format:".0%",description:"Zero to one, formatted as a percentage"})})),a.variable(t("a1")).define("a1",["Generators","viewof a1"],(function(e,t){return e.input(t)})),a.variable(t("viewof a1_1")).define("viewof a1_1",["slider"],(function(e){return e({min:0,max:1,step:.01,format:function(e){return"".concat(Math.round(100*e)," per cent")},description:"Zero to one, formatted with a custom function"})})),a.variable(t("a1_1")).define("a1_1",["Generators","viewof a1_1"],(function(e,t){return e.input(t)})),a.variable(t("viewof a2")).define("viewof a2",["slider"],(function(e){return e({min:0,max:1e9,step:1e3,value:325e4,format:",",description:"Zero to one billion, in steps of one thousand, formatted as a (US) number"})})),a.variable(t("a2")).define("a2",["Generators","viewof a2"],(function(e,t){return e.input(t)})),a.variable(t("viewof a3")).define("viewof a3",["slider"],(function(e){return e({min:0,max:100,step:1,value:10,title:"Integers",description:"Integers from zero through 100"})})),a.variable(t("a3")).define("a3",["Generators","viewof a3"],(function(e,t){return e.input(t)})),a.variable(t("viewof a4")).define("viewof a4",["slider"],(function(e){return e({min:.9,max:1.1,precision:3,description:"A high precision slider example"})})),a.variable(t("a4")).define("a4",["Generators","viewof a4"],(function(e,t){return e.input(t)})),a.variable(t("viewof a5")).define("viewof a5",["slider"],(function(e){return e({min:.9,max:1.1,precision:3,submit:!0,description:"The same as a4, but only changes value on submit"})})),a.variable(t("a5")).define("a5",["Generators","viewof a5"],(function(e,t){return e.input(t)})),a.variable(t()).define(["md"],(function(e){return e(y||(y=Object(xe.a)(["More [fancy slider techniques](https://observablehq.com/@mootari/prime-numbers-slider)."])))})),a.variable(t("slider")).define("slider",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"===typeof t?{value:t}:t,a=n.min,r=void 0===a?0:a,i=n.max,o=void 0===i?1:i,l=n.value,u=void 0===l?(o+r)/2:l,s=n.step,c=void 0===s?"any":s,d=n.precision,f=void 0===d?2:d,p=n.title,m=n.description,v=n.disabled,b=n.getValue,h=n.format,g=n.display,w=n.submit;return f=Math.pow(10,f),b||(b=function(e){return Math.round(e.valueAsNumber*f)/f}),e({type:"range",title:p,description:m,submit:w,format:h,display:g,attributes:{min:r,max:o,step:c,disabled:v,value:u},getValue:b})}})),a.variable(t("buttonDemo")).define("buttonDemo",["md"],(function(e){return e(x||(x=Object(xe.a)(['---\n## Buttons\n\n~~~js\nimport {button} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof b")).define("viewof b",["button"],(function(e){return e()})),a.variable(t("b")).define("b",["Generators","viewof b"],(function(e,t){return e.input(t)})),a.variable(t("viewof b1")).define("viewof b1",["button"],(function(e){return e({value:"Click me",description:"We use a reference to the button below to record the time you pressed it."})})),a.variable(t("b1")).define("b1",["Generators","viewof b1"],(function(e,t){return e.input(t)})),a.variable(t("button")).define("button",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=void 0===a?"Ok":a,i=n.title,o=n.description,l=n.disabled,u=e({type:"button",title:i,description:o,attributes:{disabled:l,value:r}});return u.output.remove(),u}})),a.variable(t("selectDemo")).define("selectDemo",["md"],(function(e){return e(j||(j=Object(xe.a)(['---\n## Dropdown Menus and Multiselects\n\n~~~js\nimport {select} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof dd")).define("viewof dd",["select"],(function(e){return e(["Spring","Summer","Fall","Winter"])})),a.variable(t("dd")).define("dd",["Generators","viewof dd"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd"],(function(e){return e})),a.variable(t("viewof dd1")).define("viewof dd1",["select"],(function(e){return e({title:"Stooges",description:"Please pick your favorite stooge.",options:["Curly","Larry","Moe","Shemp"],value:"Moe"})})),a.variable(t("dd1")).define("dd1",["Generators","viewof dd1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd1"],(function(e){return e})),a.variable(t("viewof dd2")).define("viewof dd2",["select"],(function(e){return e({description:"As a child, which vegetables did you refuse to eat?",options:["Spinach","Broccoli","Brussels Sprouts","Cauliflower","Kale","Turnips","Green Beans","Asparagus"],multiple:!0})})),a.variable(t("dd2")).define("dd2",["Generators","viewof dd2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd2"],(function(e){return e})),a.variable(t("viewof dd3")).define("viewof dd3",["select"],(function(e){var t=e({title:"How are you feeling today?",options:[{label:"\ud83e\udd37",value:"shrug"},{label:"\ud83d\ude02",value:"tears-of-joy"},{label:"\ud83d\ude0d",value:"loving-it"},{label:"\ud83e\udd14",value:"hmmm"},{label:"\ud83d\ude31",value:"yikes",disabled:!0},{label:"\ud83d\ude08",value:"mischievous"},{label:"\ud83d\udca9",value:"poo"}],value:"hmmm"});return t.input.style.fontSize="30px",t.input.style.marginTop="8px",t})),a.variable(t("dd3")).define("dd3",["Generators","viewof dd3"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd3"],(function(e){return e})),a.variable(t("select")).define("select",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.disabled,u=a.submit,s=a.multiple,c=a.size,d=a.options;d=d.map((function(e){return"object"===typeof e?e:{value:e,label:e}}));var f=e({type:"select",title:i,description:o,submit:u,attributes:{disabled:l},getValue:function(e){var t=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return e.value}));return s?t:t[0]},form:t(k||(k=Object(xe.a)(['\n      <form>\n        <select name="input" ',">\n          ","\n        </select>\n      </form>\n    "])),s?'multiple size="'.concat(c||d.length,'"'):"",d.map((function(e){var n=e.value,a=e.label,i=e.disabled;return Object.assign(t(O||(O=Object(xe.a)(["<option>"]))),{value:n,selected:Array.isArray(r)?r.includes(n):r===n,disabled:i||!1,textContent:a})})))});return f.output.remove(),f}})),a.variable(t("autoSelectDemo")).define("autoSelectDemo",["md"],(function(e){return e(S||(S=Object(xe.a)(['---\n## Autoselects\n*A variant of an option menu, using an autocompleting text input, via HTML\u2019s datalist element.* \n\n~~~js\nimport {autoSelect} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof as")).define("viewof as",["autoSelect","usa"],(function(e,t){return e({options:t.objects.states.geometries.map((function(e){return e.properties.name})),placeholder:"Search for a US state . . ."})})),a.variable(t("as")).define("as",["Generators","viewof as"],(function(e,t){return e.input(t)})),a.variable(t()).define(["as"],(function(e){return e})),a.variable(t("autoSelect")).define("autoSelect",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.disabled,u=(a.autocomplete,a.placeholder),s=(a.size,a.options),c=a.list,d=void 0===c?"options":c,f=new Set(s),p=e({type:"text",title:i,description:o,attributes:{disabled:l},action:function(e){e.value=e.input.value=r||"",e.onsubmit=function(e){return e.preventDefault()},e.input.oninput=function(t){t.stopPropagation(),e.value=e.input.value,e.value&&!f.has(e.value)||e.dispatchEvent(new CustomEvent("input"))}},form:t(A||(A=Object(xe.a)(['\n      <form>\n         <input name="input" type="text" autocomplete="off" \n          placeholder="','" style="font-size: 1em;" list=','>\n          <datalist id="','">\n              ',"\n          </datalist>\n      </form>\n      "])),u||"",d,d,s.map((function(e){return Object.assign(t(C||(C=Object(xe.a)(["<option>"]))),{value:e})})))});return p.output.remove(),p}})),a.variable(t("colorDemo")).define("colorDemo",["md"],(function(e){return e(M||(M=Object(xe.a)(['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * `"#bada55"` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'],['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * \\`"#bada55"\\` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof c")).define("viewof c",["color"],(function(e){return e()})),a.variable(t("c")).define("c",["Generators","viewof c"],(function(e,t){return e.input(t)})),a.variable(t("viewof c1")).define("viewof c1",["color"],(function(e){return e({value:"#0000ff",title:"Background Color",description:"This color picker starts out blue"})})),a.variable(t("c1")).define("c1",["Generators","viewof c1"],(function(e,t){return e.input(t)})),a.variable(t("color")).define("color",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=void 0===a?"#000000":a,i=n.title,o=n.description,l=n.disabled,u=n.submit,s=n.display,c=e({type:"color",title:i,description:o,submit:u,display:s,attributes:{disabled:l,value:r}});return c.input.value="",c.input.value=r,(i||o)&&(c.input.style.margin="5px 0"),c}})),a.variable(t("coordinatesDemo")).define("coordinatesDemo",["md"],(function(e){return e(P||(P=Object(xe.a)([' ---\n## Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof coords1")).define("viewof coords1",["coordinates"],(function(e){return e()})),a.variable(t("coords1")).define("coords1",["Generators","viewof coords1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["coords1"],(function(e){return e})),a.variable(t("viewof coords2")).define("viewof coords2",["coordinates"],(function(e){return e({title:"Hometown",description:"Enter the coordinates of where you were born",value:[-122.27,37.87],submit:!0})})),a.variable(t("coords2")).define("coords2",["Generators","viewof coords2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["coords2"],(function(e){return e})),a.variable(t("coordinates")).define("coordinates",["html","input"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{value:n}:n,r=a.value,i=void 0===r?[]:r,l=a.title,u=a.description,s=a.submit,c=Object(o.a)(i,2),d=c[0],f=c[1];d=null!=d?d:"",f=null!=f?f:"";var p=e(D||(D=Object(xe.a)(['<input name="input" type="number" autocomplete="off" min="-180" max="180" style="width: 80px;" step="any" value="','" />'])),d),m=e(T||(T=Object(xe.a)(['<input name="input" type="number" autocomplete="off" min="-90" max="90" style="width: 80px;" step="any" value="','" />'])),f),v=t({type:"coordinates",title:l,description:u,submit:s,getValue:function(){var e=p.valueAsNumber,t=m.valueAsNumber;return[isNaN(e)?null:e,isNaN(t)?null:t]},form:e(z||(z=Object(xe.a)(['\n      <form>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 6px 0 3px;">\n          <span style="display: inline-block; width: 70px;">Longitude:</span>\n          ','\n        </label>\n        <br>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 0 0 6px;">\n          <span style="display: inline-block; width: 70px;">Latitude:</span>\n          ',"\n        </label>\n      </form>\n    "])),p,m)});return v.output.remove(),v}})),a.variable(t("worldMapCoordinatesDemo")).define("worldMapCoordinatesDemo",["md"],(function(e){return e(N||(N=Object(xe.a)([' ---\n## World Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## World Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof worldMap1")).define("viewof worldMap1",["worldMapCoordinates"],(function(e){return e([-122.27,37.87])})),a.variable(t("worldMap1")).define("worldMap1",["Generators","viewof worldMap1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["worldMap1"],(function(e){return e})),a.variable(t("worldMapCoordinates")).define("worldMapCoordinates",["html","DOM","d3geo","graticule","land","countries","input"],(function(e,t,n,a,r,i,l){return function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Array.isArray(u)?{value:u}:u,c=s.value,d=void 0===c?[]:c,f=s.title,p=s.description,m=s.width,v=void 0===m?400:m,b=Math.round(.525*v),h=Object(o.a)(d,2),g=h[0],w=h[1];g=null!=g?g:null,w=null!=w?w:null;var y=e(F||(F=Object(xe.a)(['<form style="width: ','px;"></form>'])),v),x=t.context2d(v,b),j=x.canvas;j.style.margin="10px 0 3px";var k=n.geoNaturalEarth1().precision(.1).fitSize([v,b],{type:"Sphere"}),O=n.geoPath(k,x).pointRadius(2.5);function S(){if(x.fillStyle="#fff",x.fillRect(0,0,v,b),x.beginPath(),O(a),x.lineWidth=.35,x.strokeStyle="#ddd",x.stroke(),x.beginPath(),O(r),x.fillStyle="#f4f4f4",x.fill(),x.beginPath(),O(i),x.strokeStyle="#aaa",x.stroke(),null!=g&&null!=w){var e={type:"MultiPoint",coordinates:[[g,w]]};x.beginPath(),O(e),x.fillStyle="#f00",x.fill()}}y.append(j),j.onclick=function(e){var t=e.offsetX,n=e.offsetY,a=k.invert([t,n]);g=+a[0].toFixed(2),w=+a[1].toFixed(2),S(),j.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},S();var A=l({type:"worldMapCoordinates",title:f,description:p,display:function(t){return e(G||(G=Object(xe.a)(['<div style="width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-bottom: 5px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"])),v,null!=g?g.toFixed(2):"",null!=w?w.toFixed(2):"")},getValue:function(){return[null!=g?g:null,null!=w?w:null]},form:y});return A}})),a.variable(t("usaMapCoordinatesDemo")).define("usaMapCoordinatesDemo",["md"],(function(e){return e(L||(L=Object(xe.a)([' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof usaMap1")).define("viewof usaMap1",["usaMapCoordinates"],(function(e){return e([-122.27,37.87])})),a.variable(t("usaMap1")).define("usaMap1",["Generators","viewof usaMap1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["usaMap1"],(function(e){return e})),a.variable(t("viewof usaMap2")).define("viewof usaMap2",["usaMapCoordinates"],(function(e){return e({title:"A Mini Map",description:"Defaults to New York City",width:200,value:[-74,40.71]})})),a.variable(t("usaMap2")).define("usaMap2",["Generators","viewof usaMap2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["usaMap2"],(function(e){return e})),a.variable(t("usaMapCoordinates")).define("usaMapCoordinates",["html","DOM","d3geo","nation","states","input"],(function(e,t,n,a,r,i){return function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=Array.isArray(l)?{value:l}:l,s=u.value,c=void 0===s?[]:s,d=u.title,f=u.description,p=u.width,m=void 0===p?400:p,v=m/960,b=600*v,h=Object(o.a)(c,2),g=h[0],w=h[1];g=null!=g?g:null,w=null!=w?w:null;var y=e(R||(R=Object(xe.a)(['<form style="width: ','px;"></form>'])),m),x=t.context2d(m,b),j=x.canvas;j.style.margin="5px 0 20px";var k=n.geoAlbersUsa().scale(1280).translate([480,300]),O=n.geoPath().context(x).pointRadius(2.5/v);function S(){if(x.clearRect(0,0,m,b),x.save(),x.scale(v,v),x.lineWidth=.35/v,x.beginPath(),O(a),x.fillStyle="#f4f4f4",x.fill(),x.beginPath(),O(r),x.strokeStyle="#aaa",x.stroke(),null!=g&&null!=w){var e={type:"MultiPoint",coordinates:[k([g,w])]};x.beginPath(),O(e),x.fillStyle="#f00",x.fill()}x.restore()}y.append(j),j.onclick=function(e){var t=e.offsetX,n=e.offsetY,a=k.invert([t/v,n/v]);g=+a[0].toFixed(2),w=+a[1].toFixed(2),S(),j.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},S();var A=i({type:"worldMapCoordinates",title:d,description:f,display:function(t){return e(B||(B=Object(xe.a)(['<div style="position: absolute; width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-top: -18px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"])),m,null!=g?g:"",null!=w?w:"")},getValue:function(){return[null!=g?g:null,null!=w?w:null]},form:y});return A}})),a.variable(t("dateDemo")).define("dateDemo",["md"],(function(e){return e(_||(_=Object(xe.a)([' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * `"2016-11-08"` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'],[' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * \\`"2016-11-08"\\` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof d")).define("viewof d",["date"],(function(e){return e()})),a.variable(t("d")).define("d",["Generators","viewof d"],(function(e,t){return e.input(t)})),a.variable(t("viewof d1")).define("viewof d1",["date"],(function(e){return e({title:"2017",min:"2017-01-01",max:"2017-12-31",value:"2017-01-01",description:"Only dates within the 2017 calendar year are allowed"})})),a.variable(t("d1")).define("d1",["Generators","viewof d1"],(function(e,t){return e.input(t)})),a.variable(t("date")).define("date",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.min,r=n.max,i=n.value,o=n.title,l=n.description,u=n.disabled,s=n.display;return e({type:"date",title:o,description:l,display:s,attributes:{min:a,max:r,disabled:u,value:i}})}})),a.variable(t("timeDemo")).define("timeDemo",["md"],(function(e){return e(I||(I=Object(xe.a)([' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * `"09:30:45"`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'],[' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * \\`"09:30:45"\\`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof t")).define("viewof t",["time"],(function(e){return e()})),a.variable(t("t")).define("t",["Generators","viewof t"],(function(e,t){return e.input(t)})),a.variable(t()).define(["t"],(function(e){return e})),a.variable(t("viewof t1")).define("viewof t1",["time"],(function(e){return e({title:"Afternoon",min:"12:00:00",max:"23:59:59",value:"13:00:00",step:1,description:"Only times after noon are allowed, and seconds are included"})})),a.variable(t("t1")).define("t1",["Generators","viewof t1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["t1"],(function(e){return e})),a.variable(t("time")).define("time",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.min,r=n.max,i=n.step,o=n.value,l=n.title,u=n.description,s=n.disabled,c=n.display,d=e({type:"time",title:l,description:u,display:c,getValue:function(e){return e.value?e.value:void 0},attributes:{min:a,max:r,step:i,disabled:s,value:o}});return d.output.remove(),d}})),a.variable(t("fileDemo")).define("fileDemo",["md"],(function(e){return e(E||(E=Object(xe.a)(['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n`import {file} from "@jashkenas/inputs"`'],['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n\\`import {file} from "@jashkenas/inputs"\\`'])))})),a.variable(t("viewof e")).define("viewof e",["file"],(function(e){return e()})),a.variable(t("e")).define("e",["Generators","viewof e"],(function(e,t){return e.input(t)})),a.variable(t("viewof e1")).define("viewof e1",["file"],(function(e){return e({title:"Photographs",description:"Only .jpg files are allowed in this example. Choose some images, and they\u2019ll appear in the cell below.",accept:".jpg",multiple:!0})})),a.variable(t("e1")).define("e1",["Generators","viewof e1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["html","e1","Files"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a){var r,i,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t(q||(q=Object(xe.a)(["<div>"]))),i=0;case 2:if(!(i<n.length)){e.next=12;break}return n[i],o=t(V||(V=Object(xe.a)(['<img height="125px" style="margin: 2px;" />']))),e.next=7,a.url(n[i]);case 7:o.src=e.sent,r.append(o);case 9:i++,e.next=2;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),a.variable(t("file")).define("file",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.multiple,a=t.accept,r=t.title,i=t.description,o=t.disabled,l=e({type:"file",title:r,description:i,attributes:{multiple:n,accept:a,disabled:o},action:function(e){e.input.onchange=function(){e.value=n?e.input.files:e.input.files[0],e.dispatchEvent(new CustomEvent("input"))}}});return l.output.remove(),l.input.onchange(),l}})),a.variable(t("textDemo")).define("textDemo",["md"],(function(e){return e(U||(U=Object(xe.a)(['---\n## Text Inputs\n\n~~~js\nimport {text} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof f")).define("viewof f",["text"],(function(e){return e()})),a.variable(t("f")).define("f",["Generators","viewof f"],(function(e,t){return e.input(t)})),a.variable(t("viewof f1")).define("viewof f1",["text"],(function(e){return e({title:"A Text Input",placeholder:"Placeholder text",description:"Note that text inputs don\u2019t show output on the right"})})),a.variable(t("f1")).define("f1",["Generators","viewof f1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["f1"],(function(e){return e})),a.variable(t("viewof f2")).define("viewof f2",["text"],(function(e){return e({placeholder:"Placeholder text",description:"This input only changes value on submit",submit:"Go"})})),a.variable(t("f2")).define("f2",["Generators","viewof f2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["f2"],(function(e){return e})),a.variable(t("text")).define("text",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.autocomplete,u=void 0===l?"off":l,s=n.maxlength,c=n.minlength,d=n.pattern,f=n.placeholder,p=n.size,m=n.submit,v=n.getValue,b=e({type:"text",title:r,description:i,submit:m,getValue:v,attributes:{value:a,autocomplete:u,maxlength:s,minlength:c,pattern:d,placeholder:f,size:p,disabled:o}});return b.output.remove(),b.input.style.fontSize="1em",b}})),a.variable(t("textareaDemo")).define("textareaDemo",["md"],(function(e){return e(W||(W=Object(xe.a)(['---\n## Textareas\n\n~~~js\nimport {textarea} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof g")).define("viewof g",["textarea"],(function(e){return e()})),a.variable(t("g")).define("g",["Generators","viewof g"],(function(e,t){return e.input(t)})),a.variable(t()).define(["g"],(function(e){return e})),a.variable(t("viewof g1")).define("viewof g1",["textarea"],(function(e){return e({title:"Your Great American Novel",placeholder:"Insert story here...",spellcheck:!0,width:"100%",rows:10,submit:"Publish"})})),a.variable(t("g1")).define("g1",["Generators","viewof g1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["g1"],(function(e){return e})),a.variable(t("textarea")).define("textarea",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="string"===typeof n?{value:n}:n,r=a.value,i=void 0===r?"":r,o=a.title,l=a.description,u=a.autocomplete,s=a.cols,c=void 0===s?45:s,d=a.rows,f=void 0===d?3:d,p=a.width,m=a.height,v=a.maxlength,b=a.placeholder,h=a.spellcheck,g=a.wrap,w=a.submit,y=a.disabled,x=a.getValue,j=e({form:t(H||(H=Object(xe.a)(['<form><textarea style="display: block; font-size: 0.8em;" name=input>',"</textarea></form>"])),i),title:o,description:l,submit:w,getValue:x,attributes:{autocomplete:u,cols:c,rows:f,maxlength:v,placeholder:b,spellcheck:h,wrap:g,disabled:y}});return j.output.remove(),null!=p&&(j.input.style.width=p),null!=m&&(j.input.style.height=m),w&&(j.submit.style.margin="0"),(o||l)&&(j.input.style.margin="3px 0"),j}})),a.variable(t("radioDemo")).define("radioDemo",["md"],(function(e){return e(Y||(Y=Object(xe.a)(['---\n## Radio Buttons\n\n~~~js\nimport {radio} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof r")).define("viewof r",["radio"],(function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])})),a.variable(t("r")).define("r",["Generators","viewof r"],(function(e,t){return e.input(t)})),a.variable(t()).define(["r"],(function(e){return e})),a.variable(t("viewof r1")).define("viewof r1",["radio"],(function(e){return e({title:"Contact Us",description:"Please select your preferred contact method",options:[{label:"By Email",value:"email"},{label:"By Phone",value:"phone"},{label:"By Pager",value:"pager"}],value:"pager"})})),a.variable(t("r1")).define("r1",["Generators","viewof r1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["r1"],(function(e){return e})),a.variable(t("radio")).define("radio",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.submit,u=a.options,s=a.disabled;u=u.map((function(e){return"string"===typeof e?{value:e,label:e}:e}));var c=e({type:"radio",title:i,description:o,submit:l,getValue:function(e){if(e.checked)return e.value;var t=Array.prototype.find.call(e,(function(e){return e.checked}));return t?t.value:void 0},form:t(X||(X=Object(xe.a)(["\n      <form>\n        ","\n      </form>\n    "])),u.map((function(e,n){var a=e.value,i=e.label,o=t(J||(J=Object(xe.a)(["<input type=radio name=input ",' style="vertical-align: top; ','" />'])),a===r?"checked":"",0===n?"margin-left: 1px;":"");return o.setAttribute("value",a),s&&o.setAttribute("value",s),t(K||(K=Object(xe.a)(['\n          <label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"])),o,i)})))});return c.output.remove(),c}})),a.variable(t("checkboxDemo")).define("checkboxDemo",["md"],(function(e){return e(Q||(Q=Object(xe.a)(['---\n## Checkboxes\n\n~~~js\nimport {checkbox} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof ch")).define("viewof ch",["checkbox"],(function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])})),a.variable(t("ch")).define("ch",["Generators","viewof ch"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch"],(function(e){return e})),a.variable(t("viewof ch1")).define("viewof ch1",["checkbox"],(function(e){return e({title:"Colors",description:"Please select your favorite colors",options:[{value:"r",label:"Red"},{value:"o",label:"Orange"},{value:"y",label:"Yellow"},{value:"g",label:"Green"},{value:"b",label:"Blue"},{value:"i",label:"Indigo"},{value:"v",label:"Violet"}],value:["r","g","b"],submit:!0})})),a.variable(t("ch1")).define("ch1",["Generators","viewof ch1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch1"],(function(e){return e})),a.variable(t("viewof ch3")).define("viewof ch3",["checkbox"],(function(e){return e({description:"Just a single checkbox to toggle",options:[{value:"toggle",label:"On"}],value:"toggle"})})),a.variable(t("ch3")).define("ch3",["Generators","viewof ch3"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch3"],(function(e){return e})),a.variable(t("checkbox")).define("checkbox",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.submit,u=a.disabled,s=a.options;s=s.map((function(e){return"string"===typeof e?{value:e,label:e}:e}));var c=e({type:"checkbox",title:i,description:o,submit:l,getValue:function(e){return e.length?Array.prototype.filter.call(e,(function(e){return e.checked})).map((function(e){return e.value})):!!e.checked&&e.value},form:t(Z||(Z=Object(xe.a)(["\n      <form>\n        ","\n      </form>\n    "])),s.map((function(e,n){var a=e.value,i=e.label,o=t($||($=Object(xe.a)(["<input type=checkbox name=input ",' style="vertical-align: top; ','" />'])),(r||[]).indexOf(a)>-1?"checked":"",0===n?"margin-left: 1px;":"");return o.setAttribute("value",a),u&&o.setAttribute("disabled",u),t(ee||(ee=Object(xe.a)(['<label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"])),o,i)})))});return c.output.remove(),c}})),a.variable(t("numberDemo")).define("numberDemo",["md"],(function(e){return e(te||(te=Object(xe.a)(['---\n## Numbers\n\n~~~js\nimport {number} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof h")).define("viewof h",["number"],(function(e){return e()})),a.variable(t("h")).define("h",["Generators","viewof h"],(function(e,t){return e.input(t)})),a.variable(t()).define(["h"],(function(e){return e})),a.variable(t("viewof h1")).define("viewof h1",["number"],(function(e){return e({placeholder:"13+",title:"Your Age",submit:!0})})),a.variable(t("h1")).define("h1",["Generators","viewof h1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["h1"],(function(e){return e})),a.variable(t("number")).define("number",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"===typeof t||"string"===typeof t?{value:+t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.placeholder,u=n.submit,s=n.step,c=void 0===s?"any":s,d=n.min,f=n.max,p=e({type:"number",title:r,description:i,submit:u,attributes:{value:a,placeholder:l,step:c,min:d,max:f,autocomplete:"off",disabled:o},getValue:function(e){return e.valueAsNumber}});return p.output.remove(),p.input.style.width="auto",p.input.style.fontSize="1em",p}})),a.variable(t("passwordDemo")).define("passwordDemo",["md"],(function(e){return e(ne||(ne=Object(xe.a)(['---\n## Passwords\n\n~~~js\nimport {password} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof i")).define("viewof i",["password"],(function(e){return e({value:"password"})})),a.variable(t("i")).define("i",["Generators","viewof i"],(function(e,t){return e.input(t)})),a.variable(t()).define(["i"],(function(e){return e})),a.variable(t("viewof i1")).define("viewof i1",["password"],(function(e){return e({title:"Your super secret password",description:"Less than 12 characters, please.",minlength:6,maxlength:12})})),a.variable(t("i1")).define("i1",["Generators","viewof i1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["i1"],(function(e){return e})),a.variable(t("password")).define("password",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.autocomplete,u=void 0===l?"off":l,s=n.maxlength,c=n.minlength,d=n.pattern,f=n.placeholder,p=n.size,m=n.submit,v=e({type:"password",title:r,description:i,submit:m,attributes:{value:a,autocomplete:u,maxlength:s,minlength:c,pattern:d,placeholder:f,size:p,disabled:o}});return v.output.remove(),v.input.style.fontSize="1em",v}})),a.variable(t()).define(["md"],(function(e){return e(ae||(ae=Object(xe.a)(["---\n## Wishlist (Send suggestions, please!)\n\n* 3D coordinate input (for say, positioning a camera in a WebGL sketch)\n* Geocoder search with location autocomplete that returns longitude and latitude.\n* Degrees or radians input, for circular things, or angles.\n* A dimensions input, or a box-model input, with margin (and optionally, padding).\n* A map-projection-picker input, rendering little thumbnails of all the d3-geo-projections.\n* Drag and drop file upload input.\n* Alternative coordinate inputs, e.g. Right Ascension, Declination.\n* Other useful formatting options.\n\n---"])))})),a.variable(t("input")).define("input",["html","d3format"],(function(e,t){return function(n){var a=n.form,r=n.type,i=void 0===r?"text":r,o=n.attributes,l=void 0===o?{}:o,u=n.action,s=n.getValue,c=n.title,d=n.description,f=n.format,p=n.display,m=n.submit,v=(n.options,e(re||(re=Object(xe.a)(["<div></div>"]))));if(a||(a=e(ie||(ie=Object(xe.a)(["<form>\n\t<input name=input type="," />\n  </form>"])),i)),Object.keys(l).forEach((function(e){var t=l[e];null!=t&&a.input.setAttribute(e,t)})),m&&a.append(e(oe||(oe=Object(xe.a)(['<input name=submit type=submit style="margin: 0 0.75em" value="','" />'])),"string"==typeof m?m:"Submit")),a.append(e(le||(le=Object(xe.a)(['<output name=output style="font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;"></output>'])))),c&&a.prepend(e(ue||(ue=Object(xe.a)(['<div style="font: 700 0.9rem sans-serif; margin-bottom: 3px;">',"</div>"])),c)),d&&a.append(e(se||(se=Object(xe.a)(['<div style="font-size: 0.85rem; font-style: italic; margin-top: 3px;">',"</div>"])),d)),f&&(f="function"===typeof f?f:t.format(f)),u)u(a);else{var b=m?"onsubmit":"button"==i?"onclick":"checkbox"==i||"radio"==i?"onchange":"oninput";a[b]=function(e){e&&e.preventDefault();var t=s?s(a.input):a.input.value;if(a.output){var n=p?p(t):f?f(t):t;if(n instanceof window.Element){for(;a.output.hasChildNodes();)a.output.removeChild(a.output.lastChild);a.output.append(n)}else a.output.value=n}a.value=t,"oninput"!==b&&a.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},"oninput"!==b&&(v.oninput=function(e){return e&&e.stopPropagation()&&e.preventDefault()}),"onsubmit"!==b&&(a.onsubmit=function(e){return e&&e.preventDefault()}),a[b]()}for(;a.childNodes.length;)v.appendChild(a.childNodes[0]);return a.append(v),a}})),a.variable(t("d3geo")).define("d3geo",["require"],(function(e){return e("d3-geo@1")})),a.variable(t("d3format")).define("d3format",["require"],(function(e){return e("d3-format@1")})),a.variable(t("topojson")).define("topojson",["require"],(function(e){return e("topojson-client@3")})),a.variable(t("world")).define("world",Object(ye.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/world-atlas@1/world/110m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))),a.variable(t("land")).define("land",["topojson","world"],(function(e,t){return e.feature(t,t.objects.land)})),a.variable(t("countries")).define("countries",["topojson","world"],(function(e,t){return e.feature(t,t.objects.countries)})),a.variable(t("usa")).define("usa",Object(ye.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/us-atlas@^2.1/us/states-10m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))),a.variable(t("nation")).define("nation",["topojson","usa"],(function(e,t){return e.feature(t,t.objects.nation)})),a.variable(t("states")).define("states",["topojson","usa"],(function(e,t){return e.feature(t,t.objects.states)})),a.variable(t("graticule")).define("graticule",["d3geo"],(function(e){return e.geoGraticule10()})),a.variable(t("viewof license")).define("viewof license",["md"],(function(e){var t=e(ce||(ce=Object(xe.a)(["License: [MIT](https://opensource.org/licenses/MIT)"])));return t.value="MIT",t})),a.variable(t("license")).define("license",["Generators","viewof license"],(function(e,t){return e.input(t)})),a.variable(t()).define(["md"],(function(e){return e(de||(de=Object(xe.a)(["*Clip art courtesy [ClipArt ETC](https://etc.usf.edu/clipart/), radio buttons and checkboxes courtesy [Amit Sch](https://observablehq.com/@meetamit/multiple-choice-inputs).*"])))})),a}function ke(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(fe||(fe=Object(xe.a)(["# SVG swatches\n\nAn alternative to [Mike Bostock's HTML swatches](https://observablehq.com/@d3/color-legend#swatches). This approach uses [`getBBox`](https://developer.mozilla.org/en-US/docs/Web/API/SVGGraphicsElement/getBBox) to compute label length. It can't yet handle multiple rows."],["# SVG swatches\n\nAn alternative to [Mike Bostock's HTML swatches](https://observablehq.com/@d3/color-legend#swatches). This approach uses [\\`getBBox\\`](https://developer.mozilla.org/en-US/docs/Web/API/SVGGraphicsElement/getBBox) to compute label length. It can't yet handle multiple rows."])))})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({colour:t.scaleOrdinal(["<10","10-19","20-29","30-39","40-49","50-59","60-69","70-79","\u226580"],t.schemeSpectral[10])})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({colour:t.scaleOrdinal(["blueberries with redundant text","oranges with redundant text","apples with redundant text"],t.schemeCategory10),labelFormat:function(e){return e.replace("with redundant text","")}})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({colour:t.scaleOrdinal(["One really big label","And another"],["gold","slateblue"]),swatchRadius:20,labelFont:"italic 40px serif"})})),n.variable(t()).define(["md"],(function(e){return e(pe||(pe=Object(xe.a)(["---\n\n## Implementation"])))})),n.variable(t("swatches")).define("swatches",["getLabelLength","d3"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.colour,r=n.swatchRadius,i=void 0===r?6:r,o=n.swatchPadding,l=void 0===o?i*(2/3):o,u=n.labelFont,s=void 0===u?"12px sans-serif":u,c=n.labelFormat,d=void 0===c?function(e){return e}:c,f=n.labelPadding,p=void 0===f?1.5*i:f,m=n.marginLeft,v=void 0===m?0:m,b=a.domain().map((function(e){return d(e)})).map((function(t){return e(t,s)+2*i+l+p})).map((function(e,n,a){return t.cumsum(a)[n]+v})),h=t.max(b),g=2*i+2*l,w=t.create("svg").attr("width",h).attr("height",g).attr("viewBox",[0,0,h,g]).style("overflow","visible").style("display","block"),y=w.append("g").attr("transform","translate(0, ".concat(g/2,")")).selectAll("g").data(a.domain()).join("g").attr("transform",(function(e,t){return"translate(".concat(b[t-1]||v,", 0)")}));return y.append("circle").attr("fill",a).attr("r",i).attr("cx",i).attr("cy",0),y.append("text").attr("x",2*i+l).attr("y",0).attr("dominant-baseline","central").style("font",s).text((function(e){return d(e)})),w.node()}})),n.variable(t("getLabelLength")).define("getLabelLength",["DOM","html"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"12px sans-serif",r=e.uid("label").id,i=t(me||(me=Object(xe.a)(["<svg>\n    <style> ."," { font: "," } </style>\n    <g id=",'>\n      <text class="','">',"</text>\n    </g>\n  </svg>"])),r,a,r,r,e.text(n));document.body.appendChild(i);var o=i.getElementById(r).getBBox().width;return document.body.removeChild(i),o}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@5","d3-array@2.4")})),n}function Oe(e,t){var n=e.module();return n.variable(t()).define(["DOM","button","data","md"],(function(e,t,n,a){var r=e.element("div"),i=t(n,"fips.csv"),o=t(n,"fips.json"),l=a(ve||(ve=Object(xe.a)(["# Download data button\n\nThe <code>button</code> function takes two positional arguments:\n\n1. **Required** - An array of the data to download as a CSV or a JSON file\n2. The name of the file to be downloaded, defaults to <code>data.csv</code>\n\nFor example, this code will create the following button\n<code><pre>\nbutton(data, 'fips.csv')\n</pre></code>\n"]))),u=a(be||(be=Object(xe.a)(["And if you use a filename that ends in <code>.json</code>, then the button will download a JSON document instead of a CSV.\n\n<code><pre>\nbutton(data, 'fips.json')\n</pre></code>"])));return r.appendChild(l),r.appendChild(i),r.appendChild(u),r.appendChild(o),r})),n.variable(t("data")).define("data",(function(){return[{fips:"01",abbreviation:"AL",name:"Alabama"},{fips:"02",abbreviation:"AK",name:"Alaska"},{fips:"03",abbreviation:"AS",name:"American Samoa"},{fips:"04",abbreviation:"AZ",name:"Arizona"},{fips:"05",abbreviation:"AR",name:"Arkansas"},{fips:"06",abbreviation:"CA",name:"California"},{fips:"07",abbreviation:"CZ",name:"Canal Zone"},{fips:"08",abbreviation:"CO",name:"Colorado"},{fips:"09",abbreviation:"CT",name:"Connecticut"},{fips:"10",abbreviation:"DE",name:"Delaware"},{fips:"11",abbreviation:"DC",name:"District Of Columbia"},{fips:"12",abbreviation:"FL",name:"Florida"},{fips:"13",abbreviation:"GA",name:"Georgia"},{fips:"14",abbreviation:"GU",name:"Guam"},{fips:"15",abbreviation:"HI",name:"Hawaii"},{fips:"16",abbreviation:"ID",name:"Idaho"},{fips:"17",abbreviation:"IL",name:"Illinois"},{fips:"18",abbreviation:"IN",name:"Indiana"},{fips:"19",abbreviation:"IA",name:"Iowa"},{fips:"20",abbreviation:"KS",name:"Kansas"},{fips:"21",abbreviation:"KY",name:"Kentucky"},{fips:"22",abbreviation:"LA",name:"Louisiana"},{fips:"23",abbreviation:"ME",name:"Maine"},{fips:"24",abbreviation:"MD",name:"Maryland"},{fips:"25",abbreviation:"MA",name:"Massachusetts"},{fips:"26",abbreviation:"MI",name:"Michigan"},{fips:"27",abbreviation:"MN",name:"Minnesota"},{fips:"28",abbreviation:"MS",name:"Mississippi"},{fips:"29",abbreviation:"MO",name:"Missouri"},{fips:"30",abbreviation:"MT",name:"Montana"},{fips:"31",abbreviation:"NE",name:"Nebraska"},{fips:"32",abbreviation:"NV",name:"Nevada"},{fips:"33",abbreviation:"NH",name:"New Hampshire"},{fips:"34",abbreviation:"NJ",name:"New Jersey"},{fips:"35",abbreviation:"NM",name:"New Mexico"},{fips:"36",abbreviation:"NY",name:"New York"},{fips:"37",abbreviation:"NC",name:"North Carolina"},{fips:"38",abbreviation:"ND",name:"North Dakota"},{fips:"39",abbreviation:"OH",name:"Ohio"},{fips:"40",abbreviation:"OK",name:"Oklahoma"},{fips:"41",abbreviation:"OR",name:"Oregon"},{fips:"42",abbreviation:"PA",name:"Pennsylvania"},{fips:"43",abbreviation:"PR",name:"Puerto Rico"},{fips:"44",abbreviation:"RI",name:"Rhode Island"},{fips:"45",abbreviation:"SC",name:"South Carolina"},{fips:"46",abbreviation:"SD",name:"South Dakota"},{fips:"47",abbreviation:"TN",name:"Tennessee"},{fips:"48",abbreviation:"TX",name:"Texas"},{fips:"49",abbreviation:"UT",name:"Utah"},{fips:"50",abbreviation:"VT",name:"Vermont"},{fips:"51",abbreviation:"VA",name:"Virginia"},{fips:"52",abbreviation:"VI",name:"Virgin Islands"},{fips:"53",abbreviation:"WA",name:"Washington"},{fips:"54",abbreviation:"WV",name:"West Virginia"},{fips:"55",abbreviation:"WI",name:"Wisconsin"},{fips:"56",abbreviation:"WY",name:"Wyoming"}]})),n.variable(t("button")).define("button",["d3","DOM"],(function(e,t){return function(n){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.csv";if(!n)throw new Error("Array of data required as first argument");var i=((a=r.includes(".csv")?new Blob([e.csvFormat(n)],{type:"text/csv"}):new Blob([JSON.stringify(n,null,2)],{type:"application/json"})).size/1024).toFixed(0),o=t.download(a,r,"Download ".concat(r," (~").concat(i," KB)"));return o}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3")})),n}var Se,Ae,Ce,Me,Pe,De,Te,ze,Ne,Fe,Ge,Le,Re,Be,_e,Ie,Ee,qe,Ve,Ue,We,He,Ye,Xe,Je,Ke,Qe,Ze,$e,et,tt,nt,at,rt,it,ot,lt,ut,st,ct,dt=n(10);function ft(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(Se||(Se=Object(xe.a)(['# Color Legend\n\nA simple legend for a [color scale](/@d3/color-schemes). Supports [continuous](/@d3/continuous-scales), [sequential](/@d3/sequential-scales), [diverging](/@d3/diverging-scales), [quantize, quantile, threshold](/@d3/quantile-quantize-and-threshold-scales) and [ordinal](/@d3/d3-scaleordinal) scales. To use:\n\n~~~js\nimport {legend, swatches} from "@d3/color-legend"\n~~~\n\nThen call the legend function as shown below. (For ordinal scales, also consider the swatches function.)'])))})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequential([0,100],t.interpolateViridis),title:"Temperature (\xb0F)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialSqrt([0,1],t.interpolateTurbo),title:"Speed (kts)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDiverging([-.1,0,.1],t.interpolatePiYG),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDivergingSqrt([-.1,0,.1],t.interpolateRdBu),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialLog([1,100],t.interpolateBlues),title:"Energy (joules)",ticks:10,tickFormat:".0s"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialQuantile(Array.from({length:100},(function(){return Math.pow(Math.random(),2)})),t.interpolateBlues),title:"Quantile",tickFormat:".2f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSqrt([-100,0,100],["blue","white","red"]),title:"Temperature (\xb0C)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantize([1,10],t.schemePurples[9]),title:"Unemployment rate (%)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantile(t.range(1e3).map(t.randomNormal(100,20)),t.schemeSpectral[9]),title:"Height (cm)",tickFormat:".0f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleThreshold([2.5,3.1,3.5,3.9,6,7,8,9.5],t.schemeRdBu[9]),title:"Unemployment rate (%)",tickSize:0})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleOrdinal(["<10","10-19","20-29","30-39","40-49","50-59","60-69","70-79","\u226580"],t.schemeSpectral[10]),title:"Age (years)",tickSize:0})})),n.variable(t()).define(["md"],(function(e){return e(Ae||(Ae=Object(xe.a)(["But wait, there\u2019s more!\n\nHow about swatches for ordinal color scales? Both variable-width swatches and [column layout](https://developer.mozilla.org/en-US/docs/Web/CSS/columns) are supported."])))})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["blueberries","oranges","apples"],t.schemeCategory10)})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["Wholesale and Retail Trade","Manufacturing","Leisure and hospitality","Business services","Construction","Education and Health","Government","Finance","Self-employed","Other"],t.schemeTableau10),columns:"180px"})})),n.variable(t()).define(["md"],(function(e){return e(Ce||(Ce=Object(xe.a)(["---\n\n## Implementation"])))})),n.variable(t("legend")).define("legend",["d3","ramp"],(function(e,t){return function(){var n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.color,i=a.title,o=a.tickSize,l=void 0===o?6:o,u=a.width,s=void 0===u?320:u,c=a.height,d=void 0===c?44+l:c,f=a.marginTop,p=void 0===f?18:f,m=a.marginRight,v=void 0===m?0:m,b=a.marginBottom,h=void 0===b?16+l:b,g=a.marginLeft,w=void 0===g?0:g,y=a.ticks,x=void 0===y?s/64:y,j=a.tickFormat,k=a.tickValues,O=e.create("svg").attr("width",s).attr("height",d).attr("viewBox",[0,0,s,d]).style("overflow","visible").style("display","block"),S=function(e){return e.selectAll(".tick line").attr("y1",p+h-d)};if(r.interpolate){var A=Math.min(r.domain().length,r.range().length);n=r.copy().rangeRound(e.quantize(e.interpolate(w,s-v),A)),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.copy().domain(e.quantize(e.interpolate(0,1),A))).toDataURL())}else if(r.interpolator){if(n=Object.assign(r.copy().interpolator(e.interpolateRound(w,s-v)),{range:function(){return[w,s-v]}}),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.interpolator()).toDataURL()),!n.ticks){if(void 0===k){var C=Math.round(x+1);k=e.range(C).map((function(t){return e.quantile(r.domain(),t/(C-1))}))}"function"!==typeof j&&(j=e.format(void 0===j?",f":j))}}else if(r.invertExtent){var M=r.thresholds?r.thresholds():r.quantiles?r.quantiles():r.domain(),P=void 0===j?function(e){return e}:"string"===typeof j?e.format(j):j;n=e.scaleLinear().domain([-1,r.range().length-1]).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.range()).join("rect").attr("x",(function(e,t){return n(t-1)})).attr("y",p).attr("width",(function(e,t){return n(t)-n(t-1)})).attr("height",d-p-h).attr("fill",(function(e){return e})),k=e.range(M.length),j=function(e){return P(M[e],e)}}else n=e.scaleBand().domain(r.domain()).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.domain()).join("rect").attr("x",n).attr("y",p).attr("width",Math.max(0,n.bandwidth()-1)).attr("height",d-p-h).attr("fill",r),S=function(){};return O.append("g").attr("transform","translate(0,".concat(d-h,")")).call(e.axisBottom(n).ticks(x,"string"===typeof j?j:void 0).tickFormat("function"===typeof j?j:void 0).tickSize(l).tickValues(k)).call(S).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.append("text").attr("x",w).attr("y",p+h-d-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)})),O.node()}})),n.variable(t("swatches")).define("swatches",["DOM","html","entity"],(function(e,t,n){return function(a){var r=a.color,i=a.columns,o=void 0===i?null:i,l=a.format,u=void 0===l?function(e){return e}:l,s=a.swatchSize,c=void 0===s?15:s,d=a.swatchWidth,f=void 0===d?c:d,p=a.swatchHeight,m=void 0===p?c:p,v=a.marginLeft,b=void 0===v?0:v,h=e.uid().id;return null!==o?t(Me||(Me=Object(xe.a)(['<div style="display: flex; align-items: center; margin-left: ','px; min-height: 33px; font: 10px sans-serif;">\n  <style>\n\n.',"-item {\n  break-inside: avoid;\n  display: flex;\n  align-items: center;\n  padding-bottom: 1px;\n}\n\n.","-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: calc(100% - ","px - 0.5em);\n}\n\n.","-swatch {\n  width: ","px;\n  height: ",'px;\n  margin: 0 0.5em 0 0;\n}\n\n  </style>\n  <div style="width: 100%; columns: ',';">',"\n  </div>\n</div>"])),+b,h,h,+f,h,+f,+m,o,r.domain().map((function(e){var a=u(e);return t(Pe||(Pe=Object(xe.a)(['<div class="','-item">\n      <div class="','-swatch" style="background:',';"></div>\n      <div class="','-label" title="','">',"</div>\n    </div>"])),h,h,r(e),h,a.replace(/["&]/g,n),document.createTextNode(a))}))):t(De||(De=Object(xe.a)(['<div style="display: flex; align-items: center; min-height: 33px; margin-left: ','px; font: 10px sans-serif;">\n  <style>\n\n.'," {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}\n\n.",'::before {\n  content: "";\n  width: ',"px;\n  height: ","px;\n  margin-right: 0.5em;\n  background: var(--color);\n}\n\n  </style>\n  <div>","</div>"])),+b,h,h,+f,+m,r.domain().map((function(e){return t(Te||(Te=Object(xe.a)(['<span class="','" style="--color: ','">',"</span>"])),h,r(e),document.createTextNode(u(e)))})))}})),n.variable(t("entity")).define("entity",(function(){return function(e){return"&#".concat(e.charCodeAt(0).toString(),";")}})),n.variable(t("ramp")).define("ramp",["DOM"],(function(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=e.canvas(n,1),r=a.getContext("2d"),i=0;i<n;++i)r.fillStyle=t(i/(n-1)),r.fillRect(i,0,1,1);return a}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),n}function pt(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(ze||(ze=Object(xe.a)(["# Contours\n\nShowing the [Goldstein\u2013Price test function](https://en.wikipedia.org/wiki/Test_functions_for_optimization)."])))})),n.variable(t("value")).define("value",(function(){return function(e,t){return(1+Math.pow(e+t+1,2)*(19-14*e+3*Math.pow(e,2)-14*t+6*e*t+3*Math.pow(t,2)))*(30+Math.pow(2*e-3*t,2)*(18-32*e+12*e*e+48*t-36*e*t+27*Math.pow(t,2)))}})),n.variable(t()).define(["legend","color"],(function(e,t){return e({color:t,title:"Value",tickFormat:","})})),n.variable(t("chart")).define("chart",["d3","width","height","contours","color","xAxis","yAxis"],(function(e,t,n,a,r,i,o){var l=e.create("svg").attr("viewBox",[0,0,t+28,n]).style("display","block").style("margin","0 -14px").style("width","calc(100% + 28px)");return l.append("g").attr("fill","none").attr("stroke","#fff").attr("stroke-opacity",.5).selectAll("path").data(a).join("path").attr("fill",(function(e){return r(e.value)})).attr("d",e.geoPath()),l.append("g").call(i),l.append("g").call(o),l.node()})),n.variable(t("color")).define("color",["d3","thresholds"],(function(e,t){return e.scaleSequentialLog(e.extent(t),e.interpolateMagma)})),n.variable(t("thresholds")).define("thresholds",["d3"],(function(e){return e.range(1,20).map((function(e){return Math.pow(2,e)}))})),n.variable(t("grid")).define("grid",["width","height","value","x","y"],(function(e,t,n,a,r){for(var i=e+28+4,o=t+4,l=Math.ceil((i- -2)/4),u=Math.ceil((o- -2)/4),s=new Array(l*u),c=0;c<u;++c)for(var d=0;d<l;++d)s[c*l+d]=n(a.invert(4*d-2),r.invert(4*c-2));return s.x=-4,s.y=-4,s.k=4,s.n=l,s.m=u,s})),n.variable(t("transform")).define("transform",["grid"],(function(e){return function(t){return{type:t.type,value:t.value,coordinates:t.coordinates.map((function(t){return t.map((function(t){return t.map((function(t){var n=Object(o.a)(t,2),a=n[0],r=n[1];return[e.x+e.k*a,e.y+e.k*r]}))}))}))}}})),n.variable(t("contours")).define("contours",["d3","grid","thresholds","transform"],(function(e,t,n,a){return e.contours().size([t.n,t.m]).thresholds(n)(t).map(a)})),n.variable(t("x")).define("x",["d3","width"],(function(e,t){return e.scaleLinear([-2,2],[0,t+28])})),n.variable(t("y")).define("y",["d3","height"],(function(e,t){return e.scaleLinear([-2,1],[t,0])})),n.variable(t("xAxis")).define("xAxis",["height","d3","x","width"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(0,".concat(e,")")).call(t.axisTop(n).ticks(a/e*10)).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick").filter((function(e){return n.domain().includes(e)})).remove()}))}})),n.variable(t("yAxis")).define("yAxis",["d3","y"],(function(e,t){return function(n){return n.attr("transform","translate(-1,0)").call(e.axisRight(t)).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick").filter((function(e){return t.domain().includes(e)})).remove()}))}})),n.variable(t("height")).define("height",(function(){return 600})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")}));var a=e.module(ft);return n.import("legend",a),n}function mt(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(Ne||(Ne=Object(xe.a)(['# Saving SVG\n\n<figure style="display:flex;padding:10px;background:#fefedd;color:#444;font:15px/22px var(--sans-serif);">\n<div style="margin:10px;"><b>Update:</b> Saving SVG is now built-in! Open the cell menu <svg viewBox="0 0 8 14" fill="currentColor" stroke="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="8" height="14"><circle r="1.5" cx="4" cy="2"></circle><circle r="1.5" cx="4" cy="7"></circle><circle r="1.5" cx="4" cy="12"></circle></svg> in the left margin to download any SVG cell as either SVG or PNG.</div>\n<div><img src="https://user-images.githubusercontent.com/4732/57958244-0ed81780-78b4-11e9-859d-bc68cc4f45b6.png"></div>\n</figure>\n\nSay we have a dynamically-generated SVG, like this contour plot. Here\u2019s how might you save it to a file in Observable using DOM.download.'])))}));var a=e.module(pt);return n.import("chart",a),n.variable(t()).define(["chart"],(function(e){return e})),n.variable(t()).define(["md"],(function(e){return e(Fe||(Fe=Object(xe.a)(["You can serialize the SVG element as a string, and then download it as an SVG file."])))})),n.variable(t()).define(["DOM","serialize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as SVG")})),n.variable(t("serialize")).define("serialize",["NodeFilter"],(function(e){var t="http://www.w3.org/2000/xmlns/";return function(n){n=n.cloneNode(!0);for(var a=window.location.href+"#",r=document.createTreeWalker(n,e.SHOW_ELEMENT);r.nextNode();){var i,o=Object(dt.a)(r.currentNode.attributes);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.value.includes(a)&&(l.value=l.value.replace(a,"#"))}}catch(s){o.e(s)}finally{o.f()}}n.setAttributeNS(t,"xmlns","http://www.w3.org/2000/svg"),n.setAttributeNS(t,"xmlns:xlink","http://www.w3.org/1999/xlink");var u=(new window.XMLSerializer).serializeToString(n);return new Blob([u],{type:"image/svg+xml"})}})),n.variable(t()).define(["md"],(function(e){return e(Ge||(Ge=Object(xe.a)(["Alternatively, you can render the SVG to a canvas to generate a PNG."])))})),n.variable(t()).define(["DOM","rasterize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as PNG")})),n.variable(t("rasterize")).define("rasterize",["DOM","serialize"],(function(e,t){return function(n){var a,r,i=new Promise((function(e,t){return a=e,r=t})),o=new Image;return o.onerror=r,o.onload=function(){var t=n.getBoundingClientRect(),r=e.context2d(t.width,t.height);r.drawImage(o,0,0,t.width,t.height),r.canvas.toBlob(a)},o.src=URL.createObjectURL(t(n)),i}})),n.variable(t()).define(["md"],(function(e){return e(Le||(Le=Object(xe.a)(['To use this in your own notebook, import from this notebook:\n\n```js\nimport {rasterize} from "@mbostock/saving-svg"\n```\n\nHappy downloading!'],['To use this in your own notebook, import from this notebook:\n\n\\`\\`\\`js\nimport {rasterize} from "@mbostock/saving-svg"\n\\`\\`\\`\n\nHappy downloading!'])))})),n}function vt(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(Re||(Re=Object(xe.a)(["\n# Embedding Fonts Into An SVG\n\nThis notebook demonstrates how to embed fonts (or other external resources) into an SVG.  \nNote that this example uses a TrueType font to maximize compatibility. If you only want to rasterize the SVG inside the browser then WOFF/WOFF 2.0 will work just as well.\n"])))})),n.variable(t("svg_embed")).define("svg_embed",["svg","toDataURL"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Be||(Be=Object(xe.a)(["<svg width=300 height=200 xmlns=\"http://www.w3.org/2000/svg\">\n  <style>\n    @font-face {\n      font-family: 'Pacifico';\n      font-style: normal;\n      font-weight: 400;\n      src: url(",") format('woff'), url(",") format('truetype');\n    }\n    rect { fill: lightsalmon }\n    text {\n      font-size: 40px;\n      font-family: Pacifico;\n      fill: black;\n    }\n  </style>\n  <rect x=0 y=0 width=300 height=200 />\n  <text x=35 y=100>Well, hello!</text>\n</svg>\n"])),e.next=4,n("https://fonts.gstatic.com/s/pacifico/v12/FwZY7-Qmy14u9lezJ-6H6M-Bp0u-.woff");case 4:return e.t2=e.sent,e.next=7,n("https://rawcdn.githack.com/google/fonts/e9c0bd/ofl/pacifico/Pacifico-Regular.ttf");case 7:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t()).define(["html","DOM","serialize","svg_embed","rasterize"],(function(e,t,n,a,r){return e(_e||(_e=Object(xe.a)(["\n  ","\n  ","\n"])),t.download(n(a),"image.svg","Download as SVG"),t.download(r(a),"image.png","Download as PNG"))})),n.variable(t()).define(["md"],(function(e){return e(Ie||(Ie=Object(xe.a)(["\n---\n## Compatibility\n\nIf you plan to edit the downloaded SVG be aware that many applications do not support <code>@font-face</code> declarations (some may not even support CSS at all). When in doubt use a [web based SVG editor](https://mediatemple.net/blog/tips/browser-based-svg-editors/).\n"])))})),n.variable(t()).define(["md"],(function(e){return e(Ee||(Ee=Object(xe.a)(["---"])))})),n.variable(t("toDataURL")).define("toDataURL",(function(){return function(){var e=Object(ye.a)(we.a.mark((function e(t){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ye.a)(we.a.mark((function e(n,a){var r,i,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=5;break}return e.abrupt("return",a("Error: ".concat(r.status," ").concat(r.statusText)));case 5:return e.next=7,r.blob();case 7:i=e.sent,(o=new FileReader).readAsDataURL(i),o.onloadend=function(){return n(o.result)};case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));var a=e.module(mt);return n.import("serialize",a),n.import("rasterize",a),n}function bt(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(qe||(qe=Object(xe.a)(["# Version Pinning for Notebooks\nObservable supports version pinning by appending the version number to the notebook name or path.\n\nThese functions make it easier to look up the most recent version of notebooks, and to use pinned versions in your own documentation. Example:"])))})),n.variable(t()).define(["md","getCurrentPinnedName"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Ve||(Ve=Object(xe.a)(["```js\nimport {getCurrentPinnedName} from '","'\n```"],["\\`\\`\\`js\nimport {getCurrentPinnedName} from '","'\n\\`\\`\\`"])),e.next=4,n();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t()).define(["md","dataTable","getCurrentLocalPath","getCurrentPath","getCurrentName","getCurrentPinnedName","getCurrentMetadata","getCurrentComparePath"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r,i,o,l,u){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Ue||(Ue=Object(xe.a)(["---\n## Current Notebook\nFunctions that can be used to obtain information about the currently viewed notebook. Metadata and the pinned name will be available once you have shared or published your notebook. Reload the page after publishing to see the updated version number.\n\n","\n\n"])),e.t2=n,e.t3=["getCurrentLocalPath",a()],e.t4=["getCurrentPath",r()],e.t5=["getCurrentName",i()],e.next=8,o();case 8:return e.t6=e.sent,e.t7=["getCurrentPinnedName",e.t6],e.next=12,l();case 12:return e.t8=e.sent,e.t9=["getCurrentMetadata",e.t8],e.next=16,u(299);case 16:return e.t10=e.sent,e.t11=["getCurrentComparePath",e.t10],e.t12=[e.t3,e.t4,e.t5,e.t7,e.t9,e.t11],e.t13=(0,e.t2)(e.t12),e.abrupt("return",(0,e.t0)(e.t1,e.t13));case 21:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,l,u){return e.apply(this,arguments)}}()),n.variable(t("getCurrentLocalPath")).define("getCurrentLocalPath",["html"],(function(e){return function(){return e(We||(We=Object(xe.a)(['<a href="#">']))).pathname}})),n.variable(t("getCurrentPath")).define("getCurrentPath",["formatPath","getCurrentName"],(function(e,t){return function(){return e(t())}})),n.variable(t("getCurrentName")).define("getCurrentName",["getCurrentLocalPath"],(function(e){return function(){return e().replace(/^\/(d\/)?/,"")}})),n.variable(t("getCurrentPinnedName")).define("getCurrentPinnedName",["getCurrentMetadata","formatName","getCurrentName"],(function(e,t,n){return function(){var a=Object(ye.a)(we.a.mark((function a(){var r;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:if(!(r=a.sent)||!r.version){a.next=5;break}return a.abrupt("return",t(n(),r.version));case 5:return a.abrupt("return",null);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t("getCurrentMetadata")).define("getCurrentMetadata",["getMetadata","getCurrentName"],(function(e,t){var n;return function(){var a=Object(ye.a)(we.a.mark((function a(){var r,i=arguments;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=i.length>0&&void 0!==i[0]&&i[0],void 0!==n&&!r){a.next=5;break}return a.next=4,e(t());case 4:n=a.sent;case 5:return a.abrupt("return",n);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t("getCurrentComparePath")).define("getCurrentComparePath",["getMetadata","getCurrentName","formatComparePath"],(function(e,t,n){return function(){var a=Object(ye.a)(we.a.mark((function a(){var r,i,o,l=arguments;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:null,i=l.length>1&&void 0!==l[1]?l[1]:null,a.next=4,e(t());case 4:if(!(o=a.sent)){a.next=7;break}return a.abrupt("return",n(o.id,r,o.id,i));case 7:return a.abrupt("return",null);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t()).define(["md"],(function(e){return e(He||(He=Object(xe.a)(["---\n## Other Notebooks\nFunctions for retrieving information about any notebooks.\n"])))})),n.variable(t("viewof preview_name")).define("viewof preview_name",["html","Event"],(function(e,t){var n=e(Ye||(Ye=Object(xe.a)(['<input type="button" value="Submit">']))),a=e(Xe||(Xe=Object(xe.a)(['<input type="text" value="@jashkenas/inputs">']))),r=e(Je||(Je=Object(xe.a)(["<form>"," ",""])),a,n);return a.oninput=function(e){return e.stopPropagation()},n.onclick=function(){r.value=a.value,r.dispatchEvent(new t("input"))},r.value=a.value,r})),n.variable(t("preview_name")).define("preview_name",["Generators","viewof preview_name"],(function(e,t){return e.input(t)})),n.variable(t()).define(["dataTable","formatLocalPath","preview_name","formatPath","formatSourcePath","getPinnedName","getPinnedPath","getSource","getMetadata"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r,i,o,l,u,s){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=["formatLocalPath",n(a)],e.t2=["formatPath",r(a)],e.t3=["formatSourcePath",i(a)],e.next=6,o(a);case 6:return e.t4=e.sent,e.t5=["getPinnedName",e.t4],e.next=10,l(a);case 10:return e.t6=e.sent,e.t7=["getPinnedPath",e.t6],e.next=14,u(a);case 14:return e.t8=e.sent,e.t9=["getSource",e.t8],e.next=18,s(a);case 18:return e.t10=e.sent,e.t11=["getMetadata",e.t10],e.t12=[e.t1,e.t2,e.t3,e.t5,e.t7,e.t9,e.t11],e.abrupt("return",(0,e.t0)(e.t12));case 22:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,l,u,s){return e.apply(this,arguments)}}()),n.variable(t("formatLocalPath")).define("formatLocalPath",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"/"+(e.match(/^@/)?e:"d/"+e)+(t?"@"+t:"")}})),n.variable(t("formatPath")).define("formatPath",["domain","formatLocalPath"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"https://".concat(e).concat(t(n,a))}})),n.variable(t("formatSourcePath")).define("formatSourcePath",["apiDomain","formatLocalPath"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"https://".concat(e).concat(t(n,a),".js")}})),n.variable(t("formatName")).define("formatName",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e+(t?"@"+t:"")}})),n.variable(t("formatId")).define("formatId",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e+(t?"@"+t:"")}})),n.variable(t("formatComparePath")).define("formatComparePath",["domain","formatId"],(function(e,t){return function(n,a,r,i){return"https://".concat(e,"/compare/").concat(t(n,a),"...").concat(t(r,i))}})),n.variable(t("getPinnedName")).define("getPinnedName",["getMetadata"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:if(!(a=t.sent)||!a.version){t.next=5;break}return t.abrupt("return",n+"@"+a.version);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t("getPinnedPath")).define("getPinnedPath",["getMetadata","formatPath"],(function(e,t){return function(){var n=Object(ye.a)(we.a.mark((function n(a){var r;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(a);case 2:if(!(r=n.sent)||!r.version){n.next=5;break}return n.abrupt("return",t(a,r.version));case 5:return n.abrupt("return",null);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),n.variable(t("getComparePath")).define("getComparePath",["getMetadata","formatComparePath"],(function(e,t){return function(){var n=Object(ye.a)(we.a.mark((function n(a){var r,i,o,l=arguments;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:null,i=l.length>2&&void 0!==l[2]?l[2]:null,n.next=4,e(a);case 4:if(!(o=n.sent)){n.next=7;break}return n.abrupt("return",t(o.id,r,o.id,i));case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),n.variable(t("getSource")).define("getSource",["formatSourcePath"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a,r,i,o=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:null,r=e(n,a),t.prev=2,t.next=5,fetch(r,{cache:a?"default":"no-cache"});case 5:return i=t.sent,t.next=8,i.text();case 8:return t.abrupt("return",t.sent);case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t("getMetadata")).define("getMetadata",["getSource"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a,r,i,o,l,u=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:null,r={URL:"url",Title:"title",Author:"author",Version:"version","Runtime version":"runtimeVersion"},t.next=4,e(n,a);case 4:if(i=t.sent){t.next=7;break}return t.abrupt("return",null);case 7:if(o=i.match(/^(?:\/\/ .+?\n)+/),l=i.match(/^\s+?id:\s+?"([^@"]+)/m),o&&l){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",o[0].split(/\n/).reduce((function(e,t){var n=t.match(/^\/\/ ([^:]+?):\s+?(.+?)$/);return n&&r.hasOwnProperty(n[1])&&(e[r[n[1]]]=n[2]),e}),{id:l[1]}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t()).define(["md"],(function(e){return e(Ke||(Ke=Object(xe.a)(["---"])))})),n.variable(t("domain")).define("domain",(function(){return"observablehq.com"})),n.variable(t("apiDomain")).define("apiDomain",(function(){return"api.observablehq.com"})),n.variable(t("dataTable")).define("dataTable",["html"],(function(e){return function(t){var n="padding:.5em;vertical-align:top",a=t.map((function(t){var a=Object(o.a)(t,2),r=a[0],i=a[1],l=e(Qe||(Qe=Object(xe.a)(['<div style="max-height:10em;overflow:auto;word-break:break-word">'])));return l.textContent=JSON.stringify(i),e(Ze||(Ze=Object(xe.a)(['<tr><th style="','">','</th><td style="',';font-family:monospace">',"</td>"])),n,r,n,l)}));return e($e||($e=Object(xe.a)(["<table>",""])),a)}})),n}function ht(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(et||(et=Object(xe.a)(["\n# Embedding Fonts Into An SVG\n\nHelper function written on top of [@mootari/embedding-fonts-into-an-svg](https://observablehq.com/@mootari/embedding-fonts-into-an-svg) with Google Fonts in mind:\n\n## Signature\n\n```javascript\nasync function addWebFont(selection, fontName, fontURL, fontType = 'woff2')\n```\n\n## Example:\n\n```javascript\n// From https://fonts.googleapis.com/css?family=Pacifico, pick the url under /* latin */\nselection.call(addWebFont, 'Pacifico', 'https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2');\n```\n"],["\n# Embedding Fonts Into An SVG\n\nHelper function written on top of [@mootari/embedding-fonts-into-an-svg](https://observablehq.com/@mootari/embedding-fonts-into-an-svg) with Google Fonts in mind:\n\n## Signature\n\n\\`\\`\\`javascript\nasync function addWebFont(selection, fontName, fontURL, fontType = 'woff2')\n\\`\\`\\`\n\n## Example:\n\n\\`\\`\\`javascript\n// From https://fonts.googleapis.com/css?family=Pacifico, pick the url under /* latin */\nselection.call(addWebFont, 'Pacifico', 'https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2');\n\\`\\`\\`\n"])))})),n.variable(t("addWebFont")).define("addWebFont",["toDataURL"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n,a,r){var i,o,l=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:"woff2",t.next=3,e(r);case 3:return o=t.sent,t.abrupt("return",n.append("style").text("\n    @font-face {\n      font-family: '".concat(a,"';\n      src: url(").concat(o,") format('").concat(i,"');\n    }\n  ")));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()})),n.variable(t()).define(["DOM","rasterize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as PNG")})),n.variable(t("chart")).define("chart",["d3","DOM","addWebFont"],(function(e,t,n){var a=e.select(t.svg(600,400));return a.append("text").call(n,"Pacifico","https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2").attr("style","font-size: 175px; font-family: 'Pacifico';").text("Pacifico").attr("x",300).attr("y",200).attr("dominant-baseline","middle").attr("text-anchor","middle"),a.node()})),n.variable(t()).define(["md"],(function(e){return e(tt||(tt=Object(xe.a)(["\n## Setup\n"])))})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("https://d3js.org/d3.v5.min.js")}));var a=e.module(mt);n.import("rasterize",a);var r=e.module(vt);n.import("toDataURL",r);var i=e.module(bt);return n.import("getMetadata",i),n.variable(t()).define(["md"],(function(e){return e(nt||(nt=Object(xe.a)(['\n## "Backup"\n'])))})),n.variable(t("latestVersion")).define("latestVersion",["getMetadata"],function(){var e=Object(ye.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("@mootari/embedding-fonts-into-an-svg");case 2:return n=e.sent,e.abrupt("return",+n.version);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.variable(t()).define(["md"],(function(e){return e(at||(at=Object(xe.a)(["\n### `toDataURL` source as of **@171**\n\n```javascript\nasync function toDataURL(url) {\n  return new Promise(async(resolve, reject) => {\n    const res = await fetch(url);\n    if(!res.ok) return reject(`Error: ${res.status} ${res.statusText}`);\n    const blob = await res.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => resolve(reader.result);\n  });\n}\n```\n"],["\n### \\`toDataURL\\` source as of **@171**\n\n\\`\\`\\`javascript\nasync function toDataURL(url) {\n  return new Promise(async(resolve, reject) => {\n    const res = await fetch(url);\n    if(!res.ok) return reject(\\`Error: \\${res.status} \\${res.statusText}\\`);\n    const blob = await res.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => resolve(reader.result);\n  });\n}\n\\`\\`\\`\n"])))})),n}function gt(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(rt||(rt=Object(xe.a)(["# Crypto Asset Returns - CD"])))})),n.variable(t()).define(["md"],(function(e){return e(it||(it=Object(xe.a)(["### A dashboard visualizing returns on investment of different assets\n### Main Source: CoinDesk Research"])))})),n.variable(t()).define(["md"],(function(e){return e(ot||(ot=Object(xe.a)(['### How to use it?\n- Choose the size of the chart\n  - Some parts of the chart might be cut off for certain chart size\n  - Select "Fit on screen" to see the full chart\n  - Change chart size when x-axis looks too congested\n- Type in the chart title\n- Pick a start date and an end date to set the time period of the chart. **The start date should be the last date of the previous month for monthly returns**\n- Choose assets you want to visualize in the checkbox (The start date might change when choosing non-crypto assets)\n- Hover over the chart to read the tooltips\n- Hover over a cell and click the three vertical dots (cell actions) on the left to:\n  - Leave comments \n  - Download the visualization in PNG or SVG format\n- Use the button beneath the chart to download the data in CSV format'])))})),n.variable(t("viewof size")).define("viewof size",["radio"],(function(e){return e({title:"Chart Size",description:"Please select your preferred chart size",options:[{label:"Article (1420 * 916)",value:"post"},{label:"Twitter / LinkedIn (1200 * 675)",value:"social"},{label:"Instagram (1080 * 1080)",value:"ig"},{label:"Fit on screen",value:"suitable"}],value:"suitable"})})),n.variable(t("size")).define("size",["Generators","viewof size"],(function(e,t){return e.input(t)})),n.variable(t("viewof title")).define("viewof title",["text"],(function(e){return e({title:"Chart Title",value:"Bitcoin and Macro Assets Returns",description:"Recommend to use less than 20 words for the title"})})),n.variable(t("title")).define("title",["Generators","viewof title"],(function(e,t){return e.input(t)})),n.variable(t("viewof startdate")).define("viewof startdate",["date"],(function(e){return e({title:"Start Date",min:"2011-08-18",value:"2020-07-31",description:"The data before June 2020 might be missing for some assets"})})),n.variable(t("startdate")).define("startdate",["Generators","viewof startdate"],(function(e,t){return e.input(t)})),n.variable(t("viewof enddate")).define("viewof enddate",["date"],(function(e){return e({title:"End Date",value:"2020-08-31",description:"Be careful when using the lastest date, because some data won't updated until end of day"})})),n.variable(t("enddate")).define("enddate",["Generators","viewof enddate"],(function(e,t){return e.input(t)})),n.variable(t("viewof ch")).define("viewof ch",["checkbox"],(function(e){return e({description:"CoinDesk 20 assets are in <b>bold font</b>",options:[{value:"BTC",label:"<b>Bitcoin</b>"},{value:"ETH",label:"<b>Ethereum</b>"},{value:"XRP",label:"<b>XRP</b>"},{value:"BCH",label:"<b>Bitcoin Cash</b>"},{value:"LTC",label:"<b>Litecoin</b>"},{value:"XTZ",label:"<b>Tezos</b>"},{value:"EOS",label:"<b>EOS</b>"},{value:"LINK",label:"<b>Chainlink</b>"},{value:"BSV",label:"Bitcoin SV"},{value:"ETC",label:"<b>Ethereum Classic</b>"},{value:"XLM",label:"<b>Stellar</b>"},{value:"ZRX",label:"<b>0x</b>"},{value:"XMR",label:"Monero"},{value:"ZEC",label:"Zcash"},{value:"DASH",label:"Dash"},{value:"BAT",label:"Basic Attention Token"},{value:"TRX",label:"Tron"},{value:"OXT",label:"<b>Orchid</b>"},{value:"ADA",label:"<b>Cardano</b>"},{value:"OMG",label:"<b>OMG Network</b>"},{value:"ALGO",label:"<b>Algorand</b>"},{value:"KNC",label:"<b>Kyber Network</b>"},{value:"ATOM",label:"<b>Cosmos</b>"},{value:"S&P 500",label:"S&P 500"},{value:"Gold",label:"Gold"},{value:"Bonds",label:"Bonds"},{value:"Silver",label:"Silver"},{value:"Nikkei 225",label:"Nikkei 225"},{value:"FTSE 100",label:"FTSE 100"}],value:["BTC","S&P 500","Gold","Bonds"]})})),n.variable(t("ch")).define("ch",["Generators","viewof ch"],(function(e,t){return e.input(t)})),n.variable(t("chart")).define("chart",["d3","width","height","addWebFont","ch","y","returns_map","margin","color_array","line","x","formatValue","swatches","xAxis","yAxis","title","tooltipvalue","formatDate","callout"],(function(e,t,n,a,r,i,o,l,u,s,c,d,f,p,m,v,b,h,g){var w=e.create("svg").attr("width",t).attr("height",n).attr("viewBox",[0,0,t,n]).style("background-color","white").call(a,"Acumin Pro","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-RPro.otf","opentype").call(a,"Acumin Pro Bold","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-BdPro.otf","opentype"),y=w.append("g"),x=[],j=[],k=[],O=0,S=0;return 0==r.length?i.domain(e.extent(o.get("BTC"),(function(e){return 100*e.percentage}))):(r.forEach((function(t){x.push(e.min(o.get(t),(function(e){return 100*e.percentage}))),j.push(e.max(o.get(t),(function(e){return 100*e.percentage})))})),i.domain([Math.min.apply(Math,x),Math.max.apply(Math,j)]).nice()),w.append("line").style("stroke","#000000").style("stroke-width",1).style("stroke-dasharray","3, 3").attr("x1",l.left).attr("y1",i(0)).attr("x2",t-l.right).attr("y2",i(0)),r.length>0&&r.forEach((function(e,t){var n=o.get(e).slice(-1)[0].date,a=o.get(e).slice(-1)[0].percentage;k.forEach((function(e){Math.abs(i(100*e)-i(100*a))<15&&(a-=.02)})),w.append("path").datum(o.get(e)).attr("fill","none").attr("stroke",u[t]).attr("stroke-width",3).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",s),w.append("text").attr("transform","translate("+c(n)+","+(i(100*a)-15)+")").attr("dy",".35em").attr("text-anchor","start").style("fill",u[t]).style("font-size",19).style("font-family","Acumin Pro").text(d(o.get(e).slice(-1)[0].percentage)),k.push(a)})),t>768&&w.append("svg:image").attr("x",0).attr("y",n-60).attr("width",200).attr("height",50).attr("xlink:href","https://gist.githubusercontent.com/coindesk-research/a301747be23ca66a7ca79f01cf6a81bd/raw/275080d0a6d73aec9d54a0bb63341f82d4b699fe/Coindesk%25C2%25AE_Logo_RGB.png"),w.append("g").attr("transform","translate(".concat(t/2-30*r.slice(0,11).length,", ").concat(n-95-10*Math.floor(r.length/11),")")).append((function(){return f({colour:e.scaleOrdinal(r.slice(0,11),u.slice(0,10)),labelFont:"19px Acumin Pro"})})),w.append("g").attr("transform","translate(".concat(t/2-30*r.slice(10,21).length,", ").concat(n-75-10*Math.floor(r.length/11),")")).append((function(){return f({colour:e.scaleOrdinal(r.slice(10,21),u.slice(10,21)),labelFont:"19px Acumin Pro"})})),w.append("g").attr("transform","translate(".concat(t/2-30*r.slice(21).length,", ").concat(n-75,")")).append((function(){return f({colour:e.scaleOrdinal(r.slice(21),u.slice(21)),labelFont:"19px Acumin Pro"})})),w.append("g").call(p),w.append("g").call(m),w.append("text").attr("x",t/2).attr("y",l.top-23).attr("text-anchor","middle").style("font-size",t>768?26:18).style("font-family","Acumin Pro Bold").style("font-weight","bold").text(v),w.append("text").attr("x",20).attr("y",(n-l.bottom)/2).attr("text-anchor","middle").attr("transform","rotate(-90,20,".concat((n-l.bottom)/2,")")).style("font-size",19).style("font-family","Acumin Pro").text("Returns"),r.includes("Bonds")&&(S=1,w.append("text").attr("x",t>768?175+275*O:275*O).attr("y",n-25-10*S).attr("text-anchor","left").style("font-size",13).style("font-style","italic").style("font-family","Acumin Pro").text("Bonds = iShares 20+ Year Treasury Bond ETF;"),O+=1),r.includes("Gold")&&(S=1,w.append("text").attr("x",t>768?175+275*O:275*O).attr("y",n-25-10*S).attr("text-anchor","left").style("font-size",13).style("font-style","italic").style("font-family","Acumin Pro").text("Gold = London Bullion Market pm fixing price;"),O+=1),r.includes("Silver")&&(S=1,w.append("text").attr("x",t>768?175+275*O:275*O).attr("y",n-25-10*S).attr("text-anchor","left").style("font-size",13).style("font-style","italic").style("font-family","Acumin Pro").text("Silver = London Bullion Market 12:00 noon fixing price;"),O+=1),w.append("text").attr("x",t>768?175:0).attr("y",n-25+10*S).attr("text-anchor","start").style("font-size",13).style("font-style","italic").style("font-family","Acumin Pro").text("Source: CoinDesk Research"),(r.includes("Gold")||r.includes("Silver")||r.includes("Nikkei 225")||r.includes("S&P 500")||r.includes("Bonds")||r.includes("FTSE 100"))&&w.append("text").attr("x",t>768?335:160).attr("y",n-25+10*S).attr("text-anchor","start").style("font-size",13).style("font-style","italic").style("font-family","Acumin Pro").text(", St. Louis Fed, Yahoo Finance"),w.on("touchmove mousemove",(function(t){t.preventDefault();var n=e.pointer(t,this),a=c.invert(n[0]),l=(i.invert(n[1]),b(o.get("BTC"),a)),u=l.date,s=(l._,"".concat(h(u))),f=[];0==r.length?y.call(g,null):r.forEach((function(e){var t=Object.values(b(o.get(e),a))[1];s+="\n".concat(e,": ")+d(t),f.push(t)}));var p=f.reduce((function(e,t){return e+t}))/f.length;y.attr("transform","translate(".concat(c(a),",").concat(i(100*p),")")).call(g,s)})),w.on("touchend mouseleave",(function(){return y.call(g,null)})),y.raise(),w.node()})),n.variable(t()).define(["DOM","button","all_returns"],(function(e,t,n){var a=e.element("div"),r=t(n,"returns.csv");return a.appendChild(r),a})),n.variable(t("all_returns")).define("all_returns",["array_join","crypto_return","sp500_return","gold_return","tlt_return","silver_return","nikkei_return","ftse_return"],(function(e,t,n,a,r,i,o,l){return e(t,n,a,r,i,o,l)})),n.variable(t("crypto_return")).define("crypto_return",["d3","cors_head2","cd_startdate","enddate"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.csv("".concat(n,"https://qa.api.coindesk.com/v2/metrics/returns?assets=BTC,ETH,XRP,BCH,LTC,XTZ,EOS,LINK,BSV,ETC,XLM,ZRX,XMR,ZEC,DASH,BAT,TRX,OXT,ADA,OMG,ALGO,KNC,ATOM&start_date=").concat(a,"&end_date=").concat(r,"&format=csv"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()),n.variable(t("width")).define("width",["size_input","size"],(function(e,t){return e(t).width})),n.variable(t("height")).define("height",["size_input","size"],(function(e,t){return e(t).height})),n.variable(t("startdate_obj")).define("startdate_obj",["calcuate_start_date","startdate"],(function(e,t){return e(t)})),n.variable(t("enddate_obj")).define("enddate_obj",["enddate"],(function(e){return new Date(e)})),n.variable(t("line")).define("line",["d3","x","y"],(function(e,t,n){return e.line().defined((function(e){return!isNaN(e.percentage)})).x((function(e){return t(e.date)})).y((function(e){return n(100*e.percentage)}))})),n.variable(t("x")).define("x",["d3","returns_map","margin","width"],(function(e,t,n,a){return e.scaleUtc().domain(e.extent(t.get("BTC"),(function(e){return e.date}))).range([n.left,a-n.right])})),n.variable(t("y")).define("y",["d3","height","margin"],(function(e,t,n){return e.scaleLinear().range([t-n.bottom,n.top])})),n.variable(t("xAxis")).define("xAxis",["width","height","margin","d3","x","addWebFont"],(function(e,t,n,a,r,i){return function(o){return o.attr("transform","translate(0,".concat(t-n.bottom,")")).style("font-family","Acumin Pro").style("font-size",19).call(a.axisBottom(r).ticks(e/200).tickSizeOuter(0).tickFormat(a.utcFormat("%m/%d/%y"))).call(i,"Acumin Pro","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-RPro.otf","opentype")}})),n.variable(t("yAxis")).define("yAxis",["margin","d3","y","addWebFont"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(".concat(e.left,",0)")).style("font-family","Acumin Pro").style("font-size",19).call(t.axisLeft(n).tickFormat((function(e){return e+"%"})).ticks(8)).call((function(e){return e.select(".domain").remove()})).call(a,"Acumin Pro","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-RPro.otf","opentype")}})),n.variable(t("margin")).define("margin",(function(){return{top:50,right:80,bottom:140,left:80}})),n.variable(t("all_assets")).define("all_assets",(function(){return["BTC","ETH","XRP","BCH","LTC","XTZ","EOS","LINK","BSV","ETC","XLM","ZRX","XMR","ZEC","DASH","BAT","TRX","OXT","ADA","OMG","ALGO","KNC","ATOM","S&P 500","Gold","Bonds","Silver","Nikkei 225","FTSE 100"]})),n.variable(t("color_array")).define("color_array",["d3"],(function(e){return["#000000","#608AD8","#FCC117","#FF0000","#7CEE00","#D8D8D8"].concat(e.schemeCategory10).concat(e.schemeAccent).concat(e.schemePastel1)})),n.variable(t("bisect")).define("bisect",["d3"],(function(e){return e.bisector((function(e){return e.date})).right})),n.variable(t("tooltipvalue")).define("tooltipvalue",["bisect"],(function(e){return function(t,n){var a=e(t,new Date(n),1),r=t[a-1],i=t[a];return i&&n-r.date>i.date-n?i:r}})),n.variable(t("callout")).define("callout",(function(){return function(e,t){if(!t)return e.style("display","none");e.style("display",null).style("pointer-events","none").style("font","13px Acumin Pro");var n=e.selectAll("path").data([null]).join("path").attr("fill","white").attr("stroke","black"),a=e.selectAll("text").data([null]).join("text").call((function(e){return e.selectAll("tspan").data((t+"").split(/\n/)).join("tspan").attr("x",0).attr("y",(function(e,t){return"".concat(1.1*t,"em")})).style("font-weight",(function(e,t){return t?null:"bold"})).text((function(e){return e}))})),r=a.node().getBBox(),i=(r.x,r.y),o=r.width,l=r.height;a.attr("transform","translate(".concat(-o/2,",").concat(15-i,")")),n.attr("d","M".concat(-o/2-10,",5H").concat(o/2+10,"v").concat(l+20,"h-").concat(o+20,"z"))}})),n.variable(t("formatDate")).define("formatDate",(function(){return function(e){return e.toLocaleString("en",{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"})}})),n.variable(t("formatDate2")).define("formatDate2",(function(){return function(e){return new Date(e)}})),n.variable(t("formatValue")).define("formatValue",["d3"],(function(e){return e.format(".2%")})),n.variable(t()).define(["md"],(function(e){return e(lt||(lt=Object(xe.a)(["### Fetch crypto data from CD API"])))})),n.variable(t("cors_head2")).define("cors_head2",(function(){return"https://observable-cors.glitch.me/"})),n.variable(t("cd_enddate_obj")).define("cd_enddate_obj",["enddate"],(function(e){return new Date(e)})),n.variable(t("cd_enddate")).define("cd_enddate",["cd_enddate_obj"],(function(e){return new Date(e.setDate(e.getDate()+1)).toISOString().slice(0,10)})),n.variable(t("cd_startdate_obj")).define("cd_startdate_obj",["startdate_obj"],(function(e){return new Date(e.getTime())})),n.variable(t("cd_startdate")).define("cd_startdate",["cd_startdate_obj"],(function(e){return new Date(e.setDate(e.getDate())).toISOString().slice(0,10)})),n.variable(t("regular_startdate")).define("regular_startdate",["startdate_obj"],(function(e){return e.toISOString().slice(0,10)})),n.variable(t()).define(["md"],(function(e){return e(ut||(ut=Object(xe.a)(["### Calculate the returns"])))})),n.variable(t("gold_return")).define("gold_return",["calcuate_return","gold_data"],(function(e,t){return e(t,0)})),n.variable(t("sp500_return")).define("sp500_return",["calcuate_return","sp500_data"],(function(e,t){return e(t,0)})),n.variable(t("tlt_return")).define("tlt_return",["calcuate_return","tlt_data"],(function(e,t){return e(t,0)})),n.variable(t("silver_return")).define("silver_return",["calcuate_return","silver_data"],(function(e,t){return e(t,0)})),n.variable(t("nikkei_return")).define("nikkei_return",["calcuate_return","nikkei_data"],(function(e,t){return e(t,0)})),n.variable(t("ftse_return")).define("ftse_return",["calcuate_return","ftse_data"],(function(e,t){return e(t,0)})),n.variable(t()).define(["md"],(function(e){return e(st||(st=Object(xe.a)(["### Fetch non-crypto data from St. Louis Federal Reserve Bank and Nasdaq.com"])))})),n.variable(t("gold_data")).define("gold_data",["d3","cors_head2"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.csv("".concat(n,"https://fred.stlouisfed.org/graph/fredgraph.csv?id=GOLDPMGBD228NLBM"));case 2:return e.abrupt("return",e.sent.map((function(e){var t=e.DATE,n=e.GOLDPMGBD228NLBM;return{date:new Date(t),price:n}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t("sp500_data")).define("sp500_data",["d3","cors_head2"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.csv("".concat(n,"https://fred.stlouisfed.org/graph/fredgraph.csv?id=SP500"));case 2:return e.abrupt("return",e.sent.map((function(e){var t=e.DATE,n=e.SP500;return{date:new Date(t),price:n}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t("silver_data")).define("silver_data",["d3","cors_head2"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.csv("".concat(n,"https://fred.stlouisfed.org/graph/fredgraph.csv?id=SLVPRUSD"));case 2:return e.abrupt("return",e.sent.map((function(e){var t=e.DATE,n=e.SLVPRUSD;return{date:new Date(t),price:n}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t("nikkei_data")).define("nikkei_data",["d3","cors_head2"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.csv("".concat(n,"https://fred.stlouisfed.org/graph/fredgraph.csv?id=NIKKEI225"));case 2:return e.abrupt("return",e.sent.map((function(e){var t=e.DATE,n=e.NIKKEI225;return{date:new Date(t),price:n}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t("tlt_data")).define("tlt_data",["d3","cors_head2","formatDate2"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.csv("".concat(n,"https://query1.finance.yahoo.com/v7/finance/download/TLT?period1=1027987200&period2=").concat((new Date).getTime(),"&interval=1d&events=history"));case 2:return e.abrupt("return",e.sent.map((function(e){var t=e.Date,n=e.Close;return{date:a(t),price:n}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),n.variable(t("ftse_data")).define("ftse_data",["d3","cors_head2","formatDate2"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.csv("".concat(n,"https://query1.finance.yahoo.com/v7/finance/download/^FTSE?period1=1230768000&period2=").concat((new Date).getTime(),"&interval=1d&events=history"));case 2:return e.abrupt("return",e.sent.map((function(e){var t=e.Date,n=e.Close;return{date:a(t),price:n}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),n.variable(t("returns_map")).define("returns_map",["get_data_map","all_returns"],(function(e,t){return e(t)})),n.variable(t()).define(["md"],(function(e){return e(ct||(ct=Object(xe.a)(["## Appendix"])))}));var a=e.module(je);n.import("date",a),n.import("text",a),n.import("radio",a),n.import("checkbox",a);var r=e.module(ke);n.import("swatches",r);var i=e.module(Oe);n.import("button",i);var o=e.module(ht);return n.import("addWebFont",o),n.variable(t("size_input")).define("size_input",(function(){return function(e){return"post"==e?{width:1420,height:916}:"social"==e?{width:1200,height:675}:"ig"==e?{width:1080,height:1080}:{width:document.body.clientWidth,height:600}}})),n.variable(t("abbreviations")).define("abbreviations",(function(){return{Bitcoin:"BTC",Ethereum:"ETH",XRP:"XRP",Litecoin:"LTC","Bitcoin Cash":"BCH",Eos:"EOS",Chainlink:"LINK",Tezos:"XTZ",Stellar:"XLM","0x":"ZRX","Bitcoin SV":"BSV","Ethereum Classic":"ETC",Monero:"XMR",Zcash:"ZEC",Dash:"DASH","Basic Attention Token":"BAT",Tron:"TRX",Orchid:"OXT",Tether:"USDT","USD Coin":"USDC",Dai:"DAI","S&P 500":"SP500",Gold:"GOLD",Bonds:"TLT",Silver:"SILVER","Nikkei 225":"NIKKEI","FTSE 100":"FTSE"}})),n.variable(t("get_data_map")).define("get_data_map",["all_assets"],(function(e){return function(t){for(var n=new Map,a=[],r=Object.keys(t[0]).length-1,i=0;i<r;i++){var o=[];t.forEach((function(t,n){var a={date:new Date(t.date),percentage:parseFloat(t[e[i]])};0==isNaN(a.percentage)&&o.push(a)})),a.push(o)}for(i=0;i<r;i++)n.set(e[i],a[i]);return n}})),n.variable(t("array_join")).define("array_join",(function(){return function(e,t,n,a,r,i,o){var l=0,u=0,s=0,c=0,d=0,f=0;return e.forEach((function(e,p){t[p-l]&&(e.date==t[p-l].date.toISOString().slice(0,10)?e["S&P 500"]=t[p-l].percentage:l+=1),n[p-u]&&(e.date==n[p-u].date.toISOString().slice(0,10)?e.Gold=n[p-u].percentage:u+=1),a[p-s]&&(e.date==a[p-s].date.toISOString().slice(0,10)?e.Bonds=a[p-s].percentage:s+=1),r[p-c]&&(e.date==r[p-c].date.toISOString().slice(0,10)?e.Silver=r[p-c].percentage:c+=1),i[p-d]&&(e.date==i[p-d].date.toISOString().slice(0,10)?e["Nikkei 225"]=i[p-d].percentage:d+=1),o[p-f]&&(e.date==o[p-f].date.toISOString().slice(0,10)?e["FTSE 100"]=o[p-f].percentage:f+=1)})),e}})),n.variable(t("calcuate_start_date")).define("calcuate_start_date",["ch","sp500_data","tlt_data","gold_data","silver_data","nikkei_data","ftse_data"],(function(e,t,n,a,r,i,o){return function(l){var u=new Date(l);if(e.includes("S&P 500"))for(var s=!0;s;)t.filter((function(e){return"."!=e.price})).forEach((function(e,t){e.date.getTime()==u.getTime()&&(s=!1)})),s&&u.setDate(u.getDate()-1);if(console.log(u),e.includes("Bonds"))for(var c=!0;c;)n.filter((function(e){return"."!=e.price})).forEach((function(e,t){e.date.getTime()==u.getTime()&&(c=!1)})),c&&u.setDate(u.getDate()-1);if(console.log(u),e.includes("Gold"))for(var d=!0;d;)a.filter((function(e){return"."!=e.price})).forEach((function(e,t){e.date.getTime()==u.getTime()&&(d=!1)})),d&&u.setDate(u.getDate()-1);if(console.log(u),e.includes("Silver"))for(var f=!0;f;)r.filter((function(e){return"."!=e.price})).forEach((function(e,t){e.date.getTime()==u.getTime()&&(f=!1)})),f&&u.setDate(u.getDate()-1);if(e.includes("Nikkei 225"))for(var p=!0;p;)i.filter((function(e){return"."!=e.price})).forEach((function(e,t){e.date.getTime()==u.getTime()&&(p=!1)})),p&&u.setDate(u.getDate()-1);if(e.includes("FTSE 100"))for(var m=!0;m;)o.filter((function(e){return"."!=e.price})).forEach((function(e,t){e.date.getTime()==u.getTime()&&(m=!1)})),m&&u.setDate(u.getDate()-1);return u}})),n.variable(t("calcuate_return")).define("calcuate_return",["startdate_obj","enddate_obj"],(function(e,t){return function(n,a){return(n=n.filter((function(e){return"."!=e.price}))).filter((function(n){return n.date>=e&&n.date<=t})).map((function(e,t,n){return 0==t?{date:n[t].date,percentage:0}:0==a?{date:n[t].date,percentage:(n[t].price-n[0].price)/n[0].price}:{date:n[t].date,percentage:Math.log(n[t].price/n[0].price)}}))}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@^6")})),n}var wt,yt,xt,jt,kt,Ot,St,At,Ct,Mt,Pt,Dt,Tt,zt,Nt,Ft,Gt,Lt,Rt,Bt,_t,It,Et,qt,Vt,Ut,Wt,Ht,Yt,Xt,Jt,Kt,Qt,Zt,$t,en,tn,nn,an,rn,on,ln,un,sn,cn,dn,fn,pn,mn,vn,bn,hn,gn,wn,yn,xn,jn,kn,On,Sn,An,Cn,Mn,Pn,Dn,Tn,zn,Nn,Fn,Gn,Ln,Rn,Bn,_n,In,En,qn,Vn,Un,Wn,Hn,Yn,Xn,Jn,Kn,Qn,Zn,$n,ea,ta,na,aa=function(e){var t=e.width,n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=Object(a.useRef)(),u=Object(a.useState)(),s=Object(o.a)(u,2),d=s[0],f=s[1];return Object(a.useEffect)((function(){var e=new he.b,t=e.module(gt,(function(e){return"viewof startdate"===e?new he.a(n.current):"viewof enddate"===e?new he.a(r.current):"viewof ch"===e?new he.a(i.current):"chart"===e?new he.a(l.current):["startdate_obj","cd_startdate_obj","regular_startdate","calcuate_return","cd_startdate","gold_return","sp500_return","tlt_return","silver_return","nikkei_return","ftse_return","crypto_return","all_returns","returns_map","x","line","xAxis","enddate_obj","cd_enddate_obj","cd_enddate","calcuate_start_date"].includes(e)}));return f(t),function(){f(void 0),e.dispose()}}),[]),Object(a.useEffect)((function(){void 0!==d&&d.redefine("width",t)}),[t,d]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{ref:n}),Object(c.jsx)("div",{ref:r}),Object(c.jsx)("div",{ref:i}),Object(c.jsx)("div",{ref:l,className:"chart"})]})};function ra(e,t){var a=e.module(),r=new Map([["capstan.gif",n(110).default]]);return a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md","FileAttachment"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=wt||(wt=Object(xe.a)(['# Inputs\n<div style="margin-top: -3px; font-size: 1.05em;">*a.k.a \u201cThe Grand Native Inputs Bazaar\u201d*</div>\n\n<div style="max-width: 500px; margin: 30px 0; padding: 15px 30px; background-color: #ffffee; font: 700 18px/24px sans-serif;">\u2728 Rejoice! Observable now has <a href="https://observablehq.com/@observablehq/inputs">an official inputs library</a>. If it contains the input you need, you should probably be using that instead of this notebook. \u2728</div>\n\n<img width="350px" src="','" />\n\nA collection of assorted fancy inputs, odds and ends \u2014 with which to produce values to feed your burgeoning sketches. All inputs support optional **titles** and **descriptions**; where it makes sense, inputs also support a **submit** option, which allows you to prevent the value from updating until the input has been finalized.\n\nWares we have on offer: \n  * [`slider`](#sliderDemo)\n  * [`button`](#buttonDemo)\n  * [`select`](#selectDemo)\n  * [`autoSelect`](#autoSelectDemo)\n  * [`color`](#colorDemo)\n  * [`coordinates`](#coordinatesDemo)\n  * [`worldMapCoordinates`](#worldMapCoordinatesDemo)\n  * [`usaMapCoordinates`](#usaMapCoordinatesDemo)\n  * [`date`](#dateDemo)\n  * [`time`](#timeDemo)\n  * [`file`](#fileDemo)\n  * [`text`](#textDemo)\n  * [`textarea`](#textareaDemo)\n  * [`radio`](#radioDemo)\n  * [`checkbox`](#checkboxDemo)\n  * [`number`](#numberDemo)\n  * [`password`](#passwordDemo)'],['# Inputs\n<div style="margin-top: -3px; font-size: 1.05em;">*a.k.a \u201cThe Grand Native Inputs Bazaar\u201d*</div>\n\n<div style="max-width: 500px; margin: 30px 0; padding: 15px 30px; background-color: #ffffee; font: 700 18px/24px sans-serif;">\u2728 Rejoice! Observable now has <a href="https://observablehq.com/@observablehq/inputs">an official inputs library</a>. If it contains the input you need, you should probably be using that instead of this notebook. \u2728</div>\n\n<img width="350px" src="','" />\n\nA collection of assorted fancy inputs, odds and ends \u2014 with which to produce values to feed your burgeoning sketches. All inputs support optional **titles** and **descriptions**; where it makes sense, inputs also support a **submit** option, which allows you to prevent the value from updating until the input has been finalized.\n\nWares we have on offer: \n  * [\\`slider\\`](#sliderDemo)\n  * [\\`button\\`](#buttonDemo)\n  * [\\`select\\`](#selectDemo)\n  * [\\`autoSelect\\`](#autoSelectDemo)\n  * [\\`color\\`](#colorDemo)\n  * [\\`coordinates\\`](#coordinatesDemo)\n  * [\\`worldMapCoordinates\\`](#worldMapCoordinatesDemo)\n  * [\\`usaMapCoordinates\\`](#usaMapCoordinatesDemo)\n  * [\\`date\\`](#dateDemo)\n  * [\\`time\\`](#timeDemo)\n  * [\\`file\\`](#fileDemo)\n  * [\\`text\\`](#textDemo)\n  * [\\`textarea\\`](#textareaDemo)\n  * [\\`radio\\`](#radioDemo)\n  * [\\`checkbox\\`](#checkboxDemo)\n  * [\\`number\\`](#numberDemo)\n  * [\\`password\\`](#passwordDemo)'])),e.next=4,n("capstan.gif").url();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.variable(t()).define(["md"],(function(e){return e(yt||(yt=Object(xe.a)(["| <h3>Friends & Family:</h3>  |   |\n|---|---|\n| **[@mbostock/form-input](/@mbostock/form-input)**  | Fully custom forms, combining inputs into a single reactive cell. |\n| **[@mbostock/scrubber](/@mbostock/scrubber)** | A slider that automatically plays through its range, useful for driving and scrubbing through animations. |\n| **[@bumbeishvili/input-groups](/@bumbeishvili/input-groups)** | A wrapper function that can put many of these inputs into a more compact grid layout. | \n| **[@zechasault/color-schemes-and-interpolators-picker](/@zechasault/color-schemes-and-interpolators-picker)**  | Color scheme and interpolation pickers. |\n| **[@awhitty/fips-county-code-brush](/@awhitty/fips-county-code-brush)**  | A brushable map of the United States, allowing you to quickly select sets of counties to get their FIPS codes. |\n| **[@mootari/range-slider](https://observablehq.com/@mootari/range-slider)**  |  True range sliders, setting both a minimum and maximum value. |\n| **[@bumbeishvili/data-driven-range-sliders](/@bumbeishvili/data-driven-range-sliders)** | Data-driven range sliders, displaying a distribution histogram of the underlying data. |\n| **[@trebor/snapping-histogram-slider](/@trebor/snapping-histogram-slider)** | Another data-driven range slider option. |\n| **[@mootari\u2019s 2D Slider](https://observablehq.com/d/98bbb19bf9e859ee)** | Two dimensional sliders, exploring discrete points on a plane. |\n| **[@yurivish/ternary-slider](/@yurivish/ternary-slider)** | Nifty ternary plot inputs, describing the percentages of a whole composed of exactly three things. |\n| **[@rreusser/binary-input](/@rreusser/binary-input)** | Input numbers in binary, great for working with values where results vary with specific bit positions. |\n| **[@bartok32/diy-inputs](/@bartok32/diy-inputs)** | A fun tool for defining your own fancy and colorful inputs. |\n| **[@bobkerns/elements-input](/@bobkerns/elements-input)** | A periodic table of the elements input! You can construct molecules programmatically, or click on the table to create formulas. |\n| **[@fil/selectflat](/@fil/selectflat)** | A fast selector to explore a discrete parameter space. The value changes on mouseover, and sticks when you click. |\n| **[@oscar6echo/player](/@oscar6echo/player)** | A slider with buttons to play, pause, step, and change speed and direction \u2014 useful for animations. |\n| **[@harrislapiroff/list-input](/@harrislapiroff/list-input)** | A input for when you want more than one of something. |\n| **[@nhogs/easing-graphs-editor](/@nhogs/easing-graphs-editor)** | A curve input to display and edit values of animated properties over time, such as easing curves and animation curves. |\n| **[@j-f1/checkbox](/@j-f1/checkbox)** | A simple checkbox input that provides a boolean value. |\n\n<br>*If you have any improvements for the bazaar, [please make your change in a fork and send it to me as a suggestion.](https://observablehq.com/@observablehq/suggestions-and-comments)*"])))})),a.variable(t("sliderDemo")).define("sliderDemo",["md"],(function(e){return e(xt||(xt=Object(xe.a)(['---\n## Sliders\n\n~~~js\nimport {slider} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof a")).define("viewof a",["slider"],(function(e){return e()})),a.variable(t("a")).define("a",["Generators","viewof a"],(function(e,t){return e.input(t)})),a.variable(t("viewof a1")).define("viewof a1",["slider"],(function(e){return e({min:0,max:1,step:.01,format:".0%",description:"Zero to one, formatted as a percentage"})})),a.variable(t("a1")).define("a1",["Generators","viewof a1"],(function(e,t){return e.input(t)})),a.variable(t("viewof a1_1")).define("viewof a1_1",["slider"],(function(e){return e({min:0,max:1,step:.01,format:function(e){return"".concat(Math.round(100*e)," per cent")},description:"Zero to one, formatted with a custom function"})})),a.variable(t("a1_1")).define("a1_1",["Generators","viewof a1_1"],(function(e,t){return e.input(t)})),a.variable(t("viewof a2")).define("viewof a2",["slider"],(function(e){return e({min:0,max:1e9,step:1e3,value:325e4,format:",",description:"Zero to one billion, in steps of one thousand, formatted as a (US) number"})})),a.variable(t("a2")).define("a2",["Generators","viewof a2"],(function(e,t){return e.input(t)})),a.variable(t("viewof a3")).define("viewof a3",["slider"],(function(e){return e({min:0,max:100,step:1,value:10,title:"Integers",description:"Integers from zero through 100"})})),a.variable(t("a3")).define("a3",["Generators","viewof a3"],(function(e,t){return e.input(t)})),a.variable(t("viewof a4")).define("viewof a4",["slider"],(function(e){return e({min:.9,max:1.1,precision:3,description:"A high precision slider example"})})),a.variable(t("a4")).define("a4",["Generators","viewof a4"],(function(e,t){return e.input(t)})),a.variable(t("viewof a5")).define("viewof a5",["slider"],(function(e){return e({min:.9,max:1.1,precision:3,submit:!0,description:"The same as a4, but only changes value on submit"})})),a.variable(t("a5")).define("a5",["Generators","viewof a5"],(function(e,t){return e.input(t)})),a.variable(t()).define(["md"],(function(e){return e(jt||(jt=Object(xe.a)(["More [fancy slider techniques](https://observablehq.com/@mootari/prime-numbers-slider)."])))})),a.variable(t("slider")).define("slider",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"===typeof t?{value:t}:t,a=n.min,r=void 0===a?0:a,i=n.max,o=void 0===i?1:i,l=n.value,u=void 0===l?(o+r)/2:l,s=n.step,c=void 0===s?"any":s,d=n.precision,f=void 0===d?2:d,p=n.title,m=n.description,v=n.disabled,b=n.getValue,h=n.format,g=n.display,w=n.submit;return f=Math.pow(10,f),b||(b=function(e){return Math.round(e.valueAsNumber*f)/f}),e({type:"range",title:p,description:m,submit:w,format:h,display:g,attributes:{min:r,max:o,step:c,disabled:v,value:u},getValue:b})}})),a.variable(t("buttonDemo")).define("buttonDemo",["md"],(function(e){return e(kt||(kt=Object(xe.a)(['---\n## Buttons\n\n~~~js\nimport {button} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof b")).define("viewof b",["button"],(function(e){return e()})),a.variable(t("b")).define("b",["Generators","viewof b"],(function(e,t){return e.input(t)})),a.variable(t()).define(["b"],(function(e){return!this})),a.variable(t("viewof b1")).define("viewof b1",["button"],(function(e){return e({value:"Click me",description:"We use a reference to the button below to record the time you pressed it."})})),a.variable(t("b1")).define("b1",["Generators","viewof b1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["b1"],(function(e){return new Date(Date.now()).toUTCString()})),a.variable(t("button")).define("button",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=void 0===a?"Ok":a,i=n.title,o=n.description,l=n.disabled,u=e({type:"button",title:i,description:o,attributes:{disabled:l,value:r}});return u.output.remove(),u}})),a.variable(t("selectDemo")).define("selectDemo",["md"],(function(e){return e(Ot||(Ot=Object(xe.a)(['---\n## Dropdown Menus and Multiselects\n\n~~~js\nimport {select} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof dd")).define("viewof dd",["select"],(function(e){return e(["Spring","Summer","Fall","Winter"])})),a.variable(t("dd")).define("dd",["Generators","viewof dd"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd"],(function(e){return e})),a.variable(t("viewof dd1")).define("viewof dd1",["select"],(function(e){return e({title:"Stooges",description:"Please pick your favorite stooge.",options:["Curly","Larry","Moe","Shemp"],value:"Moe"})})),a.variable(t("dd1")).define("dd1",["Generators","viewof dd1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd1"],(function(e){return e})),a.variable(t("viewof dd2")).define("viewof dd2",["select"],(function(e){return e({description:"As a child, which vegetables did you refuse to eat?",options:["Spinach","Broccoli","Brussels Sprouts","Cauliflower","Kale","Turnips","Green Beans","Asparagus"],multiple:!0})})),a.variable(t("dd2")).define("dd2",["Generators","viewof dd2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd2"],(function(e){return e})),a.variable(t("viewof dd3")).define("viewof dd3",["select"],(function(e){var t=e({title:"How are you feeling today?",options:[{label:"\ud83e\udd37",value:"shrug"},{label:"\ud83d\ude02",value:"tears-of-joy"},{label:"\ud83d\ude0d",value:"loving-it"},{label:"\ud83e\udd14",value:"hmmm"},{label:"\ud83d\ude31",value:"yikes",disabled:!0},{label:"\ud83d\ude08",value:"mischievous"},{label:"\ud83d\udca9",value:"poo"}],value:"hmmm"});return t.input.style.fontSize="30px",t.input.style.marginTop="8px",t})),a.variable(t("dd3")).define("dd3",["Generators","viewof dd3"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd3"],(function(e){return e})),a.variable(t("select")).define("select",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.disabled,u=a.submit,s=a.multiple,c=a.size,d=a.options;d=d.map((function(e){return"object"===typeof e?e:{value:e,label:e}}));var f=e({type:"select",title:i,description:o,submit:u,attributes:{disabled:l},getValue:function(e){var t=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return e.value}));return s?t:t[0]},form:t(St||(St=Object(xe.a)(['\n      <form>\n        <select name="input" ',">\n          ","\n        </select>\n      </form>\n    "])),s?'multiple size="'.concat(c||d.length,'"'):"",d.map((function(e){var n=e.value,a=e.label,i=e.disabled;return Object.assign(t(At||(At=Object(xe.a)(["<option>"]))),{value:n,selected:Array.isArray(r)?r.includes(n):r===n,disabled:i||!1,textContent:a})})))});return f.output.remove(),f}})),a.variable(t("autoSelectDemo")).define("autoSelectDemo",["md"],(function(e){return e(Ct||(Ct=Object(xe.a)(['---\n## Autoselects\n*A variant of an option menu, using an autocompleting text input, via HTML\u2019s datalist element.* \n\n~~~js\nimport {autoSelect} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof as")).define("viewof as",["autoSelect","usa"],(function(e,t){return e({options:t.objects.states.geometries.map((function(e){return e.properties.name})),placeholder:"Search for a US state . . ."})})),a.variable(t("as")).define("as",["Generators","viewof as"],(function(e,t){return e.input(t)})),a.variable(t()).define(["as"],(function(e){return e})),a.variable(t("autoSelect")).define("autoSelect",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.disabled,u=(a.autocomplete,a.placeholder),s=(a.size,a.options),c=a.list,d=void 0===c?"options":c,f=new Set(s),p=e({type:"text",title:i,description:o,attributes:{disabled:l},action:function(e){e.value=e.input.value=r||"",e.onsubmit=function(e){return e.preventDefault()},e.input.oninput=function(t){t.stopPropagation(),e.value=e.input.value,e.value&&!f.has(e.value)||e.dispatchEvent(new CustomEvent("input"))}},form:t(Mt||(Mt=Object(xe.a)(['\n      <form>\n         <input name="input" type="text" autocomplete="off" \n          placeholder="','" style="font-size: 1em;" list=','>\n          <datalist id="','">\n              ',"\n          </datalist>\n      </form>\n      "])),u||"",d,d,s.map((function(e){return Object.assign(t(Pt||(Pt=Object(xe.a)(["<option>"]))),{value:e})})))});return p.output.remove(),p}})),a.variable(t("colorDemo")).define("colorDemo",["md"],(function(e){return e(Dt||(Dt=Object(xe.a)(['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * `"#bada55"` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'],['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * \\`"#bada55"\\` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof c")).define("viewof c",["color"],(function(e){return e()})),a.variable(t("c")).define("c",["Generators","viewof c"],(function(e,t){return e.input(t)})),a.variable(t("viewof c1")).define("viewof c1",["color"],(function(e){return e({value:"#0000ff",title:"Background Color",description:"This color picker starts out blue"})})),a.variable(t("c1")).define("c1",["Generators","viewof c1"],(function(e,t){return e.input(t)})),a.variable(t("color")).define("color",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=void 0===a?"#000000":a,i=n.title,o=n.description,l=n.disabled,u=n.submit,s=n.display,c=e({type:"color",title:i,description:o,submit:u,display:s,attributes:{disabled:l,value:r}});return c.input.value="",c.input.value=r,(i||o)&&(c.input.style.margin="5px 0"),c}})),a.variable(t("coordinatesDemo")).define("coordinatesDemo",["md"],(function(e){return e(Tt||(Tt=Object(xe.a)([' ---\n## Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof coords1")).define("viewof coords1",["coordinates"],(function(e){return e()})),a.variable(t("coords1")).define("coords1",["Generators","viewof coords1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["coords1"],(function(e){return e})),a.variable(t("viewof coords2")).define("viewof coords2",["coordinates"],(function(e){return e({title:"Hometown",description:"Enter the coordinates of where you were born",value:[-122.27,37.87],submit:!0})})),a.variable(t("coords2")).define("coords2",["Generators","viewof coords2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["coords2"],(function(e){return e})),a.variable(t("coordinates")).define("coordinates",["html","input"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{value:n}:n,r=a.value,i=void 0===r?[]:r,l=a.title,u=a.description,s=a.submit,c=Object(o.a)(i,2),d=c[0],f=c[1];d=null!=d?d:"",f=null!=f?f:"";var p=e(zt||(zt=Object(xe.a)(['<input name="input" type="number" autocomplete="off" min="-180" max="180" style="width: 80px;" step="any" value="','" />'])),d),m=e(Nt||(Nt=Object(xe.a)(['<input name="input" type="number" autocomplete="off" min="-90" max="90" style="width: 80px;" step="any" value="','" />'])),f),v=t({type:"coordinates",title:l,description:u,submit:s,getValue:function(){var e=p.valueAsNumber,t=m.valueAsNumber;return[isNaN(e)?null:e,isNaN(t)?null:t]},form:e(Ft||(Ft=Object(xe.a)(['\n      <form>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 6px 0 3px;">\n          <span style="display: inline-block; width: 70px;">Longitude:</span>\n          ','\n        </label>\n        <br>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 0 0 6px;">\n          <span style="display: inline-block; width: 70px;">Latitude:</span>\n          ',"\n        </label>\n      </form>\n    "])),p,m)});return v.output.remove(),v}})),a.variable(t("worldMapCoordinatesDemo")).define("worldMapCoordinatesDemo",["md"],(function(e){return e(Gt||(Gt=Object(xe.a)([' ---\n## World Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## World Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof worldMap1")).define("viewof worldMap1",["worldMapCoordinates"],(function(e){return e([-122.27,37.87])})),a.variable(t("worldMap1")).define("worldMap1",["Generators","viewof worldMap1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["worldMap1"],(function(e){return e})),a.variable(t("worldMapCoordinates")).define("worldMapCoordinates",["html","DOM","d3geo","graticule","land","countries","input"],(function(e,t,n,a,r,i,l){return function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Array.isArray(u)?{value:u}:u,c=s.value,d=void 0===c?[]:c,f=s.title,p=s.description,m=s.width,v=void 0===m?400:m,b=Math.round(.525*v),h=Object(o.a)(d,2),g=h[0],w=h[1];g=null!=g?g:null,w=null!=w?w:null;var y=e(Lt||(Lt=Object(xe.a)(['<form style="width: ','px;"></form>'])),v),x=t.context2d(v,b),j=x.canvas;j.style.margin="10px 0 3px";var k=n.geoNaturalEarth1().precision(.1).fitSize([v,b],{type:"Sphere"}),O=n.geoPath(k,x).pointRadius(2.5);function S(){if(x.fillStyle="#fff",x.fillRect(0,0,v,b),x.beginPath(),O(a),x.lineWidth=.35,x.strokeStyle="#ddd",x.stroke(),x.beginPath(),O(r),x.fillStyle="#f4f4f4",x.fill(),x.beginPath(),O(i),x.strokeStyle="#aaa",x.stroke(),null!=g&&null!=w){var e={type:"MultiPoint",coordinates:[[g,w]]};x.beginPath(),O(e),x.fillStyle="#f00",x.fill()}}y.append(j),j.onclick=function(e){var t=e.offsetX,n=e.offsetY,a=k.invert([t,n]);g=+a[0].toFixed(2),w=+a[1].toFixed(2),S(),j.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},S();var A=l({type:"worldMapCoordinates",title:f,description:p,display:function(t){return e(Rt||(Rt=Object(xe.a)(['<div style="width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-bottom: 5px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"])),v,null!=g?g.toFixed(2):"",null!=w?w.toFixed(2):"")},getValue:function(){return[null!=g?g:null,null!=w?w:null]},form:y});return A}})),a.variable(t("usaMapCoordinatesDemo")).define("usaMapCoordinatesDemo",["md"],(function(e){return e(Bt||(Bt=Object(xe.a)([' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof usaMap1")).define("viewof usaMap1",["usaMapCoordinates"],(function(e){return e([-122.27,37.87])})),a.variable(t("usaMap1")).define("usaMap1",["Generators","viewof usaMap1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["usaMap1"],(function(e){return e})),a.variable(t("viewof usaMap2")).define("viewof usaMap2",["usaMapCoordinates"],(function(e){return e({title:"A Mini Map",description:"Defaults to New York City",width:200,value:[-74,40.71]})})),a.variable(t("usaMap2")).define("usaMap2",["Generators","viewof usaMap2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["usaMap2"],(function(e){return e})),a.variable(t("usaMapCoordinates")).define("usaMapCoordinates",["html","DOM","d3geo","nation","states","input"],(function(e,t,n,a,r,i){return function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=Array.isArray(l)?{value:l}:l,s=u.value,c=void 0===s?[]:s,d=u.title,f=u.description,p=u.width,m=void 0===p?400:p,v=m/960,b=600*v,h=Object(o.a)(c,2),g=h[0],w=h[1];g=null!=g?g:null,w=null!=w?w:null;var y=e(_t||(_t=Object(xe.a)(['<form style="width: ','px;"></form>'])),m),x=t.context2d(m,b),j=x.canvas;j.style.margin="5px 0 20px";var k=n.geoAlbersUsa().scale(1280).translate([480,300]),O=n.geoPath().context(x).pointRadius(2.5/v);function S(){if(x.clearRect(0,0,m,b),x.save(),x.scale(v,v),x.lineWidth=.35/v,x.beginPath(),O(a),x.fillStyle="#f4f4f4",x.fill(),x.beginPath(),O(r),x.strokeStyle="#aaa",x.stroke(),null!=g&&null!=w){var e={type:"MultiPoint",coordinates:[k([g,w])]};x.beginPath(),O(e),x.fillStyle="#f00",x.fill()}x.restore()}y.append(j),j.onclick=function(e){var t=e.offsetX,n=e.offsetY,a=k.invert([t/v,n/v]);g=+a[0].toFixed(2),w=+a[1].toFixed(2),S(),j.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},S();var A=i({type:"worldMapCoordinates",title:d,description:f,display:function(t){return e(It||(It=Object(xe.a)(['<div style="position: absolute; width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-top: -18px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"])),m,null!=g?g:"",null!=w?w:"")},getValue:function(){return[null!=g?g:null,null!=w?w:null]},form:y});return A}})),a.variable(t("dateDemo")).define("dateDemo",["md"],(function(e){return e(Et||(Et=Object(xe.a)([' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * `"2016-11-08"` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'],[' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * \\`"2016-11-08"\\` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof d")).define("viewof d",["date"],(function(e){return e()})),a.variable(t("d")).define("d",["Generators","viewof d"],(function(e,t){return e.input(t)})),a.variable(t("viewof d1")).define("viewof d1",["date"],(function(e){return e({title:"2017",min:"2017-01-01",max:"2017-12-31",value:"2017-01-01",description:"Only dates within the 2017 calendar year are allowed"})})),a.variable(t("d1")).define("d1",["Generators","viewof d1"],(function(e,t){return e.input(t)})),a.variable(t("date")).define("date",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.min,r=n.max,i=n.value,o=n.title,l=n.description,u=n.disabled,s=n.display;return e({type:"date",title:o,description:l,display:s,attributes:{min:a,max:r,disabled:u,value:i}})}})),a.variable(t("timeDemo")).define("timeDemo",["md"],(function(e){return e(qt||(qt=Object(xe.a)([' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * `"09:30:45"`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'],[' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * \\`"09:30:45"\\`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof t")).define("viewof t",["time"],(function(e){return e()})),a.variable(t("t")).define("t",["Generators","viewof t"],(function(e,t){return e.input(t)})),a.variable(t()).define(["t"],(function(e){return e})),a.variable(t("viewof t1")).define("viewof t1",["time"],(function(e){return e({title:"Afternoon",min:"12:00:00",max:"23:59:59",value:"13:00:00",step:1,description:"Only times after noon are allowed, and seconds are included"})})),a.variable(t("t1")).define("t1",["Generators","viewof t1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["t1"],(function(e){return e})),a.variable(t("time")).define("time",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.min,r=n.max,i=n.step,o=n.value,l=n.title,u=n.description,s=n.disabled,c=n.display,d=e({type:"time",title:l,description:u,display:c,getValue:function(e){return e.value?e.value:void 0},attributes:{min:a,max:r,step:i,disabled:s,value:o}});return d.output.remove(),d}})),a.variable(t("fileDemo")).define("fileDemo",["md"],(function(e){return e(Vt||(Vt=Object(xe.a)(['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n`import {file} from "@jashkenas/inputs"`'],['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n\\`import {file} from "@jashkenas/inputs"\\`'])))})),a.variable(t("viewof e")).define("viewof e",["file"],(function(e){return e()})),a.variable(t("e")).define("e",["Generators","viewof e"],(function(e,t){return e.input(t)})),a.variable(t("viewof e1")).define("viewof e1",["file"],(function(e){return e({title:"Photographs",description:"Only .jpg files are allowed in this example. Choose some images, and they\u2019ll appear in the cell below.",accept:".jpg",multiple:!0})})),a.variable(t("e1")).define("e1",["Generators","viewof e1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["html","e1","Files"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a){var r,i,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t(Ut||(Ut=Object(xe.a)(["<div>"]))),i=0;case 2:if(!(i<n.length)){e.next=12;break}return n[i],o=t(Wt||(Wt=Object(xe.a)(['<img height="125px" style="margin: 2px;" />']))),e.next=7,a.url(n[i]);case 7:o.src=e.sent,r.append(o);case 9:i++,e.next=2;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),a.variable(t("file")).define("file",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.multiple,a=t.accept,r=t.title,i=t.description,o=t.disabled,l=e({type:"file",title:r,description:i,attributes:{multiple:n,accept:a,disabled:o},action:function(e){e.input.onchange=function(){e.value=n?e.input.files:e.input.files[0],e.dispatchEvent(new CustomEvent("input"))}}});return l.output.remove(),l.input.onchange(),l}})),a.variable(t("textDemo")).define("textDemo",["md"],(function(e){return e(Ht||(Ht=Object(xe.a)(['---\n## Text Inputs\n\n~~~js\nimport {text} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof f")).define("viewof f",["text"],(function(e){return e()})),a.variable(t("f")).define("f",["Generators","viewof f"],(function(e,t){return e.input(t)})),a.variable(t("viewof f1")).define("viewof f1",["text"],(function(e){return e({title:"A Text Input",placeholder:"Placeholder text",description:"Note that text inputs don\u2019t show output on the right"})})),a.variable(t("f1")).define("f1",["Generators","viewof f1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["f1"],(function(e){return e})),a.variable(t("viewof f2")).define("viewof f2",["text"],(function(e){return e({placeholder:"Placeholder text",description:"This input only changes value on submit",submit:"Go"})})),a.variable(t("f2")).define("f2",["Generators","viewof f2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["f2"],(function(e){return e})),a.variable(t("text")).define("text",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.autocomplete,u=void 0===l?"off":l,s=n.maxlength,c=n.minlength,d=n.pattern,f=n.placeholder,p=n.size,m=n.submit,v=n.getValue,b=e({type:"text",title:r,description:i,submit:m,getValue:v,attributes:{value:a,autocomplete:u,maxlength:s,minlength:c,pattern:d,placeholder:f,size:p,disabled:o}});return b.output.remove(),b.input.style.fontSize="1em",b}})),a.variable(t("textareaDemo")).define("textareaDemo",["md"],(function(e){return e(Yt||(Yt=Object(xe.a)(['---\n## Textareas\n\n~~~js\nimport {textarea} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof g")).define("viewof g",["textarea"],(function(e){return e()})),a.variable(t("g")).define("g",["Generators","viewof g"],(function(e,t){return e.input(t)})),a.variable(t()).define(["g"],(function(e){return e})),a.variable(t("viewof g1")).define("viewof g1",["textarea"],(function(e){return e({title:"Your Great American Novel",placeholder:"Insert story here...",spellcheck:!0,width:"100%",rows:10,submit:"Publish"})})),a.variable(t("g1")).define("g1",["Generators","viewof g1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["g1"],(function(e){return e})),a.variable(t("textarea")).define("textarea",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="string"===typeof n?{value:n}:n,r=a.value,i=void 0===r?"":r,o=a.title,l=a.description,u=a.autocomplete,s=a.cols,c=void 0===s?45:s,d=a.rows,f=void 0===d?3:d,p=a.width,m=a.height,v=a.maxlength,b=a.placeholder,h=a.spellcheck,g=a.wrap,w=a.submit,y=a.disabled,x=a.getValue,j=e({form:t(Xt||(Xt=Object(xe.a)(['<form><textarea style="display: block; font-size: 0.8em;" name=input>',"</textarea></form>"])),i),title:o,description:l,submit:w,getValue:x,attributes:{autocomplete:u,cols:c,rows:f,maxlength:v,placeholder:b,spellcheck:h,wrap:g,disabled:y}});return j.output.remove(),null!=p&&(j.input.style.width=p),null!=m&&(j.input.style.height=m),w&&(j.submit.style.margin="0"),(o||l)&&(j.input.style.margin="3px 0"),j}})),a.variable(t("radioDemo")).define("radioDemo",["md"],(function(e){return e(Jt||(Jt=Object(xe.a)(['---\n## Radio Buttons\n\n~~~js\nimport {radio} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof r")).define("viewof r",["radio"],(function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])})),a.variable(t("r")).define("r",["Generators","viewof r"],(function(e,t){return e.input(t)})),a.variable(t()).define(["r"],(function(e){return e})),a.variable(t("viewof r1")).define("viewof r1",["radio"],(function(e){return e({title:"Contact Us",description:"Please select your preferred contact method",options:[{label:"By Email",value:"email"},{label:"By Phone",value:"phone"},{label:"By Pager",value:"pager"}],value:"pager"})})),a.variable(t("r1")).define("r1",["Generators","viewof r1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["r1"],(function(e){return e})),a.variable(t("radio")).define("radio",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.submit,u=a.options,s=a.disabled;u=u.map((function(e){return"string"===typeof e?{value:e,label:e}:e}));var c=e({type:"radio",title:i,description:o,submit:l,getValue:function(e){if(e.checked)return e.value;var t=Array.prototype.find.call(e,(function(e){return e.checked}));return t?t.value:void 0},form:t(Kt||(Kt=Object(xe.a)(["\n      <form>\n        ","\n      </form>\n    "])),u.map((function(e,n){var a=e.value,i=e.label,o=t(Qt||(Qt=Object(xe.a)(["<input type=radio name=input ",' style="vertical-align: top; ','" />'])),a===r?"checked":"",0===n?"margin-left: 1px;":"");return o.setAttribute("value",a),s&&o.setAttribute("value",s),t(Zt||(Zt=Object(xe.a)(['\n          <label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"])),o,i)})))});return c.output.remove(),c}})),a.variable(t("checkboxDemo")).define("checkboxDemo",["md"],(function(e){return e($t||($t=Object(xe.a)(['---\n## Checkboxes\n\n~~~js\nimport {checkbox} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof ch")).define("viewof ch",["checkbox"],(function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])})),a.variable(t("ch")).define("ch",["Generators","viewof ch"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch"],(function(e){return e})),a.variable(t("viewof ch1")).define("viewof ch1",["checkbox"],(function(e){return e({title:"Colors",description:"Please select your favorite colors",options:[{value:"r",label:"Red"},{value:"o",label:"Orange"},{value:"y",label:"Yellow"},{value:"g",label:"Green"},{value:"b",label:"Blue"},{value:"i",label:"Indigo"},{value:"v",label:"Violet"}],value:["r","g","b"],submit:!0})})),a.variable(t("ch1")).define("ch1",["Generators","viewof ch1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch1"],(function(e){return e})),a.variable(t("viewof ch3")).define("viewof ch3",["checkbox"],(function(e){return e({description:"Just a single checkbox to toggle",options:[{value:"toggle",label:"On"}],value:"toggle"})})),a.variable(t("ch3")).define("ch3",["Generators","viewof ch3"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch3"],(function(e){return e})),a.variable(t("checkbox")).define("checkbox",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.submit,u=a.disabled,s=a.options;s=s.map((function(e){return"string"===typeof e?{value:e,label:e}:e}));var c=e({type:"checkbox",title:i,description:o,submit:l,getValue:function(e){return e.length?Array.prototype.filter.call(e,(function(e){return e.checked})).map((function(e){return e.value})):!!e.checked&&e.value},form:t(en||(en=Object(xe.a)(["\n      <form>\n        ","\n      </form>\n    "])),s.map((function(e,n){var a=e.value,i=e.label,o=t(tn||(tn=Object(xe.a)(["<input type=checkbox name=input ",' style="vertical-align: top; ','" />'])),(r||[]).indexOf(a)>-1?"checked":"",0===n?"margin-left: 1px;":"");return o.setAttribute("value",a),u&&o.setAttribute("disabled",u),t(nn||(nn=Object(xe.a)(['<label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"])),o,i)})))});return c.output.remove(),c}})),a.variable(t("numberDemo")).define("numberDemo",["md"],(function(e){return e(an||(an=Object(xe.a)(['---\n## Numbers\n\n~~~js\nimport {number} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof h")).define("viewof h",["number"],(function(e){return e()})),a.variable(t("h")).define("h",["Generators","viewof h"],(function(e,t){return e.input(t)})),a.variable(t()).define(["h"],(function(e){return e})),a.variable(t("viewof h1")).define("viewof h1",["number"],(function(e){return e({placeholder:"13+",title:"Your Age",submit:!0})})),a.variable(t("h1")).define("h1",["Generators","viewof h1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["h1"],(function(e){return e})),a.variable(t("number")).define("number",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"===typeof t||"string"===typeof t?{value:+t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.placeholder,u=n.submit,s=n.step,c=void 0===s?"any":s,d=n.min,f=n.max,p=e({type:"number",title:r,description:i,submit:u,attributes:{value:a,placeholder:l,step:c,min:d,max:f,autocomplete:"off",disabled:o},getValue:function(e){return e.valueAsNumber}});return p.output.remove(),p.input.style.width="auto",p.input.style.fontSize="1em",p}})),a.variable(t("passwordDemo")).define("passwordDemo",["md"],(function(e){return e(rn||(rn=Object(xe.a)(['---\n## Passwords\n\n~~~js\nimport {password} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof i")).define("viewof i",["password"],(function(e){return e({value:"password"})})),a.variable(t("i")).define("i",["Generators","viewof i"],(function(e,t){return e.input(t)})),a.variable(t()).define(["i"],(function(e){return e})),a.variable(t("viewof i1")).define("viewof i1",["password"],(function(e){return e({title:"Your super secret password",description:"Less than 12 characters, please.",minlength:6,maxlength:12})})),a.variable(t("i1")).define("i1",["Generators","viewof i1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["i1"],(function(e){return e})),a.variable(t("password")).define("password",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.autocomplete,u=void 0===l?"off":l,s=n.maxlength,c=n.minlength,d=n.pattern,f=n.placeholder,p=n.size,m=n.submit,v=e({type:"password",title:r,description:i,submit:m,attributes:{value:a,autocomplete:u,maxlength:s,minlength:c,pattern:d,placeholder:f,size:p,disabled:o}});return v.output.remove(),v.input.style.fontSize="1em",v}})),a.variable(t()).define(["md"],(function(e){return e(on||(on=Object(xe.a)(["---\n## Wishlist (Send suggestions, please!)\n\n* 3D coordinate input (for say, positioning a camera in a WebGL sketch)\n* Geocoder search with location autocomplete that returns longitude and latitude.\n* Degrees or radians input, for circular things, or angles.\n* A dimensions input, or a box-model input, with margin (and optionally, padding).\n* A map-projection-picker input, rendering little thumbnails of all the d3-geo-projections.\n* Drag and drop file upload input.\n* Alternative coordinate inputs, e.g. Right Ascension, Declination.\n* Other useful formatting options.\n\n---"])))})),a.variable(t("input")).define("input",["html","d3format"],(function(e,t){return function(n){var a=n.form,r=n.type,i=void 0===r?"text":r,o=n.attributes,l=void 0===o?{}:o,u=n.action,s=n.getValue,c=n.title,d=n.description,f=n.format,p=n.display,m=n.submit,v=(n.options,e(ln||(ln=Object(xe.a)(["<div></div>"]))));if(a||(a=e(un||(un=Object(xe.a)(["<form>\n\t<input name=input type="," />\n  </form>"])),i)),Object.keys(l).forEach((function(e){var t=l[e];null!=t&&a.input.setAttribute(e,t)})),m&&a.append(e(sn||(sn=Object(xe.a)(['<input name=submit type=submit style="margin: 0 0.75em" value="','" />'])),"string"==typeof m?m:"Submit")),a.append(e(cn||(cn=Object(xe.a)(['<output name=output style="font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;"></output>'])))),c&&a.prepend(e(dn||(dn=Object(xe.a)(['<div style="font: 700 0.9rem sans-serif; margin-bottom: 3px;">',"</div>"])),c)),d&&a.append(e(fn||(fn=Object(xe.a)(['<div style="font-size: 0.85rem; font-style: italic; margin-top: 3px;">',"</div>"])),d)),f&&(f="function"===typeof f?f:t.format(f)),u)u(a);else{var b=m?"onsubmit":"button"==i?"onclick":"checkbox"==i||"radio"==i?"onchange":"oninput";a[b]=function(e){e&&e.preventDefault();var t=s?s(a.input):a.input.value;if(a.output){var n=p?p(t):f?f(t):t;if(n instanceof window.Element){for(;a.output.hasChildNodes();)a.output.removeChild(a.output.lastChild);a.output.append(n)}else a.output.value=n}a.value=t,"oninput"!==b&&a.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},"oninput"!==b&&(v.oninput=function(e){return e&&e.stopPropagation()&&e.preventDefault()}),"onsubmit"!==b&&(a.onsubmit=function(e){return e&&e.preventDefault()}),a[b]()}for(;a.childNodes.length;)v.appendChild(a.childNodes[0]);return a.append(v),a}})),a.variable(t("d3geo")).define("d3geo",["require"],(function(e){return e("d3-geo@1")})),a.variable(t("d3format")).define("d3format",["require"],(function(e){return e("d3-format@1")})),a.variable(t("topojson")).define("topojson",["require"],(function(e){return e("topojson-client@3")})),a.variable(t("world")).define("world",Object(ye.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/world-atlas@1/world/110m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))),a.variable(t("land")).define("land",["topojson","world"],(function(e,t){return e.feature(t,t.objects.land)})),a.variable(t("countries")).define("countries",["topojson","world"],(function(e,t){return e.feature(t,t.objects.countries)})),a.variable(t("usa")).define("usa",Object(ye.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/us-atlas@^2.1/us/states-10m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))),a.variable(t("nation")).define("nation",["topojson","usa"],(function(e,t){return e.feature(t,t.objects.nation)})),a.variable(t("states")).define("states",["topojson","usa"],(function(e,t){return e.feature(t,t.objects.states)})),a.variable(t("graticule")).define("graticule",["d3geo"],(function(e){return e.geoGraticule10()})),a.variable(t("viewof license")).define("viewof license",["md"],(function(e){var t=e(pn||(pn=Object(xe.a)(["License: [MIT](https://opensource.org/licenses/MIT)"])));return t.value="MIT",t})),a.variable(t("license")).define("license",["Generators","viewof license"],(function(e,t){return e.input(t)})),a.variable(t()).define(["md"],(function(e){return e(mn||(mn=Object(xe.a)(["*Clip art courtesy [ClipArt ETC](https://etc.usf.edu/clipart/), radio buttons and checkboxes courtesy [Amit Sch](https://observablehq.com/@meetamit/multiple-choice-inputs).*"])))})),a}function ia(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(vn||(vn=Object(xe.a)(["# SVG swatches\n\nAn alternative to [Mike Bostock's HTML swatches](https://observablehq.com/@d3/color-legend#swatches). This approach uses [`getBBox`](https://developer.mozilla.org/en-US/docs/Web/API/SVGGraphicsElement/getBBox) to compute label length. It can't yet handle multiple rows."],["# SVG swatches\n\nAn alternative to [Mike Bostock's HTML swatches](https://observablehq.com/@d3/color-legend#swatches). This approach uses [\\`getBBox\\`](https://developer.mozilla.org/en-US/docs/Web/API/SVGGraphicsElement/getBBox) to compute label length. It can't yet handle multiple rows."])))})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({colour:t.scaleOrdinal(["<10","10-19","20-29","30-39","40-49","50-59","60-69","70-79","\u226580"],t.schemeSpectral[10])})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({colour:t.scaleOrdinal(["blueberries with redundant text","oranges with redundant text","apples with redundant text"],t.schemeCategory10),labelFormat:function(e){return e.replace("with redundant text","")}})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({colour:t.scaleOrdinal(["One really big label","And another"],["gold","slateblue"]),swatchRadius:20,labelFont:"italic 40px serif"})})),n.variable(t()).define(["md"],(function(e){return e(bn||(bn=Object(xe.a)(["---\n\n## Implementation"])))})),n.variable(t("swatches")).define("swatches",["getLabelLength","d3"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.colour,r=n.swatchRadius,i=void 0===r?6:r,o=n.swatchPadding,l=void 0===o?i*(2/3):o,u=n.labelFont,s=void 0===u?"12px sans-serif":u,c=n.labelFormat,d=void 0===c?function(e){return e}:c,f=n.labelPadding,p=void 0===f?1.5*i:f,m=n.marginLeft,v=void 0===m?0:m,b=a.domain().map((function(e){return d(e)})).map((function(t){return e(t,s)+2*i+l+p})).map((function(e,n,a){return t.cumsum(a)[n]+v})),h=t.max(b),g=2*i+2*l,w=t.create("svg").attr("width",h).attr("height",g).attr("viewBox",[0,0,h,g]).style("overflow","visible").style("display","block"),y=w.append("g").attr("transform","translate(0, ".concat(g/2,")")).selectAll("g").data(a.domain()).join("g").attr("transform",(function(e,t){return"translate(".concat(b[t-1]||v,", 0)")}));return y.append("circle").attr("fill",a).attr("r",i).attr("cx",i).attr("cy",0),y.append("text").attr("x",2*i+l).attr("y",0).attr("dominant-baseline","central").style("font",s).text((function(e){return d(e)})),w.node()}})),n.variable(t("getLabelLength")).define("getLabelLength",["DOM","html"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"12px sans-serif",r=e.uid("label").id,i=t(hn||(hn=Object(xe.a)(["<svg>\n    <style> ."," { font: "," } </style>\n    <g id=",'>\n      <text class="','">',"</text>\n    </g>\n  </svg>"])),r,a,r,r,e.text(n));document.body.appendChild(i);var o=i.getElementById(r).getBBox().width;return document.body.removeChild(i),o}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@5","d3-array@2.4")})),n}function oa(e,t){var n=e.module();return n.variable(t()).define(["DOM","button","data","md"],(function(e,t,n,a){var r=e.element("div"),i=t(n,"fips.csv"),o=t(n,"fips.json"),l=a(gn||(gn=Object(xe.a)(["# Download data button\n\nThe <code>button</code> function takes two positional arguments:\n\n1. **Required** - An array of the data to download as a CSV or a JSON file\n2. The name of the file to be downloaded, defaults to <code>data.csv</code>\n\nFor example, this code will create the following button\n<code><pre>\nbutton(data, 'fips.csv')\n</pre></code>\n"]))),u=a(wn||(wn=Object(xe.a)(["And if you use a filename that ends in <code>.json</code>, then the button will download a JSON document instead of a CSV.\n\n<code><pre>\nbutton(data, 'fips.json')\n</pre></code>"])));return r.appendChild(l),r.appendChild(i),r.appendChild(u),r.appendChild(o),r})),n.variable(t("data")).define("data",(function(){return[{fips:"01",abbreviation:"AL",name:"Alabama"},{fips:"02",abbreviation:"AK",name:"Alaska"},{fips:"03",abbreviation:"AS",name:"American Samoa"},{fips:"04",abbreviation:"AZ",name:"Arizona"},{fips:"05",abbreviation:"AR",name:"Arkansas"},{fips:"06",abbreviation:"CA",name:"California"},{fips:"07",abbreviation:"CZ",name:"Canal Zone"},{fips:"08",abbreviation:"CO",name:"Colorado"},{fips:"09",abbreviation:"CT",name:"Connecticut"},{fips:"10",abbreviation:"DE",name:"Delaware"},{fips:"11",abbreviation:"DC",name:"District Of Columbia"},{fips:"12",abbreviation:"FL",name:"Florida"},{fips:"13",abbreviation:"GA",name:"Georgia"},{fips:"14",abbreviation:"GU",name:"Guam"},{fips:"15",abbreviation:"HI",name:"Hawaii"},{fips:"16",abbreviation:"ID",name:"Idaho"},{fips:"17",abbreviation:"IL",name:"Illinois"},{fips:"18",abbreviation:"IN",name:"Indiana"},{fips:"19",abbreviation:"IA",name:"Iowa"},{fips:"20",abbreviation:"KS",name:"Kansas"},{fips:"21",abbreviation:"KY",name:"Kentucky"},{fips:"22",abbreviation:"LA",name:"Louisiana"},{fips:"23",abbreviation:"ME",name:"Maine"},{fips:"24",abbreviation:"MD",name:"Maryland"},{fips:"25",abbreviation:"MA",name:"Massachusetts"},{fips:"26",abbreviation:"MI",name:"Michigan"},{fips:"27",abbreviation:"MN",name:"Minnesota"},{fips:"28",abbreviation:"MS",name:"Mississippi"},{fips:"29",abbreviation:"MO",name:"Missouri"},{fips:"30",abbreviation:"MT",name:"Montana"},{fips:"31",abbreviation:"NE",name:"Nebraska"},{fips:"32",abbreviation:"NV",name:"Nevada"},{fips:"33",abbreviation:"NH",name:"New Hampshire"},{fips:"34",abbreviation:"NJ",name:"New Jersey"},{fips:"35",abbreviation:"NM",name:"New Mexico"},{fips:"36",abbreviation:"NY",name:"New York"},{fips:"37",abbreviation:"NC",name:"North Carolina"},{fips:"38",abbreviation:"ND",name:"North Dakota"},{fips:"39",abbreviation:"OH",name:"Ohio"},{fips:"40",abbreviation:"OK",name:"Oklahoma"},{fips:"41",abbreviation:"OR",name:"Oregon"},{fips:"42",abbreviation:"PA",name:"Pennsylvania"},{fips:"43",abbreviation:"PR",name:"Puerto Rico"},{fips:"44",abbreviation:"RI",name:"Rhode Island"},{fips:"45",abbreviation:"SC",name:"South Carolina"},{fips:"46",abbreviation:"SD",name:"South Dakota"},{fips:"47",abbreviation:"TN",name:"Tennessee"},{fips:"48",abbreviation:"TX",name:"Texas"},{fips:"49",abbreviation:"UT",name:"Utah"},{fips:"50",abbreviation:"VT",name:"Vermont"},{fips:"51",abbreviation:"VA",name:"Virginia"},{fips:"52",abbreviation:"VI",name:"Virgin Islands"},{fips:"53",abbreviation:"WA",name:"Washington"},{fips:"54",abbreviation:"WV",name:"West Virginia"},{fips:"55",abbreviation:"WI",name:"Wisconsin"},{fips:"56",abbreviation:"WY",name:"Wyoming"}]})),n.variable(t("button")).define("button",["d3","DOM"],(function(e,t){return function(n){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data.csv";if(!n)throw new Error("Array of data required as first argument");var i=((a=r.includes(".csv")?new Blob([e.csvFormat(n)],{type:"text/csv"}):new Blob([JSON.stringify(n,null,2)],{type:"application/json"})).size/1024).toFixed(0),o=t.download(a,r,"Download ".concat(r," (~").concat(i," KB)"));return o}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3")})),n}function la(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(yn||(yn=Object(xe.a)(['# Color Legend\n\nA simple legend for a [color scale](/@d3/color-schemes). Supports [continuous](/@d3/continuous-scales), [sequential](/@d3/sequential-scales), [diverging](/@d3/diverging-scales), [quantize, quantile, threshold](/@d3/quantile-quantize-and-threshold-scales) and [ordinal](/@d3/d3-scaleordinal) scales. To use:\n\n~~~js\nimport {legend, swatches} from "@d3/color-legend"\n~~~\n\nThen call the legend function as shown below. (For ordinal scales, also consider the swatches function.)'])))})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequential([0,100],t.interpolateViridis),title:"Temperature (\xb0F)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialSqrt([0,1],t.interpolateTurbo),title:"Speed (kts)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDiverging([-.1,0,.1],t.interpolatePiYG),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDivergingSqrt([-.1,0,.1],t.interpolateRdBu),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialLog([1,100],t.interpolateBlues),title:"Energy (joules)",ticks:10,tickFormat:".0s"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialQuantile(Array.from({length:100},(function(){return Math.pow(Math.random(),2)})),t.interpolateBlues),title:"Quantile",tickFormat:".2f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSqrt([-100,0,100],["blue","white","red"]),title:"Temperature (\xb0C)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantize([1,10],t.schemePurples[9]),title:"Unemployment rate (%)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantile(t.range(1e3).map(t.randomNormal(100,20)),t.schemeSpectral[9]),title:"Height (cm)",tickFormat:".0f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleThreshold([2.5,3.1,3.5,3.9,6,7,8,9.5],t.schemeRdBu[9]),title:"Unemployment rate (%)",tickSize:0})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleOrdinal(["<10","10-19","20-29","30-39","40-49","50-59","60-69","70-79","\u226580"],t.schemeSpectral[10]),title:"Age (years)",tickSize:0})})),n.variable(t()).define(["md"],(function(e){return e(xn||(xn=Object(xe.a)(["But wait, there\u2019s more!\n\nHow about swatches for ordinal color scales? Both variable-width swatches and [column layout](https://developer.mozilla.org/en-US/docs/Web/CSS/columns) are supported."])))})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["blueberries","oranges","apples"],t.schemeCategory10)})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["Wholesale and Retail Trade","Manufacturing","Leisure and hospitality","Business services","Construction","Education and Health","Government","Finance","Self-employed","Other"],t.schemeTableau10),columns:"180px"})})),n.variable(t()).define(["md"],(function(e){return e(jn||(jn=Object(xe.a)(["---\n\n## Implementation"])))})),n.variable(t("legend")).define("legend",["d3","ramp"],(function(e,t){return function(){var n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.color,i=a.title,o=a.tickSize,l=void 0===o?6:o,u=a.width,s=void 0===u?320:u,c=a.height,d=void 0===c?44+l:c,f=a.marginTop,p=void 0===f?18:f,m=a.marginRight,v=void 0===m?0:m,b=a.marginBottom,h=void 0===b?16+l:b,g=a.marginLeft,w=void 0===g?0:g,y=a.ticks,x=void 0===y?s/64:y,j=a.tickFormat,k=a.tickValues,O=e.create("svg").attr("width",s).attr("height",d).attr("viewBox",[0,0,s,d]).style("overflow","visible").style("display","block"),S=function(e){return e.selectAll(".tick line").attr("y1",p+h-d)};if(r.interpolate){var A=Math.min(r.domain().length,r.range().length);n=r.copy().rangeRound(e.quantize(e.interpolate(w,s-v),A)),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.copy().domain(e.quantize(e.interpolate(0,1),A))).toDataURL())}else if(r.interpolator){if(n=Object.assign(r.copy().interpolator(e.interpolateRound(w,s-v)),{range:function(){return[w,s-v]}}),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.interpolator()).toDataURL()),!n.ticks){if(void 0===k){var C=Math.round(x+1);k=e.range(C).map((function(t){return e.quantile(r.domain(),t/(C-1))}))}"function"!==typeof j&&(j=e.format(void 0===j?",f":j))}}else if(r.invertExtent){var M=r.thresholds?r.thresholds():r.quantiles?r.quantiles():r.domain(),P=void 0===j?function(e){return e}:"string"===typeof j?e.format(j):j;n=e.scaleLinear().domain([-1,r.range().length-1]).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.range()).join("rect").attr("x",(function(e,t){return n(t-1)})).attr("y",p).attr("width",(function(e,t){return n(t)-n(t-1)})).attr("height",d-p-h).attr("fill",(function(e){return e})),k=e.range(M.length),j=function(e){return P(M[e],e)}}else n=e.scaleBand().domain(r.domain()).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.domain()).join("rect").attr("x",n).attr("y",p).attr("width",Math.max(0,n.bandwidth()-1)).attr("height",d-p-h).attr("fill",r),S=function(){};return O.append("g").attr("transform","translate(0,".concat(d-h,")")).call(e.axisBottom(n).ticks(x,"string"===typeof j?j:void 0).tickFormat("function"===typeof j?j:void 0).tickSize(l).tickValues(k)).call(S).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.append("text").attr("x",w).attr("y",p+h-d-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)})),O.node()}})),n.variable(t("swatches")).define("swatches",["DOM","html","entity"],(function(e,t,n){return function(a){var r=a.color,i=a.columns,o=void 0===i?null:i,l=a.format,u=void 0===l?function(e){return e}:l,s=a.swatchSize,c=void 0===s?15:s,d=a.swatchWidth,f=void 0===d?c:d,p=a.swatchHeight,m=void 0===p?c:p,v=a.marginLeft,b=void 0===v?0:v,h=e.uid().id;return null!==o?t(kn||(kn=Object(xe.a)(['<div style="display: flex; align-items: center; margin-left: ','px; min-height: 33px; font: 10px sans-serif;">\n  <style>\n\n.',"-item {\n  break-inside: avoid;\n  display: flex;\n  align-items: center;\n  padding-bottom: 1px;\n}\n\n.","-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: calc(100% - ","px - 0.5em);\n}\n\n.","-swatch {\n  width: ","px;\n  height: ",'px;\n  margin: 0 0.5em 0 0;\n}\n\n  </style>\n  <div style="width: 100%; columns: ',';">',"\n  </div>\n</div>"])),+b,h,h,+f,h,+f,+m,o,r.domain().map((function(e){var a=u(e);return t(On||(On=Object(xe.a)(['<div class="','-item">\n      <div class="','-swatch" style="background:',';"></div>\n      <div class="','-label" title="','">',"</div>\n    </div>"])),h,h,r(e),h,a.replace(/["&]/g,n),document.createTextNode(a))}))):t(Sn||(Sn=Object(xe.a)(['<div style="display: flex; align-items: center; min-height: 33px; margin-left: ','px; font: 10px sans-serif;">\n  <style>\n\n.'," {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}\n\n.",'::before {\n  content: "";\n  width: ',"px;\n  height: ","px;\n  margin-right: 0.5em;\n  background: var(--color);\n}\n\n  </style>\n  <div>","</div>"])),+b,h,h,+f,+m,r.domain().map((function(e){return t(An||(An=Object(xe.a)(['<span class="','" style="--color: ','">',"</span>"])),h,r(e),document.createTextNode(u(e)))})))}})),n.variable(t("entity")).define("entity",(function(){return function(e){return"&#".concat(e.charCodeAt(0).toString(),";")}})),n.variable(t("ramp")).define("ramp",["DOM"],(function(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=e.canvas(n,1),r=a.getContext("2d"),i=0;i<n;++i)r.fillStyle=t(i/(n-1)),r.fillRect(i,0,1,1);return a}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),n}function ua(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(Cn||(Cn=Object(xe.a)(["# Contours\n\nShowing the [Goldstein\u2013Price test function](https://en.wikipedia.org/wiki/Test_functions_for_optimization)."])))})),n.variable(t("value")).define("value",(function(){return function(e,t){return(1+Math.pow(e+t+1,2)*(19-14*e+3*Math.pow(e,2)-14*t+6*e*t+3*Math.pow(t,2)))*(30+Math.pow(2*e-3*t,2)*(18-32*e+12*e*e+48*t-36*e*t+27*Math.pow(t,2)))}})),n.variable(t()).define(["legend","color"],(function(e,t){return e({color:t,title:"Value",tickFormat:","})})),n.variable(t("chart")).define("chart",["d3","width","height","contours","color","xAxis","yAxis"],(function(e,t,n,a,r,i,o){var l=e.create("svg").attr("viewBox",[0,0,t+28,n]).style("display","block").style("margin","0 -14px").style("width","calc(100% + 28px)");return l.append("g").attr("fill","none").attr("stroke","#fff").attr("stroke-opacity",.5).selectAll("path").data(a).join("path").attr("fill",(function(e){return r(e.value)})).attr("d",e.geoPath()),l.append("g").call(i),l.append("g").call(o),l.node()})),n.variable(t("color")).define("color",["d3","thresholds"],(function(e,t){return e.scaleSequentialLog(e.extent(t),e.interpolateMagma)})),n.variable(t("thresholds")).define("thresholds",["d3"],(function(e){return e.range(1,20).map((function(e){return Math.pow(2,e)}))})),n.variable(t("grid")).define("grid",["width","height","value","x","y"],(function(e,t,n,a,r){for(var i=e+28+4,o=t+4,l=Math.ceil((i- -2)/4),u=Math.ceil((o- -2)/4),s=new Array(l*u),c=0;c<u;++c)for(var d=0;d<l;++d)s[c*l+d]=n(a.invert(4*d-2),r.invert(4*c-2));return s.x=-4,s.y=-4,s.k=4,s.n=l,s.m=u,s})),n.variable(t("transform")).define("transform",["grid"],(function(e){return function(t){return{type:t.type,value:t.value,coordinates:t.coordinates.map((function(t){return t.map((function(t){return t.map((function(t){var n=Object(o.a)(t,2),a=n[0],r=n[1];return[e.x+e.k*a,e.y+e.k*r]}))}))}))}}})),n.variable(t("contours")).define("contours",["d3","grid","thresholds","transform"],(function(e,t,n,a){return e.contours().size([t.n,t.m]).thresholds(n)(t).map(a)})),n.variable(t("x")).define("x",["d3","width"],(function(e,t){return e.scaleLinear([-2,2],[0,t+28])})),n.variable(t("y")).define("y",["d3","height"],(function(e,t){return e.scaleLinear([-2,1],[t,0])})),n.variable(t("xAxis")).define("xAxis",["height","d3","x","width"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(0,".concat(e,")")).call(t.axisTop(n).ticks(a/e*10)).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick").filter((function(e){return n.domain().includes(e)})).remove()}))}})),n.variable(t("yAxis")).define("yAxis",["d3","y"],(function(e,t){return function(n){return n.attr("transform","translate(-1,0)").call(e.axisRight(t)).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick").filter((function(e){return t.domain().includes(e)})).remove()}))}})),n.variable(t("height")).define("height",(function(){return 600})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")}));var a=e.module(la);return n.import("legend",a),n}function sa(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(Mn||(Mn=Object(xe.a)(['# Saving SVG\n\n<figure style="display:flex;padding:10px;background:#fefedd;color:#444;font:15px/22px var(--sans-serif);">\n<div style="margin:10px;"><b>Update:</b> Saving SVG is now built-in! Open the cell menu <svg viewBox="0 0 8 14" fill="currentColor" stroke="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="8" height="14"><circle r="1.5" cx="4" cy="2"></circle><circle r="1.5" cx="4" cy="7"></circle><circle r="1.5" cx="4" cy="12"></circle></svg> in the left margin to download any SVG cell as either SVG or PNG.</div>\n<div><img src="https://user-images.githubusercontent.com/4732/57958244-0ed81780-78b4-11e9-859d-bc68cc4f45b6.png"></div>\n</figure>\n\nSay we have a dynamically-generated SVG, like this contour plot. Here\u2019s how might you save it to a file in Observable using DOM.download.'])))}));var a=e.module(ua);return n.import("chart",a),n.variable(t()).define(["chart"],(function(e){return e})),n.variable(t()).define(["md"],(function(e){return e(Pn||(Pn=Object(xe.a)(["You can serialize the SVG element as a string, and then download it as an SVG file."])))})),n.variable(t()).define(["DOM","serialize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as SVG")})),n.variable(t("serialize")).define("serialize",["NodeFilter"],(function(e){var t="http://www.w3.org/2000/xmlns/";return function(n){n=n.cloneNode(!0);for(var a=window.location.href+"#",r=document.createTreeWalker(n,e.SHOW_ELEMENT);r.nextNode();){var i,o=Object(dt.a)(r.currentNode.attributes);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.value.includes(a)&&(l.value=l.value.replace(a,"#"))}}catch(s){o.e(s)}finally{o.f()}}n.setAttributeNS(t,"xmlns","http://www.w3.org/2000/svg"),n.setAttributeNS(t,"xmlns:xlink","http://www.w3.org/1999/xlink");var u=(new window.XMLSerializer).serializeToString(n);return new Blob([u],{type:"image/svg+xml"})}})),n.variable(t()).define(["md"],(function(e){return e(Dn||(Dn=Object(xe.a)(["Alternatively, you can render the SVG to a canvas to generate a PNG."])))})),n.variable(t()).define(["DOM","rasterize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as PNG")})),n.variable(t("rasterize")).define("rasterize",["DOM","serialize"],(function(e,t){return function(n){var a,r,i=new Promise((function(e,t){return a=e,r=t})),o=new Image;return o.onerror=r,o.onload=function(){var t=n.getBoundingClientRect(),r=e.context2d(t.width,t.height);r.drawImage(o,0,0,t.width,t.height),r.canvas.toBlob(a)},o.src=URL.createObjectURL(t(n)),i}})),n.variable(t()).define(["md"],(function(e){return e(Tn||(Tn=Object(xe.a)(['To use this in your own notebook, import from this notebook:\n\n```js\nimport {rasterize} from "@mbostock/saving-svg"\n```\n\nHappy downloading!'],['To use this in your own notebook, import from this notebook:\n\n\\`\\`\\`js\nimport {rasterize} from "@mbostock/saving-svg"\n\\`\\`\\`\n\nHappy downloading!'])))})),n}function ca(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(zn||(zn=Object(xe.a)(["\n# Embedding Fonts Into An SVG\n\nThis notebook demonstrates how to embed fonts (or other external resources) into an SVG.  \nNote that this example uses a TrueType font to maximize compatibility. If you only want to rasterize the SVG inside the browser then WOFF/WOFF 2.0 will work just as well.\n"])))})),n.variable(t("svg_embed")).define("svg_embed",["svg","toDataURL"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Nn||(Nn=Object(xe.a)(["<svg width=300 height=200 xmlns=\"http://www.w3.org/2000/svg\">\n  <style>\n    @font-face {\n      font-family: 'Pacifico';\n      font-style: normal;\n      font-weight: 400;\n      src: url(",") format('woff'), url(",") format('truetype');\n    }\n    rect { fill: lightsalmon }\n    text {\n      font-size: 40px;\n      font-family: Pacifico;\n      fill: black;\n    }\n  </style>\n  <rect x=0 y=0 width=300 height=200 />\n  <text x=35 y=100>Well, hello!</text>\n</svg>\n"])),e.next=4,n("https://fonts.gstatic.com/s/pacifico/v12/FwZY7-Qmy14u9lezJ-6H6M-Bp0u-.woff");case 4:return e.t2=e.sent,e.next=7,n("https://rawcdn.githack.com/google/fonts/e9c0bd/ofl/pacifico/Pacifico-Regular.ttf");case 7:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t()).define(["html","DOM","serialize","svg_embed","rasterize"],(function(e,t,n,a,r){return e(Fn||(Fn=Object(xe.a)(["\n  ","\n  ","\n"])),t.download(n(a),"image.svg","Download as SVG"),t.download(r(a),"image.png","Download as PNG"))})),n.variable(t()).define(["md"],(function(e){return e(Gn||(Gn=Object(xe.a)(["\n---\n## Compatibility\n\nIf you plan to edit the downloaded SVG be aware that many applications do not support <code>@font-face</code> declarations (some may not even support CSS at all). When in doubt use a [web based SVG editor](https://mediatemple.net/blog/tips/browser-based-svg-editors/).\n"])))})),n.variable(t()).define(["md"],(function(e){return e(Ln||(Ln=Object(xe.a)(["---"])))})),n.variable(t("toDataURL")).define("toDataURL",(function(){return function(){var e=Object(ye.a)(we.a.mark((function e(t){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ye.a)(we.a.mark((function e(n,a){var r,i,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=5;break}return e.abrupt("return",a("Error: ".concat(r.status," ").concat(r.statusText)));case 5:return e.next=7,r.blob();case 7:i=e.sent,(o=new FileReader).readAsDataURL(i),o.onloadend=function(){return n(o.result)};case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));var a=e.module(sa);return n.import("serialize",a),n.import("rasterize",a),n}function da(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(Rn||(Rn=Object(xe.a)(["# Version Pinning for Notebooks\nObservable supports version pinning by appending the version number to the notebook name or path.\n\nThese functions make it easier to look up the most recent version of notebooks, and to use pinned versions in your own documentation. Example:"])))})),n.variable(t()).define(["md","getCurrentPinnedName"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Bn||(Bn=Object(xe.a)(["```js\nimport {getCurrentPinnedName} from '","'\n```"],["\\`\\`\\`js\nimport {getCurrentPinnedName} from '","'\n\\`\\`\\`"])),e.next=4,n();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t()).define(["md","dataTable","getCurrentLocalPath","getCurrentPath","getCurrentName","getCurrentPinnedName","getCurrentMetadata","getCurrentComparePath"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r,i,o,l,u){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=_n||(_n=Object(xe.a)(["---\n## Current Notebook\nFunctions that can be used to obtain information about the currently viewed notebook. Metadata and the pinned name will be available once you have shared or published your notebook. Reload the page after publishing to see the updated version number.\n\n","\n\n"])),e.t2=n,e.t3=["getCurrentLocalPath",a()],e.t4=["getCurrentPath",r()],e.t5=["getCurrentName",i()],e.next=8,o();case 8:return e.t6=e.sent,e.t7=["getCurrentPinnedName",e.t6],e.next=12,l();case 12:return e.t8=e.sent,e.t9=["getCurrentMetadata",e.t8],e.next=16,u(299);case 16:return e.t10=e.sent,e.t11=["getCurrentComparePath",e.t10],e.t12=[e.t3,e.t4,e.t5,e.t7,e.t9,e.t11],e.t13=(0,e.t2)(e.t12),e.abrupt("return",(0,e.t0)(e.t1,e.t13));case 21:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,l,u){return e.apply(this,arguments)}}()),n.variable(t("getCurrentLocalPath")).define("getCurrentLocalPath",["html"],(function(e){return function(){return e(In||(In=Object(xe.a)(['<a href="#">']))).pathname}})),n.variable(t("getCurrentPath")).define("getCurrentPath",["formatPath","getCurrentName"],(function(e,t){return function(){return e(t())}})),n.variable(t("getCurrentName")).define("getCurrentName",["getCurrentLocalPath"],(function(e){return function(){return e().replace(/^\/(d\/)?/,"")}})),n.variable(t("getCurrentPinnedName")).define("getCurrentPinnedName",["getCurrentMetadata","formatName","getCurrentName"],(function(e,t,n){return function(){var a=Object(ye.a)(we.a.mark((function a(){var r;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:if(!(r=a.sent)||!r.version){a.next=5;break}return a.abrupt("return",t(n(),r.version));case 5:return a.abrupt("return",null);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t("getCurrentMetadata")).define("getCurrentMetadata",["getMetadata","getCurrentName"],(function(e,t){var n;return function(){var a=Object(ye.a)(we.a.mark((function a(){var r,i=arguments;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=i.length>0&&void 0!==i[0]&&i[0],void 0!==n&&!r){a.next=5;break}return a.next=4,e(t());case 4:n=a.sent;case 5:return a.abrupt("return",n);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t("getCurrentComparePath")).define("getCurrentComparePath",["getMetadata","getCurrentName","formatComparePath"],(function(e,t,n){return function(){var a=Object(ye.a)(we.a.mark((function a(){var r,i,o,l=arguments;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:null,i=l.length>1&&void 0!==l[1]?l[1]:null,a.next=4,e(t());case 4:if(!(o=a.sent)){a.next=7;break}return a.abrupt("return",n(o.id,r,o.id,i));case 7:return a.abrupt("return",null);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t()).define(["md"],(function(e){return e(En||(En=Object(xe.a)(["---\n## Other Notebooks\nFunctions for retrieving information about any notebooks.\n"])))})),n.variable(t("viewof preview_name")).define("viewof preview_name",["html","Event"],(function(e,t){var n=e(qn||(qn=Object(xe.a)(['<input type="button" value="Submit">']))),a=e(Vn||(Vn=Object(xe.a)(['<input type="text" value="@jashkenas/inputs">']))),r=e(Un||(Un=Object(xe.a)(["<form>"," ",""])),a,n);return a.oninput=function(e){return e.stopPropagation()},n.onclick=function(){r.value=a.value,r.dispatchEvent(new t("input"))},r.value=a.value,r})),n.variable(t("preview_name")).define("preview_name",["Generators","viewof preview_name"],(function(e,t){return e.input(t)})),n.variable(t()).define(["dataTable","formatLocalPath","preview_name","formatPath","formatSourcePath","getPinnedName","getPinnedPath","getSource","getMetadata"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r,i,o,l,u,s){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=["formatLocalPath",n(a)],e.t2=["formatPath",r(a)],e.t3=["formatSourcePath",i(a)],e.next=6,o(a);case 6:return e.t4=e.sent,e.t5=["getPinnedName",e.t4],e.next=10,l(a);case 10:return e.t6=e.sent,e.t7=["getPinnedPath",e.t6],e.next=14,u(a);case 14:return e.t8=e.sent,e.t9=["getSource",e.t8],e.next=18,s(a);case 18:return e.t10=e.sent,e.t11=["getMetadata",e.t10],e.t12=[e.t1,e.t2,e.t3,e.t5,e.t7,e.t9,e.t11],e.abrupt("return",(0,e.t0)(e.t12));case 22:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,l,u,s){return e.apply(this,arguments)}}()),n.variable(t("formatLocalPath")).define("formatLocalPath",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"/"+(e.match(/^@/)?e:"d/"+e)+(t?"@"+t:"")}})),n.variable(t("formatPath")).define("formatPath",["domain","formatLocalPath"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"https://".concat(e).concat(t(n,a))}})),n.variable(t("formatSourcePath")).define("formatSourcePath",["apiDomain","formatLocalPath"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"https://".concat(e).concat(t(n,a),".js")}})),n.variable(t("formatName")).define("formatName",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e+(t?"@"+t:"")}})),n.variable(t("formatId")).define("formatId",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e+(t?"@"+t:"")}})),n.variable(t("formatComparePath")).define("formatComparePath",["domain","formatId"],(function(e,t){return function(n,a,r,i){return"https://".concat(e,"/compare/").concat(t(n,a),"...").concat(t(r,i))}})),n.variable(t("getPinnedName")).define("getPinnedName",["getMetadata"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:if(!(a=t.sent)||!a.version){t.next=5;break}return t.abrupt("return",n+"@"+a.version);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t("getPinnedPath")).define("getPinnedPath",["getMetadata","formatPath"],(function(e,t){return function(){var n=Object(ye.a)(we.a.mark((function n(a){var r;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(a);case 2:if(!(r=n.sent)||!r.version){n.next=5;break}return n.abrupt("return",t(a,r.version));case 5:return n.abrupt("return",null);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),n.variable(t("getComparePath")).define("getComparePath",["getMetadata","formatComparePath"],(function(e,t){return function(){var n=Object(ye.a)(we.a.mark((function n(a){var r,i,o,l=arguments;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:null,i=l.length>2&&void 0!==l[2]?l[2]:null,n.next=4,e(a);case 4:if(!(o=n.sent)){n.next=7;break}return n.abrupt("return",t(o.id,r,o.id,i));case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),n.variable(t("getSource")).define("getSource",["formatSourcePath"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a,r,i,o=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:null,r=e(n,a),t.prev=2,t.next=5,fetch(r,{cache:a?"default":"no-cache"});case 5:return i=t.sent,t.next=8,i.text();case 8:return t.abrupt("return",t.sent);case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t("getMetadata")).define("getMetadata",["getSource"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a,r,i,o,l,u=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:null,r={URL:"url",Title:"title",Author:"author",Version:"version","Runtime version":"runtimeVersion"},t.next=4,e(n,a);case 4:if(i=t.sent){t.next=7;break}return t.abrupt("return",null);case 7:if(o=i.match(/^(?:\/\/ .+?\n)+/),l=i.match(/^\s+?id:\s+?"([^@"]+)/m),o&&l){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",o[0].split(/\n/).reduce((function(e,t){var n=t.match(/^\/\/ ([^:]+?):\s+?(.+?)$/);return n&&r.hasOwnProperty(n[1])&&(e[r[n[1]]]=n[2]),e}),{id:l[1]}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t()).define(["md"],(function(e){return e(Wn||(Wn=Object(xe.a)(["---"])))})),n.variable(t("domain")).define("domain",(function(){return"observablehq.com"})),n.variable(t("apiDomain")).define("apiDomain",(function(){return"api.observablehq.com"})),n.variable(t("dataTable")).define("dataTable",["html"],(function(e){return function(t){var n="padding:.5em;vertical-align:top",a=t.map((function(t){var a=Object(o.a)(t,2),r=a[0],i=a[1],l=e(Hn||(Hn=Object(xe.a)(['<div style="max-height:10em;overflow:auto;word-break:break-word">'])));return l.textContent=JSON.stringify(i),e(Yn||(Yn=Object(xe.a)(['<tr><th style="','">','</th><td style="',';font-family:monospace">',"</td>"])),n,r,n,l)}));return e(Xn||(Xn=Object(xe.a)(["<table>",""])),a)}})),n}function fa(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(Jn||(Jn=Object(xe.a)(["\n# Embedding Fonts Into An SVG\n\nHelper function written on top of [@mootari/embedding-fonts-into-an-svg](https://observablehq.com/@mootari/embedding-fonts-into-an-svg) with Google Fonts in mind:\n\n## Signature\n\n```javascript\nasync function addWebFont(selection, fontName, fontURL, fontType = 'woff2')\n```\n\n## Example:\n\n```javascript\n// From https://fonts.googleapis.com/css?family=Pacifico, pick the url under /* latin */\nselection.call(addWebFont, 'Pacifico', 'https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2');\n```\n"],["\n# Embedding Fonts Into An SVG\n\nHelper function written on top of [@mootari/embedding-fonts-into-an-svg](https://observablehq.com/@mootari/embedding-fonts-into-an-svg) with Google Fonts in mind:\n\n## Signature\n\n\\`\\`\\`javascript\nasync function addWebFont(selection, fontName, fontURL, fontType = 'woff2')\n\\`\\`\\`\n\n## Example:\n\n\\`\\`\\`javascript\n// From https://fonts.googleapis.com/css?family=Pacifico, pick the url under /* latin */\nselection.call(addWebFont, 'Pacifico', 'https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2');\n\\`\\`\\`\n"])))})),n.variable(t("addWebFont")).define("addWebFont",["toDataURL"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n,a,r){var i,o,l=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:"woff2",t.next=3,e(r);case 3:return o=t.sent,t.abrupt("return",n.append("style").text("\n    @font-face {\n      font-family: '".concat(a,"';\n      src: url(").concat(o,") format('").concat(i,"');\n    }\n  ")));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()})),n.variable(t()).define(["DOM","rasterize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as PNG")})),n.variable(t("chart")).define("chart",["d3","DOM","addWebFont"],(function(e,t,n){var a=e.select(t.svg(600,400));return a.append("text").call(n,"Pacifico","https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2").attr("style","font-size: 175px; font-family: 'Pacifico';").text("Pacifico").attr("x",300).attr("y",200).attr("dominant-baseline","middle").attr("text-anchor","middle"),a.node()})),n.variable(t()).define(["md"],(function(e){return e(Kn||(Kn=Object(xe.a)(["\n## Setup\n"])))})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("https://d3js.org/d3.v5.min.js")}));var a=e.module(sa);n.import("rasterize",a);var r=e.module(ca);n.import("toDataURL",r);var i=e.module(da);return n.import("getMetadata",i),n.variable(t()).define(["md"],(function(e){return e(Qn||(Qn=Object(xe.a)(['\n## "Backup"\n'])))})),n.variable(t("latestVersion")).define("latestVersion",["getMetadata"],function(){var e=Object(ye.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("@mootari/embedding-fonts-into-an-svg");case 2:return n=e.sent,e.abrupt("return",+n.version);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.variable(t()).define(["md"],(function(e){return e(Zn||(Zn=Object(xe.a)(["\n### `toDataURL` source as of **@171**\n\n```javascript\nasync function toDataURL(url) {\n  return new Promise(async(resolve, reject) => {\n    const res = await fetch(url);\n    if(!res.ok) return reject(`Error: ${res.status} ${res.statusText}`);\n    const blob = await res.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => resolve(reader.result);\n  });\n}\n```\n"],["\n### \\`toDataURL\\` source as of **@171**\n\n\\`\\`\\`javascript\nasync function toDataURL(url) {\n  return new Promise(async(resolve, reject) => {\n    const res = await fetch(url);\n    if(!res.ok) return reject(\\`Error: \\${res.status} \\${res.statusText}\\`);\n    const blob = await res.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => resolve(reader.result);\n  });\n}\n\\`\\`\\`\n"])))})),n}function pa(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e($n||($n=Object(xe.a)(["# Vertical Returns Chart"])))})),n.variable(t()).define(["md"],(function(e){return e(ea||(ea=Object(xe.a)(['### How to use it?\n- Choose the size of the chart\n  - Some parts of the chart might be cut off for certain chart size\n  - Select "Fit on screen" to see the full chart\n  - Change chart size when x-axis looks too congested\n- Type in the chart title\n- Pick a start date and an end date to set the time period of the chart. **The start date should be the last date of the previous month for monthly returns**\n- Choose assets you want to visualize in the checkbox\n- Hover over the chart to read the tooltips\n- Hover over a cell and click the three vertical dots (cell actions) on the left to:\n  - Leave comments \n  - Download the visualization in PNG or SVG format\n- Use the button beneath the chart to download the data in CSV format'])))})),n.variable(t("viewof size")).define("viewof size",["radio"],(function(e){return e({title:"Chart Size",description:"Please select your preferred chart size",options:[{label:"Article (1420 * 916)",value:"post"},{label:"Twitter / LinkedIn (1200 * 675)",value:"social"},{label:"Instagram (1080 * 1080)",value:"ig"},{label:"Fit on screen",value:"suitable"}],value:"suitable"})})),n.variable(t("size")).define("size",["Generators","viewof size"],(function(e,t){return e.input(t)})),n.variable(t("viewof title")).define("viewof title",["text"],(function(e){return e({title:"Chart Title",value:"CoinDesk 20 Asset Returns",description:"Recommend to use less than 20 words for the title"})})),n.variable(t("title")).define("title",["Generators","viewof title"],(function(e,t){return e.input(t)})),n.variable(t("viewof startdate")).define("viewof startdate",["date"],(function(e){return e({title:"Start Date",min:"2020-01-01",value:"2021-04-08",description:"The data before April 8, 2021 might be missing for some assets"})})),n.variable(t("startdate")).define("startdate",["Generators","viewof startdate"],(function(e,t){return e.input(t)})),n.variable(t("viewof enddate")).define("viewof enddate",["date"],(function(e){return e({title:"End Date",value:"2021-04-27"})})),n.variable(t("enddate")).define("enddate",["Generators","viewof enddate"],(function(e,t){return e.input(t)})),n.variable(t("viewof ch")).define("viewof ch",["checkbox"],(function(e){return e({description:"CoinDesk 20 assets are in <b>bold font</b>",options:[{value:"BTC",label:"<b>Bitcoin</b>"},{value:"ETH",label:"<b>Ethereum</b>"},{value:"XRP",label:"<b>XRP</b>"},{value:"BCH",label:"<b>Bitcoin Cash</b>"},{value:"LTC",label:"<b>Litecoin</b>"},{value:"XTZ",label:"<b>Tezos</b>"},{value:"EOS",label:"<b>EOS</b>"},{value:"LINK",label:"<b>Chainlink</b>"},{value:"BSV",label:"Bitcoin SV"},{value:"ETC",label:"Ethereum Classic"},{value:"XLM",label:"<b>Stellar</b>"},{value:"ZRX",label:"0x"},{value:"XMR",label:"Monero"},{value:"ZEC",label:"Zcash"},{value:"DASH",label:"Dash"},{value:"BAT",label:"Basic Attention Token"},{value:"TRX",label:"Tron"},{value:"OXT",label:"Orchid"},{value:"ADA",label:"<b>Cardano</b>"},{value:"OMG",label:"OMG Network"},{value:"ALGO",label:"<b>Algorand</b>"},{value:"KNC",label:"Kyber Network"},{value:"ATOM",label:"Cosmos"},{value:"AAVE",label:"<b>Aave</b>"},{value:"FIL",label:"<b>Filecoin</b>"},{value:"GRT",label:"<b>The Graph</b>"},{value:"NU",label:"<b>NuCypher</b>"},{value:"DOT",label:"<b>Polkadot</b>"},{value:"UNI",label:"<b>Uniswap</b>"},{value:"YFI",label:"<b>Yearn Finance</b>"}],value:["BTC","ETH","XRP","BCH","LTC","XTZ","EOS","LINK","XLM","ADA","ALGO","AAVE","FIL","GRT","NU","DOT","UNI","YFI"]})})),n.variable(t("ch")).define("ch",["Generators","viewof ch"],(function(e,t){return e.input(t)})),n.variable(t("chart")).define("chart",["d3","width","height","addWebFont","returns","coindesk_color","x","y","format","margin","title","yAxis"],(function(e,t,n,a,r,i,o,l,u,s,c,d){var f=e.create("svg").attr("width",t).attr("height",n).attr("viewBox",[0,0,t,n]).style("background-color","white").call(a,"Acumin Pro","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-RPro.otf","opentype").call(a,"Acumin Pro Bold","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-BdPro.otf","opentype");return f.append("g").selectAll("rect").data(r).join("rect").attr("fill",(function(e){return i[e.value>=0?2:3]})).attr("x",(function(e){return o(Math.min(e.value,0))})).attr("y",(function(e,t){return l(t)})).attr("width",(function(e){return Math.abs(o(e.value)-o(0))})).attr("height",l.bandwidth()),f.append("g").attr("font-family","Acumin Pro").attr("font-size",19).selectAll("text").data(r).join("text").attr("text-anchor",(function(e){return e.value<0?"end":"start"})).attr("x",(function(e){return o(e.value)+4*Math.sign(e.value-0)})).attr("y",(function(e,t){return l(t)+l.bandwidth()/2})).attr("dy","0.35em").text((function(e){return u(e.value)})),f.append("text").attr("x",t/2).attr("y",s.top-20).attr("text-anchor","middle").style("font-size",26).style("font-family","Acumin Pro Bold").style("font-weight","bold").text(c),f.append("g").call(d),f.node()})),n.variable(t()).define(["DOM","button","returns"],(function(e,t,n){var a=e.element("div"),r=t(n,"vertical_returns.csv");return a.appendChild(r),a})),n.variable(t("width")).define("width",["size_input","size"],(function(e,t){return e(t).width})),n.variable(t("height")).define("height",["size_input","size"],(function(e,t){return e(t).height})),n.variable(t("x")).define("x",["d3","returns","margin","width"],(function(e,t,n,a){return e.min(t,(function(e){return e.value}))>0?e.scaleLinear().domain([0,e.max(t,(function(e){return e.value}))]).rangeRound([n.left,a-n.right]):e.scaleLinear().domain(e.extent(t,(function(e){return e.value}))).rangeRound([n.left,a-n.right])})),n.variable(t("y")).define("y",["d3","returns","margin","height"],(function(e,t,n,a){return e.scaleBand().domain(e.range(t.length)).rangeRound([n.top,a-n.bottom]).padding(.1)})),n.variable(t("xAxis")).define("xAxis",["margin","d3","x","width","tickFormat","addWebFont"],(function(e,t,n,a,r,i){return function(o){return o.attr("transform","translate(0,".concat(e.top,")")).call(t.axisTop(n).ticks(a/80).tickFormat(r)).call((function(e){return e.select(".domain").remove()})).style("font-family","Acumin Pro").style("font-size",19).call(i,"Acumin Pro","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-RPro.otf","opentype")}})),n.variable(t("yAxis")).define("yAxis",["x","d3","y","returns","addWebFont"],(function(e,t,n,a,r){return function(i){return i.attr("transform","translate(".concat(e(0),",0)")).style("font-family","Acumin Pro").style("font-size",19).call(t.axisLeft(n).tickFormat((function(e){return a[e].name})).tickSize(0).tickPadding(6)).call((function(t){return t.selectAll(".tick text").attr("text-anchor","start").attr("x",-e(0))})).call(r,"Acumin Pro","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-RPro.otf","opentype")}})),n.variable(t("format")).define("format",["d3"],(function(e){return e.format(".1%")})),n.variable(t("tickFormat")).define("tickFormat",["d3"],(function(e){return e.format(".0%")})),n.variable(t("margin")).define("margin",(function(){return{top:50,right:80,bottom:30,left:130}})),n.variable(t()).define(["md"],(function(e){return e(ta||(ta=Object(xe.a)(["## Data"])))})),n.variable(t("cors_head")).define("cors_head",(function(){return"https://observable-cors.glitch.me/"})),n.variable(t("data")).define("data",["d3","cors_head","startdate","enddate"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.csv("".concat(n,"https://qa.api.coindesk.com/v2/metrics/price?assets=BTC,ETH,XRP,LTC,BCH,EOS,LINK,XTZ,XLM,ZRX,BSV,ETC,XMR,ZEC,DASH,BAT,TRX,OXT,ADA,OMG,ALGO,KNC,ATOM,AAVE,FIL,GRT,NU,DOT,UNI,YFI&start_date=").concat(a,"T00:00&end_date=").concat(r,"T00:00&interval=1d&format=csv"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()),n.variable(t("returns")).define("returns",["calcuate_returns","data","d3"],(function(e,t,n){return e(t,0).sort((function(e,t){return n.descending(e.value,t.value)}))})),n.variable(t()).define(["md"],(function(e){return e(na||(na=Object(xe.a)(["## Appendix"])))}));var a=e.module(ra);n.import("date",a),n.import("text",a),n.import("radio",a),n.import("checkbox",a);var r=e.module(ia);n.import("swatches",r);var i=e.module(oa);n.import("button",i);var o=e.module(fa);return n.import("addWebFont",o),n.variable(t("coindesk_color")).define("coindesk_color",(function(){return["#19284D","#FCC117","#7CEE00","#FF0000"]})),n.variable(t("calcuate_returns")).define("calcuate_returns",["ch"],(function(e){return function(t,n){var a=t.length-1;return e.map((function(e){return 0==n?{name:e,value:(t[a][e]-t[0][e])/t[0][e]}:{name:e,value:Math.log(t[a][e]/t[0][e])}}))}})),n.variable(t("size_input")).define("size_input",["returns","margin"],(function(e,t){return function(n){return"post"==n?{width:1420,height:916}:"social"==n?{width:1200,height:675}:"ig"==n?{width:1080,height:1080}:{width:document.body.clientWidth,height:Math.ceil(25*(e.length+.1))+t.top+t.bottom}}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),n}var ma,va,ba,ha=function(e){var t=e.width,n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=Object(a.useRef)(),u=Object(a.useState)(),s=Object(o.a)(u,2),d=s[0],f=s[1];return Object(a.useEffect)((function(){var e=new he.b,t=e.module(pa,(function(e){return"chart"===e?new he.a(n.current):"viewof ch"===e?new he.a(r.current):"viewof enddate"===e?new he.a(i.current):"viewof startdate"===e?new he.a(l.current):["calcuate_returns","returns","","x","xAxis","yAxis","y","size_input","width","height","data"].includes(e)}));return f(t),function(){f(void 0),e.dispose()}}),[]),Object(a.useEffect)((function(){void 0!==d&&d.redefine("width",t)}),[t,d]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{ref:l}),Object(c.jsx)("div",{ref:i}),Object(c.jsx)("div",{ref:r}),Object(c.jsx)("div",{ref:n})]})};function ga(e,t){var a=e.module(),r=new Map([["Heatmap@2.csv",n(111).default]]);return a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md"],(function(e){return e(ma||(ma=Object(xe.a)(["# Heatmap Example\nCredit: Avi Felman's [tweet](https://twitter.com/AviFelman/status/1311089040888717312) about trading Bitcoin. "])))})),a.variable(t("chart")).define("chart",["d3","DOM","width","h","color","margin","data","gridSize","formatValue","Timezone","months","legend"],(function(e,t,n,a,r,i,o,l,u,s,c,d){var f=e.select(t.svg(n,a)).classed("crashes-heatmap",!0);f.append("defs").append("linearGradient").attr("id","linear-gradient").selectAll("stop").data(r.ticks().map((function(e,t,n){return{offset:"".concat(100*t/n.length,"%"),color:r(e)}}))).enter().append("stop").attr("offset",(function(e){return e.offset})).attr("stop-color",(function(e){return e.color}));var p=f.append("g").attr("transform","translate(".concat(i.left,", ").concat(i.top,")"));return p.selectAll("rect").data(o).enter().append("rect").attr("x",(function(e){return e.Month*l})).attr("y",(function(e){return e.Timezone*l})).attr("width",l).attr("height",l).attr("fill",(function(e){return r(e.Value)})).attr("stroke","#e2e2e2"),p.selectAll("text").data(o).enter().append("text").attr("x",(function(e){return e.Month*l+l/2})).attr("y",(function(e){return e.Timezone*l+l/2})).style("text-anchor","middle").attr("dy",".35em").text((function(e){return u(e.Value)})),p.selectAll(".timezone").data(s).enter().append("text").text((function(e){return e})).classed("timezone",!0).attr("x",0).attr("y",(function(e,t){return t*l})).style("text-anchor","end").attr("transform","translate(-6,"+l/1.8+")"),p.selectAll(".month").data(c).enter().append("text").text((function(e){return e})).classed("month",!0).attr("x",(function(e,t){return t*l})).attr("y",0).style("text-anchor","middle").attr("transform","translate("+l/2+", -6)"),p.append("g").call(d),f.node()})),a.variable(t("margin")).define("margin",(function(){return{top:40,right:70,bottom:70,left:70}})),a.variable(t("w")).define("w",["width","margin"],(function(e,t){return e-t.left-t.right})),a.variable(t("gridSize")).define("gridSize",["w","months"],(function(e,t){return Math.floor(e/t.length)})),a.variable(t("h")).define("h",["gridSize","Timezone","margin"],(function(e,t,n){return e*t.length+n.top+n.bottom})),a.variable(t("Timezone")).define("Timezone",(function(){return["Asia AM","Asia PM","NYC AM","NYC PM"]})),a.variable(t("months")).define("months",["d3"],(function(e){return e.range(6,10)})),a.variable(t("color")).define("color",["d3","data"],(function(e,t){return e.scaleLinear().domain([e.min(t,(function(e){return e.Value})),0,e.max(t,(function(e){return e.Value}))]).range(["#FCC117","#FFFFFF","#608AD8"])})),a.variable(t("legend")).define("legend",["h","margin","legendBarHeight","w","axisBottom"],(function(e,t,n,a,r){return function(i){i.attr("transform","translate(0, ".concat(e-t.bottom-n,")")).append("rect").attr("width",a).attr("height",n).style("fill","url(#linear-gradient)"),i.call(r)}})),a.variable(t("axisScale")).define("axisScale",["d3","color","w"],(function(e,t,n){return e.scaleLinear().domain(t.domain()).range([0,n])})),a.variable(t("axisBottom")).define("axisBottom",["h","margin","legendBarHeight","d3","axisScale","width"],(function(e,t,n,a,r,i){return function(o){o.classed("axis axis--bottom",!0).attr("transform","translate(0, ".concat(e-t.bottom-n,")")).call(a.axisBottom(r).ticks(i/80).tickSize(n).tickFormat(a.format(".0%"))).select(".domain").remove()}})),a.variable(t("formatValue")).define("formatValue",["d3"],(function(e){return e.format(".2%")})),a.variable(t("legendBarHeight")).define("legendBarHeight",(function(){return 10})),a.variable(t("data")).define("data",["csv"],(function(e){return e.map((function(e){var t=e.Timezone,n=e.Month,a=e.Value;return{Timezone:parseInt(t),Month:parseInt(n),Value:parseFloat(a)}}))})),a.variable(t("csv")).define("csv",["FileAttachment"],(function(e){return e("Heatmap@2.csv").csv()})),a.variable(t("css")).define("css",["html"],(function(e){return e(va||(va=Object(xe.a)(["<style>\n  svg.crashes-heatmap text {\n    font-family: sans-serif;\n    font-size: 20px;\n    fill: #333;\n  }\n\n  svg.crashes-heatmap .axis.axis--bottom line {\n    stroke: #fff;\n  }\n</style>"])))})),a.variable(t()).define(["md"],(function(e){return e(ba||(ba=Object(xe.a)(["## Dependencies"])))})),a.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),a}var wa,ya,xa,ja,ka,Oa,Sa,Aa,Ca,Ma,Pa,Da,Ta,za,Na,Fa,Ga,La,Ra,Ba,_a,Ia,Ea,qa,Va,Ua,Wa,Ha,Ya,Xa,Ja,Ka,Qa,Za,$a,er,tr,nr,ar,rr,ir,or,lr,ur,sr,cr,dr,fr,pr,mr,vr,br,hr=function(e){var t=e.width,n=Object(a.useRef)(),r=Object(a.useState)(),i=Object(o.a)(r,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){var e=new he.b,t=e.module(ga,(function(e){if("chart"===e)return new he.a(n.current)}));return u(t),function(){u(void 0),e.dispose()}}),[]),Object(a.useEffect)((function(){void 0!==l&&l.redefine("width",t)}),[t,l]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{ref:n,className:"chart"})})};function gr(e,t){var a=e.module(),r=new Map([["capstan.gif",n(112).default]]);return a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md","FileAttachment"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=wa||(wa=Object(xe.a)(['# Inputs\n<div style="margin-top: -3px; font-size: 1.05em;">*a.k.a \u201cThe Grand Native Inputs Bazaar\u201d*</div>\n\n<div style="max-width: 500px; margin: 30px 0; padding: 15px 30px; background-color: #ffffee; font: 700 18px/24px sans-serif;">\u2728 Rejoice! Observable now has <a href="https://observablehq.com/@observablehq/inputs">an official inputs library</a>. If it contains the input you need, you should probably be using that instead of this notebook. \u2728</div>\n\n<img width="350px" src="','" />\n\nA collection of assorted fancy inputs, odds and ends \u2014 with which to produce values to feed your burgeoning sketches. All inputs support optional **titles** and **descriptions**; where it makes sense, inputs also support a **submit** option, which allows you to prevent the value from updating until the input has been finalized.\n\nWares we have on offer: \n  * [`slider`](#sliderDemo)\n  * [`button`](#buttonDemo)\n  * [`select`](#selectDemo)\n  * [`autoSelect`](#autoSelectDemo)\n  * [`color`](#colorDemo)\n  * [`coordinates`](#coordinatesDemo)\n  * [`worldMapCoordinates`](#worldMapCoordinatesDemo)\n  * [`usaMapCoordinates`](#usaMapCoordinatesDemo)\n  * [`date`](#dateDemo)\n  * [`time`](#timeDemo)\n  * [`file`](#fileDemo)\n  * [`text`](#textDemo)\n  * [`textarea`](#textareaDemo)\n  * [`radio`](#radioDemo)\n  * [`checkbox`](#checkboxDemo)\n  * [`number`](#numberDemo)\n  * [`password`](#passwordDemo)'],['# Inputs\n<div style="margin-top: -3px; font-size: 1.05em;">*a.k.a \u201cThe Grand Native Inputs Bazaar\u201d*</div>\n\n<div style="max-width: 500px; margin: 30px 0; padding: 15px 30px; background-color: #ffffee; font: 700 18px/24px sans-serif;">\u2728 Rejoice! Observable now has <a href="https://observablehq.com/@observablehq/inputs">an official inputs library</a>. If it contains the input you need, you should probably be using that instead of this notebook. \u2728</div>\n\n<img width="350px" src="','" />\n\nA collection of assorted fancy inputs, odds and ends \u2014 with which to produce values to feed your burgeoning sketches. All inputs support optional **titles** and **descriptions**; where it makes sense, inputs also support a **submit** option, which allows you to prevent the value from updating until the input has been finalized.\n\nWares we have on offer: \n  * [\\`slider\\`](#sliderDemo)\n  * [\\`button\\`](#buttonDemo)\n  * [\\`select\\`](#selectDemo)\n  * [\\`autoSelect\\`](#autoSelectDemo)\n  * [\\`color\\`](#colorDemo)\n  * [\\`coordinates\\`](#coordinatesDemo)\n  * [\\`worldMapCoordinates\\`](#worldMapCoordinatesDemo)\n  * [\\`usaMapCoordinates\\`](#usaMapCoordinatesDemo)\n  * [\\`date\\`](#dateDemo)\n  * [\\`time\\`](#timeDemo)\n  * [\\`file\\`](#fileDemo)\n  * [\\`text\\`](#textDemo)\n  * [\\`textarea\\`](#textareaDemo)\n  * [\\`radio\\`](#radioDemo)\n  * [\\`checkbox\\`](#checkboxDemo)\n  * [\\`number\\`](#numberDemo)\n  * [\\`password\\`](#passwordDemo)'])),e.next=4,n("capstan.gif").url();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.variable(t()).define(["md"],(function(e){return e(ya||(ya=Object(xe.a)(["| <h3>Friends & Family:</h3>  |   |\n|---|---|\n| **[@mbostock/form-input](/@mbostock/form-input)**  | Fully custom forms, combining inputs into a single reactive cell. |\n| **[@mbostock/scrubber](/@mbostock/scrubber)** | A slider that automatically plays through its range, useful for driving and scrubbing through animations. |\n| **[@bumbeishvili/input-groups](/@bumbeishvili/input-groups)** | A wrapper function that can put many of these inputs into a more compact grid layout. | \n| **[@zechasault/color-schemes-and-interpolators-picker](/@zechasault/color-schemes-and-interpolators-picker)**  | Color scheme and interpolation pickers. |\n| **[@awhitty/fips-county-code-brush](/@awhitty/fips-county-code-brush)**  | A brushable map of the United States, allowing you to quickly select sets of counties to get their FIPS codes. |\n| **[@mootari/range-slider](https://observablehq.com/@mootari/range-slider)**  |  True range sliders, setting both a minimum and maximum value. |\n| **[@bumbeishvili/data-driven-range-sliders](/@bumbeishvili/data-driven-range-sliders)** | Data-driven range sliders, displaying a distribution histogram of the underlying data. |\n| **[@trebor/snapping-histogram-slider](/@trebor/snapping-histogram-slider)** | Another data-driven range slider option. |\n| **[@mootari\u2019s 2D Slider](https://observablehq.com/d/98bbb19bf9e859ee)** | Two dimensional sliders, exploring discrete points on a plane. |\n| **[@yurivish/ternary-slider](/@yurivish/ternary-slider)** | Nifty ternary plot inputs, describing the percentages of a whole composed of exactly three things. |\n| **[@rreusser/binary-input](/@rreusser/binary-input)** | Input numbers in binary, great for working with values where results vary with specific bit positions. |\n| **[@bartok32/diy-inputs](/@bartok32/diy-inputs)** | A fun tool for defining your own fancy and colorful inputs. |\n| **[@bobkerns/elements-input](/@bobkerns/elements-input)** | A periodic table of the elements input! You can construct molecules programmatically, or click on the table to create formulas. |\n| **[@fil/selectflat](/@fil/selectflat)** | A fast selector to explore a discrete parameter space. The value changes on mouseover, and sticks when you click. |\n| **[@oscar6echo/player](/@oscar6echo/player)** | A slider with buttons to play, pause, step, and change speed and direction \u2014 useful for animations. |\n| **[@harrislapiroff/list-input](/@harrislapiroff/list-input)** | A input for when you want more than one of something. |\n| **[@nhogs/easing-graphs-editor](/@nhogs/easing-graphs-editor)** | A curve input to display and edit values of animated properties over time, such as easing curves and animation curves. |\n| **[@j-f1/checkbox](/@j-f1/checkbox)** | A simple checkbox input that provides a boolean value. |\n\n<br>*If you have any improvements for the bazaar, [please make your change in a fork and send it to me as a suggestion.](https://observablehq.com/@observablehq/suggestions-and-comments)*"])))})),a.variable(t("sliderDemo")).define("sliderDemo",["md"],(function(e){return e(xa||(xa=Object(xe.a)(['---\n## Sliders\n\n~~~js\nimport {slider} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof a")).define("viewof a",["slider"],(function(e){return e()})),a.variable(t("a")).define("a",["Generators","viewof a"],(function(e,t){return e.input(t)})),a.variable(t("viewof a1")).define("viewof a1",["slider"],(function(e){return e({min:0,max:1,step:.01,format:".0%",description:"Zero to one, formatted as a percentage"})})),a.variable(t("a1")).define("a1",["Generators","viewof a1"],(function(e,t){return e.input(t)})),a.variable(t("viewof a1_1")).define("viewof a1_1",["slider"],(function(e){return e({min:0,max:1,step:.01,format:function(e){return"".concat(Math.round(100*e)," per cent")},description:"Zero to one, formatted with a custom function"})})),a.variable(t("a1_1")).define("a1_1",["Generators","viewof a1_1"],(function(e,t){return e.input(t)})),a.variable(t("viewof a2")).define("viewof a2",["slider"],(function(e){return e({min:0,max:1e9,step:1e3,value:325e4,format:",",description:"Zero to one billion, in steps of one thousand, formatted as a (US) number"})})),a.variable(t("a2")).define("a2",["Generators","viewof a2"],(function(e,t){return e.input(t)})),a.variable(t("viewof a3")).define("viewof a3",["slider"],(function(e){return e({min:0,max:100,step:1,value:10,title:"Integers",description:"Integers from zero through 100"})})),a.variable(t("a3")).define("a3",["Generators","viewof a3"],(function(e,t){return e.input(t)})),a.variable(t("viewof a4")).define("viewof a4",["slider"],(function(e){return e({min:.9,max:1.1,precision:3,description:"A high precision slider example"})})),a.variable(t("a4")).define("a4",["Generators","viewof a4"],(function(e,t){return e.input(t)})),a.variable(t("viewof a5")).define("viewof a5",["slider"],(function(e){return e({min:.9,max:1.1,precision:3,submit:!0,description:"The same as a4, but only changes value on submit"})})),a.variable(t("a5")).define("a5",["Generators","viewof a5"],(function(e,t){return e.input(t)})),a.variable(t()).define(["md"],(function(e){return e(ja||(ja=Object(xe.a)(["More [fancy slider techniques](https://observablehq.com/@mootari/prime-numbers-slider)."])))})),a.variable(t("slider")).define("slider",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"===typeof t?{value:t}:t,a=n.min,r=void 0===a?0:a,i=n.max,o=void 0===i?1:i,l=n.value,u=void 0===l?(o+r)/2:l,s=n.step,c=void 0===s?"any":s,d=n.precision,f=void 0===d?2:d,p=n.title,m=n.description,v=n.disabled,b=n.getValue,h=n.format,g=n.display,w=n.submit;return f=Math.pow(10,f),b||(b=function(e){return Math.round(e.valueAsNumber*f)/f}),e({type:"range",title:p,description:m,submit:w,format:h,display:g,attributes:{min:r,max:o,step:c,disabled:v,value:u},getValue:b})}})),a.variable(t("buttonDemo")).define("buttonDemo",["md"],(function(e){return e(ka||(ka=Object(xe.a)(['---\n## Buttons\n\n~~~js\nimport {button} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof b")).define("viewof b",["button"],(function(e){return e()})),a.variable(t("b")).define("b",["Generators","viewof b"],(function(e,t){return e.input(t)})),a.variable(t("viewof b1")).define("viewof b1",["button"],(function(e){return e({value:"Click me",description:"We use a reference to the button below to record the time you pressed it."})})),a.variable(t("b1")).define("b1",["Generators","viewof b1"],(function(e,t){return e.input(t)})),a.variable(t("button")).define("button",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=void 0===a?"Ok":a,i=n.title,o=n.description,l=n.disabled,u=e({type:"button",title:i,description:o,attributes:{disabled:l,value:r}});return u.output.remove(),u}})),a.variable(t("selectDemo")).define("selectDemo",["md"],(function(e){return e(Oa||(Oa=Object(xe.a)(['---\n## Dropdown Menus and Multiselects\n\n~~~js\nimport {select} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof dd")).define("viewof dd",["select"],(function(e){return e(["Spring","Summer","Fall","Winter"])})),a.variable(t("dd")).define("dd",["Generators","viewof dd"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd"],(function(e){return e})),a.variable(t("viewof dd1")).define("viewof dd1",["select"],(function(e){return e({title:"Stooges",description:"Please pick your favorite stooge.",options:["Curly","Larry","Moe","Shemp"],value:"Moe"})})),a.variable(t("dd1")).define("dd1",["Generators","viewof dd1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd1"],(function(e){return e})),a.variable(t("viewof dd2")).define("viewof dd2",["select"],(function(e){return e({description:"As a child, which vegetables did you refuse to eat?",options:["Spinach","Broccoli","Brussels Sprouts","Cauliflower","Kale","Turnips","Green Beans","Asparagus"],multiple:!0})})),a.variable(t("dd2")).define("dd2",["Generators","viewof dd2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd2"],(function(e){return e})),a.variable(t("viewof dd3")).define("viewof dd3",["select"],(function(e){var t=e({title:"How are you feeling today?",options:[{label:"\ud83e\udd37",value:"shrug"},{label:"\ud83d\ude02",value:"tears-of-joy"},{label:"\ud83d\ude0d",value:"loving-it"},{label:"\ud83e\udd14",value:"hmmm"},{label:"\ud83d\ude31",value:"yikes",disabled:!0},{label:"\ud83d\ude08",value:"mischievous"},{label:"\ud83d\udca9",value:"poo"}],value:"hmmm"});return t.input.style.fontSize="30px",t.input.style.marginTop="8px",t})),a.variable(t("dd3")).define("dd3",["Generators","viewof dd3"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd3"],(function(e){return e})),a.variable(t("select")).define("select",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.disabled,u=a.submit,s=a.multiple,c=a.size,d=a.options;d=d.map((function(e){return"object"===typeof e?e:{value:e,label:e}}));var f=e({type:"select",title:i,description:o,submit:u,attributes:{disabled:l},getValue:function(e){var t=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return e.value}));return s?t:t[0]},form:t(Sa||(Sa=Object(xe.a)(['\n      <form>\n        <select name="input" ',">\n          ","\n        </select>\n      </form>\n    "])),s?'multiple size="'.concat(c||d.length,'"'):"",d.map((function(e){var n=e.value,a=e.label,i=e.disabled;return Object.assign(t(Aa||(Aa=Object(xe.a)(["<option>"]))),{value:n,selected:Array.isArray(r)?r.includes(n):r===n,disabled:i||!1,textContent:a})})))});return f.output.remove(),f}})),a.variable(t("autoSelectDemo")).define("autoSelectDemo",["md"],(function(e){return e(Ca||(Ca=Object(xe.a)(['---\n## Autoselects\n*A variant of an option menu, using an autocompleting text input, via HTML\u2019s datalist element.* \n\n~~~js\nimport {autoSelect} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof as")).define("viewof as",["autoSelect","usa"],(function(e,t){return e({options:t.objects.states.geometries.map((function(e){return e.properties.name})),placeholder:"Search for a US state . . ."})})),a.variable(t("as")).define("as",["Generators","viewof as"],(function(e,t){return e.input(t)})),a.variable(t()).define(["as"],(function(e){return e})),a.variable(t("autoSelect")).define("autoSelect",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.disabled,u=(a.autocomplete,a.placeholder),s=(a.size,a.options),c=a.list,d=void 0===c?"options":c,f=new Set(s),p=e({type:"text",title:i,description:o,attributes:{disabled:l},action:function(e){e.value=e.input.value=r||"",e.onsubmit=function(e){return e.preventDefault()},e.input.oninput=function(t){t.stopPropagation(),e.value=e.input.value,e.value&&!f.has(e.value)||e.dispatchEvent(new CustomEvent("input"))}},form:t(Ma||(Ma=Object(xe.a)(['\n      <form>\n         <input name="input" type="text" autocomplete="off" \n          placeholder="','" style="font-size: 1em;" list=','>\n          <datalist id="','">\n              ',"\n          </datalist>\n      </form>\n      "])),u||"",d,d,s.map((function(e){return Object.assign(t(Pa||(Pa=Object(xe.a)(["<option>"]))),{value:e})})))});return p.output.remove(),p}})),a.variable(t("colorDemo")).define("colorDemo",["md"],(function(e){return e(Da||(Da=Object(xe.a)(['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * `"#bada55"` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'],['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * \\`"#bada55"\\` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof c")).define("viewof c",["color"],(function(e){return e()})),a.variable(t("c")).define("c",["Generators","viewof c"],(function(e,t){return e.input(t)})),a.variable(t("viewof c1")).define("viewof c1",["color"],(function(e){return e({value:"#0000ff",title:"Background Color",description:"This color picker starts out blue"})})),a.variable(t("c1")).define("c1",["Generators","viewof c1"],(function(e,t){return e.input(t)})),a.variable(t("color")).define("color",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=void 0===a?"#000000":a,i=n.title,o=n.description,l=n.disabled,u=n.submit,s=n.display,c=e({type:"color",title:i,description:o,submit:u,display:s,attributes:{disabled:l,value:r}});return c.input.value="",c.input.value=r,(i||o)&&(c.input.style.margin="5px 0"),c}})),a.variable(t("coordinatesDemo")).define("coordinatesDemo",["md"],(function(e){return e(Ta||(Ta=Object(xe.a)([' ---\n## Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof coords1")).define("viewof coords1",["coordinates"],(function(e){return e()})),a.variable(t("coords1")).define("coords1",["Generators","viewof coords1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["coords1"],(function(e){return e})),a.variable(t("viewof coords2")).define("viewof coords2",["coordinates"],(function(e){return e({title:"Hometown",description:"Enter the coordinates of where you were born",value:[-122.27,37.87],submit:!0})})),a.variable(t("coords2")).define("coords2",["Generators","viewof coords2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["coords2"],(function(e){return e})),a.variable(t("coordinates")).define("coordinates",["html","input"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{value:n}:n,r=a.value,i=void 0===r?[]:r,l=a.title,u=a.description,s=a.submit,c=Object(o.a)(i,2),d=c[0],f=c[1];d=null!=d?d:"",f=null!=f?f:"";var p=e(za||(za=Object(xe.a)(['<input name="input" type="number" autocomplete="off" min="-180" max="180" style="width: 80px;" step="any" value="','" />'])),d),m=e(Na||(Na=Object(xe.a)(['<input name="input" type="number" autocomplete="off" min="-90" max="90" style="width: 80px;" step="any" value="','" />'])),f),v=t({type:"coordinates",title:l,description:u,submit:s,getValue:function(){var e=p.valueAsNumber,t=m.valueAsNumber;return[isNaN(e)?null:e,isNaN(t)?null:t]},form:e(Fa||(Fa=Object(xe.a)(['\n      <form>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 6px 0 3px;">\n          <span style="display: inline-block; width: 70px;">Longitude:</span>\n          ','\n        </label>\n        <br>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 0 0 6px;">\n          <span style="display: inline-block; width: 70px;">Latitude:</span>\n          ',"\n        </label>\n      </form>\n    "])),p,m)});return v.output.remove(),v}})),a.variable(t("worldMapCoordinatesDemo")).define("worldMapCoordinatesDemo",["md"],(function(e){return e(Ga||(Ga=Object(xe.a)([' ---\n## World Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## World Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof worldMap1")).define("viewof worldMap1",["worldMapCoordinates"],(function(e){return e([-122.27,37.87])})),a.variable(t("worldMap1")).define("worldMap1",["Generators","viewof worldMap1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["worldMap1"],(function(e){return e})),a.variable(t("worldMapCoordinates")).define("worldMapCoordinates",["html","DOM","d3geo","graticule","land","countries","input"],(function(e,t,n,a,r,i,l){return function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Array.isArray(u)?{value:u}:u,c=s.value,d=void 0===c?[]:c,f=s.title,p=s.description,m=s.width,v=void 0===m?400:m,b=Math.round(.525*v),h=Object(o.a)(d,2),g=h[0],w=h[1];g=null!=g?g:null,w=null!=w?w:null;var y=e(La||(La=Object(xe.a)(['<form style="width: ','px;"></form>'])),v),x=t.context2d(v,b),j=x.canvas;j.style.margin="10px 0 3px";var k=n.geoNaturalEarth1().precision(.1).fitSize([v,b],{type:"Sphere"}),O=n.geoPath(k,x).pointRadius(2.5);function S(){if(x.fillStyle="#fff",x.fillRect(0,0,v,b),x.beginPath(),O(a),x.lineWidth=.35,x.strokeStyle="#ddd",x.stroke(),x.beginPath(),O(r),x.fillStyle="#f4f4f4",x.fill(),x.beginPath(),O(i),x.strokeStyle="#aaa",x.stroke(),null!=g&&null!=w){var e={type:"MultiPoint",coordinates:[[g,w]]};x.beginPath(),O(e),x.fillStyle="#f00",x.fill()}}y.append(j),j.onclick=function(e){var t=e.offsetX,n=e.offsetY,a=k.invert([t,n]);g=+a[0].toFixed(2),w=+a[1].toFixed(2),S(),j.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},S();var A=l({type:"worldMapCoordinates",title:f,description:p,display:function(t){return e(Ra||(Ra=Object(xe.a)(['<div style="width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-bottom: 5px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"])),v,null!=g?g.toFixed(2):"",null!=w?w.toFixed(2):"")},getValue:function(){return[null!=g?g:null,null!=w?w:null]},form:y});return A}})),a.variable(t("usaMapCoordinatesDemo")).define("usaMapCoordinatesDemo",["md"],(function(e){return e(Ba||(Ba=Object(xe.a)([' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof usaMap1")).define("viewof usaMap1",["usaMapCoordinates"],(function(e){return e([-122.27,37.87])})),a.variable(t("usaMap1")).define("usaMap1",["Generators","viewof usaMap1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["usaMap1"],(function(e){return e})),a.variable(t("viewof usaMap2")).define("viewof usaMap2",["usaMapCoordinates"],(function(e){return e({title:"A Mini Map",description:"Defaults to New York City",width:200,value:[-74,40.71]})})),a.variable(t("usaMap2")).define("usaMap2",["Generators","viewof usaMap2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["usaMap2"],(function(e){return e})),a.variable(t("usaMapCoordinates")).define("usaMapCoordinates",["html","DOM","d3geo","nation","states","input"],(function(e,t,n,a,r,i){return function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=Array.isArray(l)?{value:l}:l,s=u.value,c=void 0===s?[]:s,d=u.title,f=u.description,p=u.width,m=void 0===p?400:p,v=m/960,b=600*v,h=Object(o.a)(c,2),g=h[0],w=h[1];g=null!=g?g:null,w=null!=w?w:null;var y=e(_a||(_a=Object(xe.a)(['<form style="width: ','px;"></form>'])),m),x=t.context2d(m,b),j=x.canvas;j.style.margin="5px 0 20px";var k=n.geoAlbersUsa().scale(1280).translate([480,300]),O=n.geoPath().context(x).pointRadius(2.5/v);function S(){if(x.clearRect(0,0,m,b),x.save(),x.scale(v,v),x.lineWidth=.35/v,x.beginPath(),O(a),x.fillStyle="#f4f4f4",x.fill(),x.beginPath(),O(r),x.strokeStyle="#aaa",x.stroke(),null!=g&&null!=w){var e={type:"MultiPoint",coordinates:[k([g,w])]};x.beginPath(),O(e),x.fillStyle="#f00",x.fill()}x.restore()}y.append(j),j.onclick=function(e){var t=e.offsetX,n=e.offsetY,a=k.invert([t/v,n/v]);g=+a[0].toFixed(2),w=+a[1].toFixed(2),S(),j.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},S();var A=i({type:"worldMapCoordinates",title:d,description:f,display:function(t){return e(Ia||(Ia=Object(xe.a)(['<div style="position: absolute; width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-top: -18px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"])),m,null!=g?g:"",null!=w?w:"")},getValue:function(){return[null!=g?g:null,null!=w?w:null]},form:y});return A}})),a.variable(t("dateDemo")).define("dateDemo",["md"],(function(e){return e(Ea||(Ea=Object(xe.a)([' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * `"2016-11-08"` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'],[' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * \\`"2016-11-08"\\` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof d")).define("viewof d",["date"],(function(e){return e()})),a.variable(t("d")).define("d",["Generators","viewof d"],(function(e,t){return e.input(t)})),a.variable(t("viewof d1")).define("viewof d1",["date"],(function(e){return e({title:"2017",min:"2017-01-01",max:"2017-12-31",value:"2017-01-01",description:"Only dates within the 2017 calendar year are allowed"})})),a.variable(t("d1")).define("d1",["Generators","viewof d1"],(function(e,t){return e.input(t)})),a.variable(t("date")).define("date",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.min,r=n.max,i=n.value,o=n.title,l=n.description,u=n.disabled,s=n.display;return e({type:"date",title:o,description:l,display:s,attributes:{min:a,max:r,disabled:u,value:i}})}})),a.variable(t("timeDemo")).define("timeDemo",["md"],(function(e){return e(qa||(qa=Object(xe.a)([' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * `"09:30:45"`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'],[' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * \\`"09:30:45"\\`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof t")).define("viewof t",["time"],(function(e){return e()})),a.variable(t("t")).define("t",["Generators","viewof t"],(function(e,t){return e.input(t)})),a.variable(t()).define(["t"],(function(e){return e})),a.variable(t("viewof t1")).define("viewof t1",["time"],(function(e){return e({title:"Afternoon",min:"12:00:00",max:"23:59:59",value:"13:00:00",step:1,description:"Only times after noon are allowed, and seconds are included"})})),a.variable(t("t1")).define("t1",["Generators","viewof t1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["t1"],(function(e){return e})),a.variable(t("time")).define("time",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.min,r=n.max,i=n.step,o=n.value,l=n.title,u=n.description,s=n.disabled,c=n.display,d=e({type:"time",title:l,description:u,display:c,getValue:function(e){return e.value?e.value:void 0},attributes:{min:a,max:r,step:i,disabled:s,value:o}});return d.output.remove(),d}})),a.variable(t("fileDemo")).define("fileDemo",["md"],(function(e){return e(Va||(Va=Object(xe.a)(['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n`import {file} from "@jashkenas/inputs"`'],['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n\\`import {file} from "@jashkenas/inputs"\\`'])))})),a.variable(t("viewof e")).define("viewof e",["file"],(function(e){return e()})),a.variable(t("e")).define("e",["Generators","viewof e"],(function(e,t){return e.input(t)})),a.variable(t("viewof e1")).define("viewof e1",["file"],(function(e){return e({title:"Photographs",description:"Only .jpg files are allowed in this example. Choose some images, and they\u2019ll appear in the cell below.",accept:".jpg",multiple:!0})})),a.variable(t("e1")).define("e1",["Generators","viewof e1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["html","e1","Files"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a){var r,i,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t(Ua||(Ua=Object(xe.a)(["<div>"]))),i=0;case 2:if(!(i<n.length)){e.next=12;break}return n[i],o=t(Wa||(Wa=Object(xe.a)(['<img height="125px" style="margin: 2px;" />']))),e.next=7,a.url(n[i]);case 7:o.src=e.sent,r.append(o);case 9:i++,e.next=2;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),a.variable(t("file")).define("file",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.multiple,a=t.accept,r=t.title,i=t.description,o=t.disabled,l=e({type:"file",title:r,description:i,attributes:{multiple:n,accept:a,disabled:o},action:function(e){e.input.onchange=function(){e.value=n?e.input.files:e.input.files[0],e.dispatchEvent(new CustomEvent("input"))}}});return l.output.remove(),l.input.onchange(),l}})),a.variable(t("textDemo")).define("textDemo",["md"],(function(e){return e(Ha||(Ha=Object(xe.a)(['---\n## Text Inputs\n\n~~~js\nimport {text} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof f")).define("viewof f",["text"],(function(e){return e()})),a.variable(t("f")).define("f",["Generators","viewof f"],(function(e,t){return e.input(t)})),a.variable(t("viewof f1")).define("viewof f1",["text"],(function(e){return e({title:"A Text Input",placeholder:"Placeholder text",description:"Note that text inputs don\u2019t show output on the right"})})),a.variable(t("f1")).define("f1",["Generators","viewof f1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["f1"],(function(e){return e})),a.variable(t("viewof f2")).define("viewof f2",["text"],(function(e){return e({placeholder:"Placeholder text",description:"This input only changes value on submit",submit:"Go"})})),a.variable(t("f2")).define("f2",["Generators","viewof f2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["f2"],(function(e){return e})),a.variable(t("text")).define("text",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.autocomplete,u=void 0===l?"off":l,s=n.maxlength,c=n.minlength,d=n.pattern,f=n.placeholder,p=n.size,m=n.submit,v=n.getValue,b=e({type:"text",title:r,description:i,submit:m,getValue:v,attributes:{value:a,autocomplete:u,maxlength:s,minlength:c,pattern:d,placeholder:f,size:p,disabled:o}});return b.output.remove(),b.input.style.fontSize="1em",b}})),a.variable(t("textareaDemo")).define("textareaDemo",["md"],(function(e){return e(Ya||(Ya=Object(xe.a)(['---\n## Textareas\n\n~~~js\nimport {textarea} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof g")).define("viewof g",["textarea"],(function(e){return e()})),a.variable(t("g")).define("g",["Generators","viewof g"],(function(e,t){return e.input(t)})),a.variable(t()).define(["g"],(function(e){return e})),a.variable(t("viewof g1")).define("viewof g1",["textarea"],(function(e){return e({title:"Your Great American Novel",placeholder:"Insert story here...",spellcheck:!0,width:"100%",rows:10,submit:"Publish"})})),a.variable(t("g1")).define("g1",["Generators","viewof g1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["g1"],(function(e){return e})),a.variable(t("textarea")).define("textarea",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="string"===typeof n?{value:n}:n,r=a.value,i=void 0===r?"":r,o=a.title,l=a.description,u=a.autocomplete,s=a.cols,c=void 0===s?45:s,d=a.rows,f=void 0===d?3:d,p=a.width,m=a.height,v=a.maxlength,b=a.placeholder,h=a.spellcheck,g=a.wrap,w=a.submit,y=a.disabled,x=a.getValue,j=e({form:t(Xa||(Xa=Object(xe.a)(['<form><textarea style="display: block; font-size: 0.8em;" name=input>',"</textarea></form>"])),i),title:o,description:l,submit:w,getValue:x,attributes:{autocomplete:u,cols:c,rows:f,maxlength:v,placeholder:b,spellcheck:h,wrap:g,disabled:y}});return j.output.remove(),null!=p&&(j.input.style.width=p),null!=m&&(j.input.style.height=m),w&&(j.submit.style.margin="0"),(o||l)&&(j.input.style.margin="3px 0"),j}})),a.variable(t("radioDemo")).define("radioDemo",["md"],(function(e){return e(Ja||(Ja=Object(xe.a)(['---\n## Radio Buttons\n\n~~~js\nimport {radio} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof r")).define("viewof r",["radio"],(function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])})),a.variable(t("r")).define("r",["Generators","viewof r"],(function(e,t){return e.input(t)})),a.variable(t()).define(["r"],(function(e){return e})),a.variable(t("viewof r1")).define("viewof r1",["radio"],(function(e){return e({title:"Contact Us",description:"Please select your preferred contact method",options:[{label:"By Email",value:"email"},{label:"By Phone",value:"phone"},{label:"By Pager",value:"pager"}],value:"pager"})})),a.variable(t("r1")).define("r1",["Generators","viewof r1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["r1"],(function(e){return e})),a.variable(t("radio")).define("radio",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.submit,u=a.options,s=a.disabled;u=u.map((function(e){return"string"===typeof e?{value:e,label:e}:e}));var c=e({type:"radio",title:i,description:o,submit:l,getValue:function(e){if(e.checked)return e.value;var t=Array.prototype.find.call(e,(function(e){return e.checked}));return t?t.value:void 0},form:t(Ka||(Ka=Object(xe.a)(["\n      <form>\n        ","\n      </form>\n    "])),u.map((function(e,n){var a=e.value,i=e.label,o=t(Qa||(Qa=Object(xe.a)(["<input type=radio name=input ",' style="vertical-align: top; ','" />'])),a===r?"checked":"",0===n?"margin-left: 1px;":"");return o.setAttribute("value",a),s&&o.setAttribute("value",s),t(Za||(Za=Object(xe.a)(['\n          <label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"])),o,i)})))});return c.output.remove(),c}})),a.variable(t("checkboxDemo")).define("checkboxDemo",["md"],(function(e){return e($a||($a=Object(xe.a)(['---\n## Checkboxes\n\n~~~js\nimport {checkbox} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof ch")).define("viewof ch",["checkbox"],(function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])})),a.variable(t("ch")).define("ch",["Generators","viewof ch"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch"],(function(e){return e})),a.variable(t("viewof ch1")).define("viewof ch1",["checkbox"],(function(e){return e({title:"Colors",description:"Please select your favorite colors",options:[{value:"r",label:"Red"},{value:"o",label:"Orange"},{value:"y",label:"Yellow"},{value:"g",label:"Green"},{value:"b",label:"Blue"},{value:"i",label:"Indigo"},{value:"v",label:"Violet"}],value:["r","g","b"],submit:!0})})),a.variable(t("ch1")).define("ch1",["Generators","viewof ch1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch1"],(function(e){return e})),a.variable(t("viewof ch3")).define("viewof ch3",["checkbox"],(function(e){return e({description:"Just a single checkbox to toggle",options:[{value:"toggle",label:"On"}],value:"toggle"})})),a.variable(t("ch3")).define("ch3",["Generators","viewof ch3"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch3"],(function(e){return e})),a.variable(t("checkbox")).define("checkbox",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.submit,u=a.disabled,s=a.options;s=s.map((function(e){return"string"===typeof e?{value:e,label:e}:e}));var c=e({type:"checkbox",title:i,description:o,submit:l,getValue:function(e){return e.length?Array.prototype.filter.call(e,(function(e){return e.checked})).map((function(e){return e.value})):!!e.checked&&e.value},form:t(er||(er=Object(xe.a)(["\n      <form>\n        ","\n      </form>\n    "])),s.map((function(e,n){var a=e.value,i=e.label,o=t(tr||(tr=Object(xe.a)(["<input type=checkbox name=input ",' style="vertical-align: top; ','" />'])),(r||[]).indexOf(a)>-1?"checked":"",0===n?"margin-left: 1px;":"");return o.setAttribute("value",a),u&&o.setAttribute("disabled",u),t(nr||(nr=Object(xe.a)(['<label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"])),o,i)})))});return c.output.remove(),c}})),a.variable(t("numberDemo")).define("numberDemo",["md"],(function(e){return e(ar||(ar=Object(xe.a)(['---\n## Numbers\n\n~~~js\nimport {number} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof h")).define("viewof h",["number"],(function(e){return e()})),a.variable(t("h")).define("h",["Generators","viewof h"],(function(e,t){return e.input(t)})),a.variable(t()).define(["h"],(function(e){return e})),a.variable(t("viewof h1")).define("viewof h1",["number"],(function(e){return e({placeholder:"13+",title:"Your Age",submit:!0})})),a.variable(t("h1")).define("h1",["Generators","viewof h1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["h1"],(function(e){return e})),a.variable(t("number")).define("number",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"===typeof t||"string"===typeof t?{value:+t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.placeholder,u=n.submit,s=n.step,c=void 0===s?"any":s,d=n.min,f=n.max,p=e({type:"number",title:r,description:i,submit:u,attributes:{value:a,placeholder:l,step:c,min:d,max:f,autocomplete:"off",disabled:o},getValue:function(e){return e.valueAsNumber}});return p.output.remove(),p.input.style.width="auto",p.input.style.fontSize="1em",p}})),a.variable(t("passwordDemo")).define("passwordDemo",["md"],(function(e){return e(rr||(rr=Object(xe.a)(['---\n## Passwords\n\n~~~js\nimport {password} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof i")).define("viewof i",["password"],(function(e){return e({value:"password"})})),a.variable(t("i")).define("i",["Generators","viewof i"],(function(e,t){return e.input(t)})),a.variable(t()).define(["i"],(function(e){return e})),a.variable(t("viewof i1")).define("viewof i1",["password"],(function(e){return e({title:"Your super secret password",description:"Less than 12 characters, please.",minlength:6,maxlength:12})})),a.variable(t("i1")).define("i1",["Generators","viewof i1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["i1"],(function(e){return e})),a.variable(t("password")).define("password",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.autocomplete,u=void 0===l?"off":l,s=n.maxlength,c=n.minlength,d=n.pattern,f=n.placeholder,p=n.size,m=n.submit,v=e({type:"password",title:r,description:i,submit:m,attributes:{value:a,autocomplete:u,maxlength:s,minlength:c,pattern:d,placeholder:f,size:p,disabled:o}});return v.output.remove(),v.input.style.fontSize="1em",v}})),a.variable(t()).define(["md"],(function(e){return e(ir||(ir=Object(xe.a)(["---\n## Wishlist (Send suggestions, please!)\n\n* 3D coordinate input (for say, positioning a camera in a WebGL sketch)\n* Geocoder search with location autocomplete that returns longitude and latitude.\n* Degrees or radians input, for circular things, or angles.\n* A dimensions input, or a box-model input, with margin (and optionally, padding).\n* A map-projection-picker input, rendering little thumbnails of all the d3-geo-projections.\n* Drag and drop file upload input.\n* Alternative coordinate inputs, e.g. Right Ascension, Declination.\n* Other useful formatting options.\n\n---"])))})),a.variable(t("input")).define("input",["html","d3format"],(function(e,t){return function(n){var a=n.form,r=n.type,i=void 0===r?"text":r,o=n.attributes,l=void 0===o?{}:o,u=n.action,s=n.getValue,c=n.title,d=n.description,f=n.format,p=n.display,m=n.submit,v=(n.options,e(or||(or=Object(xe.a)(["<div></div>"]))));if(a||(a=e(lr||(lr=Object(xe.a)(["<form>\n\t<input name=input type="," />\n  </form>"])),i)),Object.keys(l).forEach((function(e){var t=l[e];null!=t&&a.input.setAttribute(e,t)})),m&&a.append(e(ur||(ur=Object(xe.a)(['<input name=submit type=submit style="margin: 0 0.75em" value="','" />'])),"string"==typeof m?m:"Submit")),a.append(e(sr||(sr=Object(xe.a)(['<output name=output style="font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;"></output>'])))),c&&a.prepend(e(cr||(cr=Object(xe.a)(['<div style="font: 700 0.9rem sans-serif; margin-bottom: 3px;">',"</div>"])),c)),d&&a.append(e(dr||(dr=Object(xe.a)(['<div style="font-size: 0.85rem; font-style: italic; margin-top: 3px;">',"</div>"])),d)),f&&(f="function"===typeof f?f:t.format(f)),u)u(a);else{var b=m?"onsubmit":"button"==i?"onclick":"checkbox"==i||"radio"==i?"onchange":"oninput";a[b]=function(e){e&&e.preventDefault();var t=s?s(a.input):a.input.value;if(a.output){var n=p?p(t):f?f(t):t;if(n instanceof window.Element){for(;a.output.hasChildNodes();)a.output.removeChild(a.output.lastChild);a.output.append(n)}else a.output.value=n}a.value=t,"oninput"!==b&&a.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},"oninput"!==b&&(v.oninput=function(e){return e&&e.stopPropagation()&&e.preventDefault()}),"onsubmit"!==b&&(a.onsubmit=function(e){return e&&e.preventDefault()}),a[b]()}for(;a.childNodes.length;)v.appendChild(a.childNodes[0]);return a.append(v),a}})),a.variable(t("d3geo")).define("d3geo",["require"],(function(e){return e("d3-geo@1")})),a.variable(t("d3format")).define("d3format",["require"],(function(e){return e("d3-format@1")})),a.variable(t("topojson")).define("topojson",["require"],(function(e){return e("topojson-client@3")})),a.variable(t("world")).define("world",Object(ye.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/world-atlas@1/world/110m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))),a.variable(t("land")).define("land",["topojson","world"],(function(e,t){return e.feature(t,t.objects.land)})),a.variable(t("countries")).define("countries",["topojson","world"],(function(e,t){return e.feature(t,t.objects.countries)})),a.variable(t("usa")).define("usa",Object(ye.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/us-atlas@^2.1/us/states-10m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))),a.variable(t("nation")).define("nation",["topojson","usa"],(function(e,t){return e.feature(t,t.objects.nation)})),a.variable(t("states")).define("states",["topojson","usa"],(function(e,t){return e.feature(t,t.objects.states)})),a.variable(t("graticule")).define("graticule",["d3geo"],(function(e){return e.geoGraticule10()})),a.variable(t("viewof license")).define("viewof license",["md"],(function(e){var t=e(fr||(fr=Object(xe.a)(["License: [MIT](https://opensource.org/licenses/MIT)"])));return t.value="MIT",t})),a.variable(t("license")).define("license",["Generators","viewof license"],(function(e,t){return e.input(t)})),a.variable(t()).define(["md"],(function(e){return e(pr||(pr=Object(xe.a)(["*Clip art courtesy [ClipArt ETC](https://etc.usf.edu/clipart/), radio buttons and checkboxes courtesy [Amit Sch](https://observablehq.com/@meetamit/multiple-choice-inputs).*"])))})),a}function wr(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(mr||(mr=Object(xe.a)(['# Circle Legend\n\nTo use in your notebook:\n\n~~~js\nimport { legendCircle } from "@harrystevens/circle-legend";\n~~~'])))})),n.variable(t("legend")).define("legend",["legendCircle","d3","tickSize"],(function(e,t,n){return e().scale(t.scaleSqrt().domain([0,500]).range([0,40])).tickValues([15,150,500]).tickFormat((function(e,t,n){return t===n.length-1?e+" bushels of hay":e})).tickSize(n)})),n.variable(t("viewof tickSize")).define("viewof tickSize",["slider"],(function(e){return e({title:"Tick size",value:5,min:0,max:100,step:1,description:"What happens when you adjust this?"})})),n.variable(t("tickSize")).define("tickSize",["Generators","viewof tickSize"],(function(e,t){return e.input(t)})),n.variable(t()).define(["d3","DOM","tickSize","legend"],(function(e,t,n,a){var r=e.select(t.svg()).attr("height",90).attr("width",180+n);return r.append("g").call(a),r.node()})),n.variable(t("legendCircle")).define("legendCircle",(function(){return function(e){var t,n,a=function(e){return e},r=5;function i(e){var i=e.select("g");i._groups[0][0]||(i=e.append("g")),i.attr("transform","translate(".concat([1,1],")"));var o=n||t.ticks(),l=o[o.length-1];i.selectAll("circle").data(o.slice().reverse()).enter().append("circle").attr("fill","none").attr("stroke","currentColor").attr("cx",t(l)).attr("cy",t).attr("r",t),i.selectAll("line").data(o).enter().append("line").attr("stroke","currentColor").attr("stroke-dasharray","4, 2").attr("x1",t(l)).attr("x2",r+2*t(l)).attr("y1",(function(e){return 2*t(e)})).attr("y2",(function(e){return 2*t(e)})),i.selectAll("text").data(o).enter().append("text").attr("font-family","'Helvetica Neue', sans-serif").attr("font-size",11).attr("dx",3).attr("dy",4).attr("x",r+2*t(l)).attr("y",(function(e){return 2*t(e)})).text(a)}return i.tickSize=function(e){return arguments.length?(r=+e,i):r},i.scale=function(e){return arguments.length?(t=e,i):t},i.tickFormat=function(e){return arguments.length?(a=e,i):a},i.tickValues=function(e){return arguments.length?(n=e,i):n},i}})),n.variable(t()).define(["md"],(function(e){return e(vr||(vr=Object(xe.a)(["## Todo\n* Ensure circles are drawn biggest to smallest so they can be styled\n* Make it work with a threshold scale\n"])))})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3-scale@3","d3-selection@1")}));var a=e.module(gr);return n.import("slider",a),n}function yr(e,t){var a=e.module(),r=new Map([["Cosmos_India_full-1@1.csv",n(113).default]]);a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md"],(function(e){return e(br||(br=Object(xe.a)(["# Cosmos India Timeline"])))})),a.variable(t("chart")).define("chart",["d3","width","height","xAxis","yAxis","legendCircle","data","x","y","xAxis2","yAxis2","bitcoin","line","cosmos","margin"],(function(e,t,n,a,r,i,o,l,u,s,c,d,f,p,m){var v=e.create("svg").attr("width",t).attr("height",n).attr("viewBox",[0,0,t,n]);v.append("g").call(a),v.append("g").call(r);var b=v.append("g"),h=["BTC Price","ATOM Price"],g=e.scaleOrdinal().domain(h).range(["#FCC117","#FF0000"]),w=i().scale(e.scaleSqrt().domain([e.min(o,(function(e){return 2*e.Participants})),e.max(o,(function(e){return 2*e.Participants}))]).range([0,Math.sqrt(e.max(o,(function(e){return 2*e.Participants})))])).tickValues([100,400,1e3,2e3]).tickFormat((function(e,t,n){return t===n.length-1?"".concat(e/2," Participants"):e/2}));return b.selectAll("circle").data(o).join("circle").attr("r",(function(e){return Math.sqrt(2*e.Participants)})).attr("cx",(function(e){return l(e.Date)})).attr("cy",(function(e){return u(null)})).attr("fill","#608AD8").attr("opacity","50%").attr("transform","translate(0,".concat(n-405,")")),v.append("g").call(s),v.append("g").call(c),v.append("path").datum(d).attr("fill","none").attr("stroke","#FCC117").attr("stroke-width",3).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",f),v.append("path").datum(p).attr("fill","none").attr("stroke","#FF0000").attr("stroke-width",3).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",f),t>768?v.append("text").attr("x",t/2).attr("y",m.top-20).attr("text-anchor","middle").style("font-size",26).style("font-family","Acumin Pro").style("font-weight","bold").text("Cosmos (ATOM) Price Growth and Events Held by Cosmos in India"):(v.append("text").attr("x",t/2).attr("y",m.top-30).attr("text-anchor","middle").style("font-size",18).style("font-family","Acumin Pro").style("font-weight","bold").text("Cosmos (ATOM) Price Growth and Events"),v.append("text").attr("x",t/2).attr("y",m.top-10).attr("text-anchor","middle").style("font-size",18).style("font-family","Acumin Pro").style("font-weight","bold").text("Held by Cosmos in India")),v.selectAll("mylines").data(h).enter().append("line").style("stroke-width",3).attr("x1",100).attr("y1",(function(e,t){return 100+25*t})).attr("x2",150).attr("y2",(function(e,t){return 100+25*t})).style("stroke",(function(e){return g(e)})),v.selectAll("mylabels").data(h).enter().append("text").attr("x",160).attr("y",(function(e,t){return 100+25*t})).style("fill",(function(e){return g(e)})).text((function(e){return e})).attr("text-anchor","left").style("alignment-baseline","middle").style("font-family","Acumin Pro"),t>768?v.append("g").attr("transform","translate(300, 60)").call(w):v.append("g").attr("transform","translate(100, 150)").call(w),v.node()})),a.variable(t("height")).define("height",(function(){return 600})),a.variable(t("line")).define("line",["d3","x","y2"],(function(e,t,n){return e.line().defined((function(e){return!isNaN(e.percentage)})).x((function(e){return t(e.date)})).y((function(e){return n(100*e.percentage)}))})),a.variable(t("xAxis")).define("xAxis",["d3","x","width","height","margin"],(function(e,t,n,a,r){return function(i){return i.call(e.axisBottom(t).ticks(n/80).tickSizeOuter(0)).style("font-family","Acumin Pro").style("font-size",14).attr("transform","translate(0,".concat(a-r.bottom,")")).call((function(e){e.select(".domain").remove()}))}})),a.variable(t("xAxis2")).define("xAxis2",["d3","x"],(function(e,t){return function(n){return n.call(e.axisTop(t)).style("font-family","Acumin Pro").style("font-size",14).call((function(e){e.select(".domain").remove()}))}})),a.variable(t("yAxis")).define("yAxis",["d3","y","margin","height","width"],(function(e,t,n,a,r){return function(i){return i.call(e.axisLeft(t)).style("font-family","Acumin Pro").style("font-size",14).attr("transform","translate(".concat(n.left,",").concat(a-405,")")).call((function(e){e.select(".domain").remove(),e.selectAll(".tick").append("line").attr("stroke","#ccc").attr("x2",r-n.left)})).selectAll("text").data([null]).join("text").call((function(e){return e.selectAll("tspan").data("Participation \nat 27 events".split(/\n/)).join("tspan").attr("x",-10).attr("y",(function(e,t){return"".concat(1.3*t,"em")})).text((function(e){return e}))}))}})),a.variable(t("yAxis2")).define("yAxis2",["margin","d3","y2"],(function(e,t,n){return function(a){return a.attr("transform","translate(".concat(e.left,",0)")).style("font-family","Acumin Pro").style("font-size",14).call(t.axisLeft(n).tickFormat((function(e){return e+"%"}))).call((function(e){return e.select(".domain").remove()}))}})),a.variable(t("x")).define("x",["d3","data","margin","width"],(function(e,t,n,a){return e.scaleUtc().domain([e.min(t,(function(e){return e.Date})),e.max(t,(function(e){return e.Date}))]).range([n.left,a-100])})),a.variable(t("y")).define("y",["d3","margin","height"],(function(e,t,n){return e.scaleOrdinal().domain([null]).range([t.top+n/2,n-t.bottom+n/2])})),a.variable(t("y2")).define("y2",["d3","cosmos","height","margin"],(function(e,t,n,a){return e.scaleLinear().domain(e.extent(t,(function(e){return 100*e.percentage}))).range([n-a.bottom,a.top])})),a.variable(t("margin")).define("margin",(function(){return{top:50,right:0,bottom:100,left:90}})),a.variable(t("data")).define("data",["FileAttachment"],(function(e){return e("Cosmos_India_full-1@1.csv").csv({typed:!0})})),a.variable(t("nomics_api_key")).define("nomics_api_key",(function(){return"41838147e6618dff5014dc031ae5d9f0"})),a.variable(t("cors_head")).define("cors_head",(function(){return"https://observable-cors.glitch.me/"})),a.variable(t("Bitcoin_data")).define("Bitcoin_data",["d3","cors_head","nomics_api_key"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json("".concat(n,"https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=max"));case 2:return e.abrupt("return",e.sent.prices.reduce((function(e,t,n){var a=new Date(t[0]),r=parseFloat(t[1]);return e[n]={date:a,price:r},e}),[]));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),a.variable(t("Cosmos_data")).define("Cosmos_data",["d3","cors_head","nomics_api_key"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json("".concat(n,"https://api.coingecko.com/api/v3/coins/cosmos/market_chart?vs_currency=usd&days=max"));case 2:return e.abrupt("return",e.sent.prices.reduce((function(e,t,n){var a=new Date(t[0]),r=parseFloat(t[1]);return e[n]={date:a,price:r},e}),[]));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),a.variable(t("bitcoin")).define("bitcoin",["calculate_returns","Bitcoin_data"],(function(e,t){return e(t)})),a.variable(t("cosmos")).define("cosmos",["calculate_returns","Cosmos_data"],(function(e,t){return e(t)})),a.variable(t("calculate_returns")).define("calculate_returns",(function(){return function(e){return e.filter((function(e){return e.date>=new Date("2019-11-01")&&e.date<=new Date("2020-09-01")})).map((function(e,t,n){return 0==t?{date:n[t].date,percentage:0}:{date:n[t].date,percentage:(n[t].price-n[0].price)/n[0].price}}))}}));var i=e.module(wr);return a.import("legendCircle",i),a.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),a}var xr,jr,kr,Or,Sr,Ar,Cr,Mr,Pr,Dr,Tr,zr,Nr,Fr,Gr,Lr,Rr,Br,_r,Ir,Er,qr,Vr,Ur,Wr,Hr,Yr,Xr,Jr,Kr,Qr,Zr,$r,ei,ti=function(e){var t=e.width,n=Object(a.useRef)(),r=Object(a.useState)(),i=Object(o.a)(r,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){var e=new he.b,t=e.module(yr,(function(e){if("chart"===e)return new he.a(n.current)}));return u(t),function(){u(void 0),e.dispose()}}),[]),Object(a.useEffect)((function(){void 0!==l&&l.redefine("width",t)}),[t,l]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{ref:n,className:"chart"})})};function ni(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(xr||(xr=Object(xe.a)(['# Color Legend\n\nA simple legend for a [color scale](/@d3/color-schemes). Supports [continuous](/@d3/continuous-scales), [sequential](/@d3/sequential-scales), [diverging](/@d3/diverging-scales), [quantize, quantile, threshold](/@d3/quantile-quantize-and-threshold-scales) and [ordinal](/@d3/d3-scaleordinal) scales. To use:\n\n~~~js\nimport {legend, swatches} from "@d3/color-legend"\n~~~\n\nThen call the legend function as shown below. (For ordinal scales, also consider the swatches function.)'])))})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequential([0,100],t.interpolateViridis),title:"Temperature (\xb0F)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialSqrt([0,1],t.interpolateTurbo),title:"Speed (kts)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDiverging([-.1,0,.1],t.interpolatePiYG),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDivergingSqrt([-.1,0,.1],t.interpolateRdBu),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialLog([1,100],t.interpolateBlues),title:"Energy (joules)",ticks:10,tickFormat:".0s"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialQuantile(Array.from({length:100},(function(){return Math.pow(Math.random(),2)})),t.interpolateBlues),title:"Quantile",tickFormat:".2f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSqrt([-100,0,100],["blue","white","red"]),title:"Temperature (\xb0C)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantize([1,10],t.schemePurples[9]),title:"Unemployment rate (%)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantile(t.range(1e3).map(t.randomNormal(100,20)),t.schemeSpectral[9]),title:"Height (cm)",tickFormat:".0f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleThreshold([2.5,3.1,3.5,3.9,6,7,8,9.5],t.schemeRdBu[9]),title:"Unemployment rate (%)",tickSize:0})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleOrdinal(["<10","10-19","20-29","30-39","40-49","50-59","60-69","70-79","\u226580"],t.schemeSpectral[10]),title:"Age (years)",tickSize:0})})),n.variable(t()).define(["md"],(function(e){return e(jr||(jr=Object(xe.a)(["But wait, there\u2019s more!\n\nHow about swatches for ordinal color scales? Both variable-width swatches and [column layout](https://developer.mozilla.org/en-US/docs/Web/CSS/columns) are supported."])))})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["blueberries","oranges","apples"],t.schemeCategory10)})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["Wholesale and Retail Trade","Manufacturing","Leisure and hospitality","Business services","Construction","Education and Health","Government","Finance","Self-employed","Other"],t.schemeTableau10),columns:"180px"})})),n.variable(t()).define(["md"],(function(e){return e(kr||(kr=Object(xe.a)(["---\n\n## Implementation"])))})),n.variable(t("legend")).define("legend",["d3","ramp"],(function(e,t){return function(){var n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.color,i=a.title,o=a.tickSize,l=void 0===o?6:o,u=a.width,s=void 0===u?320:u,c=a.height,d=void 0===c?44+l:c,f=a.marginTop,p=void 0===f?18:f,m=a.marginRight,v=void 0===m?0:m,b=a.marginBottom,h=void 0===b?16+l:b,g=a.marginLeft,w=void 0===g?0:g,y=a.ticks,x=void 0===y?s/64:y,j=a.tickFormat,k=a.tickValues,O=e.create("svg").attr("width",s).attr("height",d).attr("viewBox",[0,0,s,d]).style("overflow","visible").style("display","block"),S=function(e){return e.selectAll(".tick line").attr("y1",p+h-d)};if(r.interpolate){var A=Math.min(r.domain().length,r.range().length);n=r.copy().rangeRound(e.quantize(e.interpolate(w,s-v),A)),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.copy().domain(e.quantize(e.interpolate(0,1),A))).toDataURL())}else if(r.interpolator){if(n=Object.assign(r.copy().interpolator(e.interpolateRound(w,s-v)),{range:function(){return[w,s-v]}}),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.interpolator()).toDataURL()),!n.ticks){if(void 0===k){var C=Math.round(x+1);k=e.range(C).map((function(t){return e.quantile(r.domain(),t/(C-1))}))}"function"!==typeof j&&(j=e.format(void 0===j?",f":j))}}else if(r.invertExtent){var M=r.thresholds?r.thresholds():r.quantiles?r.quantiles():r.domain(),P=void 0===j?function(e){return e}:"string"===typeof j?e.format(j):j;n=e.scaleLinear().domain([-1,r.range().length-1]).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.range()).join("rect").attr("x",(function(e,t){return n(t-1)})).attr("y",p).attr("width",(function(e,t){return n(t)-n(t-1)})).attr("height",d-p-h).attr("fill",(function(e){return e})),k=e.range(M.length),j=function(e){return P(M[e],e)}}else n=e.scaleBand().domain(r.domain()).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.domain()).join("rect").attr("x",n).attr("y",p).attr("width",Math.max(0,n.bandwidth()-1)).attr("height",d-p-h).attr("fill",r),S=function(){};return O.append("g").attr("transform","translate(0,".concat(d-h,")")).call(e.axisBottom(n).ticks(x,"string"===typeof j?j:void 0).tickFormat("function"===typeof j?j:void 0).tickSize(l).tickValues(k)).call(S).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.append("text").attr("x",w).attr("y",p+h-d-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)})),O.node()}})),n.variable(t("swatches")).define("swatches",["DOM","html","entity"],(function(e,t,n){return function(a){var r=a.color,i=a.columns,o=void 0===i?null:i,l=a.format,u=void 0===l?function(e){return e}:l,s=a.swatchSize,c=void 0===s?15:s,d=a.swatchWidth,f=void 0===d?c:d,p=a.swatchHeight,m=void 0===p?c:p,v=a.marginLeft,b=void 0===v?0:v,h=e.uid().id;return null!==o?t(Or||(Or=Object(xe.a)(['<div style="display: flex; align-items: center; margin-left: ','px; min-height: 33px; font: 10px sans-serif;">\n  <style>\n\n.',"-item {\n  break-inside: avoid;\n  display: flex;\n  align-items: center;\n  padding-bottom: 1px;\n}\n\n.","-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: calc(100% - ","px - 0.5em);\n}\n\n.","-swatch {\n  width: ","px;\n  height: ",'px;\n  margin: 0 0.5em 0 0;\n}\n\n  </style>\n  <div style="width: 100%; columns: ',';">',"\n  </div>\n</div>"])),+b,h,h,+f,h,+f,+m,o,r.domain().map((function(e){var a=u(e);return t(Sr||(Sr=Object(xe.a)(['<div class="','-item">\n      <div class="','-swatch" style="background:',';"></div>\n      <div class="','-label" title="','">',"</div>\n    </div>"])),h,h,r(e),h,a.replace(/["&]/g,n),document.createTextNode(a))}))):t(Ar||(Ar=Object(xe.a)(['<div style="display: flex; align-items: center; min-height: 33px; margin-left: ','px; font: 10px sans-serif;">\n  <style>\n\n.'," {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}\n\n.",'::before {\n  content: "";\n  width: ',"px;\n  height: ","px;\n  margin-right: 0.5em;\n  background: var(--color);\n}\n\n  </style>\n  <div>","</div>"])),+b,h,h,+f,+m,r.domain().map((function(e){return t(Cr||(Cr=Object(xe.a)(['<span class="','" style="--color: ','">',"</span>"])),h,r(e),document.createTextNode(u(e)))})))}})),n.variable(t("entity")).define("entity",(function(){return function(e){return"&#".concat(e.charCodeAt(0).toString(),";")}})),n.variable(t("ramp")).define("ramp",["DOM"],(function(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=e.canvas(n,1),r=a.getContext("2d"),i=0;i<n;++i)r.fillStyle=t(i/(n-1)),r.fillRect(i,0,1,1);return a}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),n}function ai(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(Mr||(Mr=Object(xe.a)(["# Contours\n\nShowing the [Goldstein\u2013Price test function](https://en.wikipedia.org/wiki/Test_functions_for_optimization)."])))})),n.variable(t("value")).define("value",(function(){return function(e,t){return(1+Math.pow(e+t+1,2)*(19-14*e+3*Math.pow(e,2)-14*t+6*e*t+3*Math.pow(t,2)))*(30+Math.pow(2*e-3*t,2)*(18-32*e+12*e*e+48*t-36*e*t+27*Math.pow(t,2)))}})),n.variable(t()).define(["legend","color"],(function(e,t){return e({color:t,title:"Value",tickFormat:","})})),n.variable(t("chart")).define("chart",["d3","width","height","contours","color","xAxis","yAxis"],(function(e,t,n,a,r,i,o){var l=e.create("svg").attr("viewBox",[0,0,t+28,n]).style("display","block").style("margin","0 -14px").style("width","calc(100% + 28px)");return l.append("g").attr("fill","none").attr("stroke","#fff").attr("stroke-opacity",.5).selectAll("path").data(a).join("path").attr("fill",(function(e){return r(e.value)})).attr("d",e.geoPath()),l.append("g").call(i),l.append("g").call(o),l.node()})),n.variable(t("color")).define("color",["d3","thresholds"],(function(e,t){return e.scaleSequentialLog(e.extent(t),e.interpolateMagma)})),n.variable(t("thresholds")).define("thresholds",["d3"],(function(e){return e.range(1,20).map((function(e){return Math.pow(2,e)}))})),n.variable(t("grid")).define("grid",["width","height","value","x","y"],(function(e,t,n,a,r){for(var i=e+28+4,o=t+4,l=Math.ceil((i- -2)/4),u=Math.ceil((o- -2)/4),s=new Array(l*u),c=0;c<u;++c)for(var d=0;d<l;++d)s[c*l+d]=n(a.invert(4*d-2),r.invert(4*c-2));return s.x=-4,s.y=-4,s.k=4,s.n=l,s.m=u,s})),n.variable(t("transform")).define("transform",["grid"],(function(e){return function(t){return{type:t.type,value:t.value,coordinates:t.coordinates.map((function(t){return t.map((function(t){return t.map((function(t){var n=Object(o.a)(t,2),a=n[0],r=n[1];return[e.x+e.k*a,e.y+e.k*r]}))}))}))}}})),n.variable(t("contours")).define("contours",["d3","grid","thresholds","transform"],(function(e,t,n,a){return e.contours().size([t.n,t.m]).thresholds(n)(t).map(a)})),n.variable(t("x")).define("x",["d3","width"],(function(e,t){return e.scaleLinear([-2,2],[0,t+28])})),n.variable(t("y")).define("y",["d3","height"],(function(e,t){return e.scaleLinear([-2,1],[t,0])})),n.variable(t("xAxis")).define("xAxis",["height","d3","x","width"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(0,".concat(e,")")).call(t.axisTop(n).ticks(a/e*10)).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick").filter((function(e){return n.domain().includes(e)})).remove()}))}})),n.variable(t("yAxis")).define("yAxis",["d3","y"],(function(e,t){return function(n){return n.attr("transform","translate(-1,0)").call(e.axisRight(t)).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick").filter((function(e){return t.domain().includes(e)})).remove()}))}})),n.variable(t("height")).define("height",(function(){return 600})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")}));var a=e.module(ni);return n.import("legend",a),n}function ri(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(Pr||(Pr=Object(xe.a)(['# Saving SVG\n\n<figure style="display:flex;padding:10px;background:#fefedd;color:#444;font:15px/22px var(--sans-serif);">\n<div style="margin:10px;"><b>Update:</b> Saving SVG is now built-in! Open the cell menu <svg viewBox="0 0 8 14" fill="currentColor" stroke="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="8" height="14"><circle r="1.5" cx="4" cy="2"></circle><circle r="1.5" cx="4" cy="7"></circle><circle r="1.5" cx="4" cy="12"></circle></svg> in the left margin to download any SVG cell as either SVG or PNG.</div>\n<div><img src="https://user-images.githubusercontent.com/4732/57958244-0ed81780-78b4-11e9-859d-bc68cc4f45b6.png"></div>\n</figure>\n\nSay we have a dynamically-generated SVG, like this contour plot. Here\u2019s how might you save it to a file in Observable using DOM.download.'])))}));var a=e.module(ai);return n.import("chart",a),n.variable(t()).define(["chart"],(function(e){return e})),n.variable(t()).define(["md"],(function(e){return e(Dr||(Dr=Object(xe.a)(["You can serialize the SVG element as a string, and then download it as an SVG file."])))})),n.variable(t()).define(["DOM","serialize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as SVG")})),n.variable(t("serialize")).define("serialize",["NodeFilter"],(function(e){var t="http://www.w3.org/2000/xmlns/";return function(n){n=n.cloneNode(!0);for(var a=window.location.href+"#",r=document.createTreeWalker(n,e.SHOW_ELEMENT);r.nextNode();){var i,o=Object(dt.a)(r.currentNode.attributes);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.value.includes(a)&&(l.value=l.value.replace(a,"#"))}}catch(s){o.e(s)}finally{o.f()}}n.setAttributeNS(t,"xmlns","http://www.w3.org/2000/svg"),n.setAttributeNS(t,"xmlns:xlink","http://www.w3.org/1999/xlink");var u=(new window.XMLSerializer).serializeToString(n);return new Blob([u],{type:"image/svg+xml"})}})),n.variable(t()).define(["md"],(function(e){return e(Tr||(Tr=Object(xe.a)(["Alternatively, you can render the SVG to a canvas to generate a PNG."])))})),n.variable(t()).define(["DOM","rasterize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as PNG")})),n.variable(t("rasterize")).define("rasterize",["DOM","serialize"],(function(e,t){return function(n){var a,r,i=new Promise((function(e,t){return a=e,r=t})),o=new Image;return o.onerror=r,o.onload=function(){var t=n.getBoundingClientRect(),r=e.context2d(t.width,t.height);r.drawImage(o,0,0,t.width,t.height),r.canvas.toBlob(a)},o.src=URL.createObjectURL(t(n)),i}})),n.variable(t()).define(["md"],(function(e){return e(zr||(zr=Object(xe.a)(['To use this in your own notebook, import from this notebook:\n\n```js\nimport {rasterize} from "@mbostock/saving-svg"\n```\n\nHappy downloading!'],['To use this in your own notebook, import from this notebook:\n\n\\`\\`\\`js\nimport {rasterize} from "@mbostock/saving-svg"\n\\`\\`\\`\n\nHappy downloading!'])))})),n}function ii(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(Nr||(Nr=Object(xe.a)(["\n# Embedding Fonts Into An SVG\n\nThis notebook demonstrates how to embed fonts (or other external resources) into an SVG.  \nNote that this example uses a TrueType font to maximize compatibility. If you only want to rasterize the SVG inside the browser then WOFF/WOFF 2.0 will work just as well.\n"])))})),n.variable(t("svg_embed")).define("svg_embed",["svg","toDataURL"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Fr||(Fr=Object(xe.a)(["<svg width=300 height=200 xmlns=\"http://www.w3.org/2000/svg\">\n  <style>\n    @font-face {\n      font-family: 'Pacifico';\n      font-style: normal;\n      font-weight: 400;\n      src: url(",") format('woff'), url(",") format('truetype');\n    }\n    rect { fill: lightsalmon }\n    text {\n      font-size: 40px;\n      font-family: Pacifico;\n      fill: black;\n    }\n  </style>\n  <rect x=0 y=0 width=300 height=200 />\n  <text x=35 y=100>Well, hello!</text>\n</svg>\n"])),e.next=4,n("https://fonts.gstatic.com/s/pacifico/v12/FwZY7-Qmy14u9lezJ-6H6M-Bp0u-.woff");case 4:return e.t2=e.sent,e.next=7,n("https://rawcdn.githack.com/google/fonts/e9c0bd/ofl/pacifico/Pacifico-Regular.ttf");case 7:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t()).define(["html","DOM","serialize","svg_embed","rasterize"],(function(e,t,n,a,r){return e(Gr||(Gr=Object(xe.a)(["\n  ","\n  ","\n"])),t.download(n(a),"image.svg","Download as SVG"),t.download(r(a),"image.png","Download as PNG"))})),n.variable(t()).define(["md"],(function(e){return e(Lr||(Lr=Object(xe.a)(["\n---\n## Compatibility\n\nIf you plan to edit the downloaded SVG be aware that many applications do not support <code>@font-face</code> declarations (some may not even support CSS at all). When in doubt use a [web based SVG editor](https://mediatemple.net/blog/tips/browser-based-svg-editors/).\n"])))})),n.variable(t()).define(["md"],(function(e){return e(Rr||(Rr=Object(xe.a)(["---"])))})),n.variable(t("toDataURL")).define("toDataURL",(function(){return function(){var e=Object(ye.a)(we.a.mark((function e(t){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ye.a)(we.a.mark((function e(n,a){var r,i,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=5;break}return e.abrupt("return",a("Error: ".concat(r.status," ").concat(r.statusText)));case 5:return e.next=7,r.blob();case 7:i=e.sent,(o=new FileReader).readAsDataURL(i),o.onloadend=function(){return n(o.result)};case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));var a=e.module(ri);return n.import("serialize",a),n.import("rasterize",a),n}function oi(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(Br||(Br=Object(xe.a)(["# Version Pinning for Notebooks\nObservable supports version pinning by appending the version number to the notebook name or path.\n\nThese functions make it easier to look up the most recent version of notebooks, and to use pinned versions in your own documentation. Example:"])))})),n.variable(t()).define(["md","getCurrentPinnedName"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=_r||(_r=Object(xe.a)(["```js\nimport {getCurrentPinnedName} from '","'\n```"],["\\`\\`\\`js\nimport {getCurrentPinnedName} from '","'\n\\`\\`\\`"])),e.next=4,n();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t()).define(["md","dataTable","getCurrentLocalPath","getCurrentPath","getCurrentName","getCurrentPinnedName","getCurrentMetadata","getCurrentComparePath"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r,i,o,l,u){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Ir||(Ir=Object(xe.a)(["---\n## Current Notebook\nFunctions that can be used to obtain information about the currently viewed notebook. Metadata and the pinned name will be available once you have shared or published your notebook. Reload the page after publishing to see the updated version number.\n\n","\n\n"])),e.t2=n,e.t3=["getCurrentLocalPath",a()],e.t4=["getCurrentPath",r()],e.t5=["getCurrentName",i()],e.next=8,o();case 8:return e.t6=e.sent,e.t7=["getCurrentPinnedName",e.t6],e.next=12,l();case 12:return e.t8=e.sent,e.t9=["getCurrentMetadata",e.t8],e.next=16,u(299);case 16:return e.t10=e.sent,e.t11=["getCurrentComparePath",e.t10],e.t12=[e.t3,e.t4,e.t5,e.t7,e.t9,e.t11],e.t13=(0,e.t2)(e.t12),e.abrupt("return",(0,e.t0)(e.t1,e.t13));case 21:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,l,u){return e.apply(this,arguments)}}()),n.variable(t("getCurrentLocalPath")).define("getCurrentLocalPath",["html"],(function(e){return function(){return e(Er||(Er=Object(xe.a)(['<a href="#">']))).pathname}})),n.variable(t("getCurrentPath")).define("getCurrentPath",["formatPath","getCurrentName"],(function(e,t){return function(){return e(t())}})),n.variable(t("getCurrentName")).define("getCurrentName",["getCurrentLocalPath"],(function(e){return function(){return e().replace(/^\/(d\/)?/,"")}})),n.variable(t("getCurrentPinnedName")).define("getCurrentPinnedName",["getCurrentMetadata","formatName","getCurrentName"],(function(e,t,n){return function(){var a=Object(ye.a)(we.a.mark((function a(){var r;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:if(!(r=a.sent)||!r.version){a.next=5;break}return a.abrupt("return",t(n(),r.version));case 5:return a.abrupt("return",null);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t("getCurrentMetadata")).define("getCurrentMetadata",["getMetadata","getCurrentName"],(function(e,t){var n;return function(){var a=Object(ye.a)(we.a.mark((function a(){var r,i=arguments;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=i.length>0&&void 0!==i[0]&&i[0],void 0!==n&&!r){a.next=5;break}return a.next=4,e(t());case 4:n=a.sent;case 5:return a.abrupt("return",n);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t("getCurrentComparePath")).define("getCurrentComparePath",["getMetadata","getCurrentName","formatComparePath"],(function(e,t,n){return function(){var a=Object(ye.a)(we.a.mark((function a(){var r,i,o,l=arguments;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:null,i=l.length>1&&void 0!==l[1]?l[1]:null,a.next=4,e(t());case 4:if(!(o=a.sent)){a.next=7;break}return a.abrupt("return",n(o.id,r,o.id,i));case 7:return a.abrupt("return",null);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t()).define(["md"],(function(e){return e(qr||(qr=Object(xe.a)(["---\n## Other Notebooks\nFunctions for retrieving information about any notebooks.\n"])))})),n.variable(t("viewof preview_name")).define("viewof preview_name",["html","Event"],(function(e,t){var n=e(Vr||(Vr=Object(xe.a)(['<input type="button" value="Submit">']))),a=e(Ur||(Ur=Object(xe.a)(['<input type="text" value="@jashkenas/inputs">']))),r=e(Wr||(Wr=Object(xe.a)(["<form>"," ",""])),a,n);return a.oninput=function(e){return e.stopPropagation()},n.onclick=function(){r.value=a.value,r.dispatchEvent(new t("input"))},r.value=a.value,r})),n.variable(t("preview_name")).define("preview_name",["Generators","viewof preview_name"],(function(e,t){return e.input(t)})),n.variable(t()).define(["dataTable","formatLocalPath","preview_name","formatPath","formatSourcePath","getPinnedName","getPinnedPath","getSource","getMetadata"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r,i,o,l,u,s){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=["formatLocalPath",n(a)],e.t2=["formatPath",r(a)],e.t3=["formatSourcePath",i(a)],e.next=6,o(a);case 6:return e.t4=e.sent,e.t5=["getPinnedName",e.t4],e.next=10,l(a);case 10:return e.t6=e.sent,e.t7=["getPinnedPath",e.t6],e.next=14,u(a);case 14:return e.t8=e.sent,e.t9=["getSource",e.t8],e.next=18,s(a);case 18:return e.t10=e.sent,e.t11=["getMetadata",e.t10],e.t12=[e.t1,e.t2,e.t3,e.t5,e.t7,e.t9,e.t11],e.abrupt("return",(0,e.t0)(e.t12));case 22:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,l,u,s){return e.apply(this,arguments)}}()),n.variable(t("formatLocalPath")).define("formatLocalPath",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"/"+(e.match(/^@/)?e:"d/"+e)+(t?"@"+t:"")}})),n.variable(t("formatPath")).define("formatPath",["domain","formatLocalPath"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"https://".concat(e).concat(t(n,a))}})),n.variable(t("formatSourcePath")).define("formatSourcePath",["apiDomain","formatLocalPath"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"https://".concat(e).concat(t(n,a),".js")}})),n.variable(t("formatName")).define("formatName",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e+(t?"@"+t:"")}})),n.variable(t("formatId")).define("formatId",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e+(t?"@"+t:"")}})),n.variable(t("formatComparePath")).define("formatComparePath",["domain","formatId"],(function(e,t){return function(n,a,r,i){return"https://".concat(e,"/compare/").concat(t(n,a),"...").concat(t(r,i))}})),n.variable(t("getPinnedName")).define("getPinnedName",["getMetadata"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:if(!(a=t.sent)||!a.version){t.next=5;break}return t.abrupt("return",n+"@"+a.version);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t("getPinnedPath")).define("getPinnedPath",["getMetadata","formatPath"],(function(e,t){return function(){var n=Object(ye.a)(we.a.mark((function n(a){var r;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(a);case 2:if(!(r=n.sent)||!r.version){n.next=5;break}return n.abrupt("return",t(a,r.version));case 5:return n.abrupt("return",null);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),n.variable(t("getComparePath")).define("getComparePath",["getMetadata","formatComparePath"],(function(e,t){return function(){var n=Object(ye.a)(we.a.mark((function n(a){var r,i,o,l=arguments;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:null,i=l.length>2&&void 0!==l[2]?l[2]:null,n.next=4,e(a);case 4:if(!(o=n.sent)){n.next=7;break}return n.abrupt("return",t(o.id,r,o.id,i));case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),n.variable(t("getSource")).define("getSource",["formatSourcePath"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a,r,i,o=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:null,r=e(n,a),t.prev=2,t.next=5,fetch(r,{cache:a?"default":"no-cache"});case 5:return i=t.sent,t.next=8,i.text();case 8:return t.abrupt("return",t.sent);case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t("getMetadata")).define("getMetadata",["getSource"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a,r,i,o,l,u=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:null,r={URL:"url",Title:"title",Author:"author",Version:"version","Runtime version":"runtimeVersion"},t.next=4,e(n,a);case 4:if(i=t.sent){t.next=7;break}return t.abrupt("return",null);case 7:if(o=i.match(/^(?:\/\/ .+?\n)+/),l=i.match(/^\s+?id:\s+?"([^@"]+)/m),o&&l){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",o[0].split(/\n/).reduce((function(e,t){var n=t.match(/^\/\/ ([^:]+?):\s+?(.+?)$/);return n&&r.hasOwnProperty(n[1])&&(e[r[n[1]]]=n[2]),e}),{id:l[1]}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t()).define(["md"],(function(e){return e(Hr||(Hr=Object(xe.a)(["---"])))})),n.variable(t("domain")).define("domain",(function(){return"observablehq.com"})),n.variable(t("apiDomain")).define("apiDomain",(function(){return"api.observablehq.com"})),n.variable(t("dataTable")).define("dataTable",["html"],(function(e){return function(t){var n="padding:.5em;vertical-align:top",a=t.map((function(t){var a=Object(o.a)(t,2),r=a[0],i=a[1],l=e(Yr||(Yr=Object(xe.a)(['<div style="max-height:10em;overflow:auto;word-break:break-word">'])));return l.textContent=JSON.stringify(i),e(Xr||(Xr=Object(xe.a)(['<tr><th style="','">','</th><td style="',';font-family:monospace">',"</td>"])),n,r,n,l)}));return e(Jr||(Jr=Object(xe.a)(["<table>",""])),a)}})),n}function li(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(Kr||(Kr=Object(xe.a)(["\n# Embedding Fonts Into An SVG\n\nHelper function written on top of [@mootari/embedding-fonts-into-an-svg](https://observablehq.com/@mootari/embedding-fonts-into-an-svg) with Google Fonts in mind:\n\n## Signature\n\n```javascript\nasync function addWebFont(selection, fontName, fontURL, fontType = 'woff2')\n```\n\n## Example:\n\n```javascript\n// From https://fonts.googleapis.com/css?family=Pacifico, pick the url under /* latin */\nselection.call(addWebFont, 'Pacifico', 'https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2');\n```\n"],["\n# Embedding Fonts Into An SVG\n\nHelper function written on top of [@mootari/embedding-fonts-into-an-svg](https://observablehq.com/@mootari/embedding-fonts-into-an-svg) with Google Fonts in mind:\n\n## Signature\n\n\\`\\`\\`javascript\nasync function addWebFont(selection, fontName, fontURL, fontType = 'woff2')\n\\`\\`\\`\n\n## Example:\n\n\\`\\`\\`javascript\n// From https://fonts.googleapis.com/css?family=Pacifico, pick the url under /* latin */\nselection.call(addWebFont, 'Pacifico', 'https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2');\n\\`\\`\\`\n"])))})),n.variable(t("addWebFont")).define("addWebFont",["toDataURL"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n,a,r){var i,o,l=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:"woff2",t.next=3,e(r);case 3:return o=t.sent,t.abrupt("return",n.append("style").text("\n    @font-face {\n      font-family: '".concat(a,"';\n      src: url(").concat(o,") format('").concat(i,"');\n    }\n  ")));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()})),n.variable(t()).define(["DOM","rasterize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as PNG")})),n.variable(t("chart")).define("chart",["d3","DOM","addWebFont"],(function(e,t,n){var a=e.select(t.svg(600,400));return a.append("text").call(n,"Pacifico","https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2").attr("style","font-size: 175px; font-family: 'Pacifico';").text("Pacifico").attr("x",300).attr("y",200).attr("dominant-baseline","middle").attr("text-anchor","middle"),a.node()})),n.variable(t()).define(["md"],(function(e){return e(Qr||(Qr=Object(xe.a)(["\n## Setup\n"])))})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("https://d3js.org/d3.v5.min.js")}));var a=e.module(ri);n.import("rasterize",a);var r=e.module(ii);n.import("toDataURL",r);var i=e.module(oi);return n.import("getMetadata",i),n.variable(t()).define(["md"],(function(e){return e(Zr||(Zr=Object(xe.a)(['\n## "Backup"\n'])))})),n.variable(t("latestVersion")).define("latestVersion",["getMetadata"],function(){var e=Object(ye.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("@mootari/embedding-fonts-into-an-svg");case 2:return n=e.sent,e.abrupt("return",+n.version);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.variable(t()).define(["md"],(function(e){return e($r||($r=Object(xe.a)(["\n### `toDataURL` source as of **@171**\n\n```javascript\nasync function toDataURL(url) {\n  return new Promise(async(resolve, reject) => {\n    const res = await fetch(url);\n    if(!res.ok) return reject(`Error: ${res.status} ${res.statusText}`);\n    const blob = await res.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => resolve(reader.result);\n  });\n}\n```\n"],["\n### \\`toDataURL\\` source as of **@171**\n\n\\`\\`\\`javascript\nasync function toDataURL(url) {\n  return new Promise(async(resolve, reject) => {\n    const res = await fetch(url);\n    if(!res.ok) return reject(\\`Error: \\${res.status} \\${res.statusText}\\`);\n    const blob = await res.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => resolve(reader.result);\n  });\n}\n\\`\\`\\`\n"])))})),n}function ui(e,t){var a=e.module(),r=new Map([["coinbase-asset@3.csv",n(114).default]]);a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md"],(function(e){return e(ei||(ei=Object(xe.a)(["# Coinbase Radial Stacked Bar Chart"])))})),a.variable(t("chart")).define("chart",["d3","DOM","width","height","addWebFont","data","z","arc","xAxis","yAxis","legend"],(function(e,t,n,a,r,i,o,l,u,s,c){var d=e.select(t.svg(n,a)).attr("viewBox","".concat(-n/2," ").concat(-a/2," ").concat(n," ").concat(a)).style("width","100%").style("height","auto").call(r,"Acumin Pro","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-RPro.otf","opentype").call(r,"Acumin Pro Bold","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-BdPro.otf","opentype").style("font","24px Acumin Pro");return d.append("g").selectAll("g").data(e.stack().keys(i.columns.slice(1))(i)).join("g").attr("fill",(function(e){return o(e.key)})).selectAll("path").data((function(e){return e})).join("path").attr("d",l),d.append("g").call(u),d.append("g").call(s),d.append("g").call(c),d.node()})),a.variable(t("data")).define("data",["d3","FileAttachment"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,n("coinbase-asset@3.csv").text();case 3:return e.t1=e.sent,e.t2=function(e,t,n){for(var a=0,r=1;r<n.length;++r)a+=e[n[r]]=+e[n[r]];return e.total=a,e},e.abrupt("return",e.t0.csvParse.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.variable(t("arc")).define("arc",["d3","y","x","innerRadius"],(function(e,t,n,a){return e.arc().innerRadius((function(e){return t(e[0])})).outerRadius((function(e){return t(e[1])})).startAngle((function(e){return n(e.data.Quarter)})).endAngle((function(e){return n(e.data.Quarter)+n.bandwidth()})).padAngle(.01).padRadius(a)})),a.variable(t("x")).define("x",["d3","data"],(function(e,t){return e.scaleBand().domain(t.map((function(e){return e.Quarter}))).range([0,2*Math.PI]).align(0)})),a.variable(t("y")).define("y",["d3","data","innerRadius","outerRadius"],(function(e,t,n,a){return e.scaleRadial().domain([0,e.max(t,(function(e){return e.total}))]).range([n,a])})),a.variable(t("z")).define("z",["d3","data"],(function(e,t){return e.scaleOrdinal().domain(t.columns.slice(1)).range(["#fcc117","white"])})),a.variable(t("xAxis")).define("xAxis",["data","x","innerRadius"],(function(e,t,n){return function(a){return a.attr("text-anchor","middle").call((function(a){return a.selectAll("g").data(e).join("g").attr("transform",(function(e){return"\n          rotate(".concat(180*(t(e.Quarter)+t.bandwidth()/2)/Math.PI-90,")\n          translate(").concat(n,",0)\n        ")})).call((function(e){return e.append("line").attr("x2",-5).attr("stroke","#000")})).call((function(e){return e.append("text").attr("transform",(function(e){return(t(e.Quarter)+t.bandwidth()/2+Math.PI/2)%(2*Math.PI)<Math.PI?"rotate(90)translate(0,25)":"rotate(-90)translate(0,-9)"})).text((function(e){return e.Quarter}))}))}))}})),a.variable(t("yAxis")).define("yAxis",["y"],(function(e){return function(t){return t.attr("text-anchor","middle").call((function(t){return t.append("text").attr("y",(function(t){return-e(e.ticks(5).pop())})).attr("dy","-1em").text("Total Assets on Coinbase Increased Nearly 150% in 2021Q1").style("font-weight","bold").style("font-size","30px")})).call((function(t){return t.selectAll("g").data(e.ticks(5).slice(1)).join("g").attr("fill","none").call((function(t){return t.append("circle").attr("stroke","#000").attr("stroke-opacity",.5).attr("r",e)})).call((function(t){return t.append("text").attr("y",(function(t){return-e(t)})).attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).text((function(t){return e.tickFormat(5,"$s")(t).replace("G","B")})).clone(!0).attr("fill","#000").attr("stroke","none")}))}))}})),a.variable(t("formatValue")).define("formatValue",["d3"],(function(e){return e.format("$.2s")})),a.variable(t("tickformat")).define("tickformat",["formatValue"],(function(e){return function(t){return e(t).replace("G","B")}})),a.variable(t("legend")).define("legend",["data","z"],(function(e,t){return function(n){return n.append("g").selectAll("g").data(e.columns.slice(1).reverse()).join("g").attr("transform",(function(t,n){return"translate(-80,".concat(20*(n-(e.columns.length-1)/2),")")})).call((function(e){return e.append("rect").attr("width",18).attr("height",18).attr("fill",t)})).call((function(e){return e.append("text").attr("x",24).attr("y",9).attr("dy","0.35em").text("Assets on Platform")}))}})),a.variable(t("width")).define("width",(function(){return 975})),a.variable(t("height")).define("height",["width"],(function(e){return e})),a.variable(t("innerRadius")).define("innerRadius",(function(){return 180})),a.variable(t("outerRadius")).define("outerRadius",["width","height"],(function(e,t){return Math.min(e,t)/2-50}));var i=e.module(li);return a.import("addWebFont",i),a.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),a}var si,ci,di,fi,pi,mi,vi,bi,hi,gi,wi,yi,xi,ji,ki,Oi,Si,Ai,Ci,Mi,Pi,Di,Ti,zi,Ni,Fi,Gi,Li,Ri,Bi,_i,Ii,Ei,qi,Vi=function(){var e=Object(a.useRef)(),t=Object(a.useState)(),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){var t=new he.b,n=t.module(ui,(function(t){if("chart"===t)return new he.a(e.current)}));return i(n),function(){i(void 0),t.dispose()}}),[]),Object(a.useEffect)((function(){void 0!==r&&r.redefine("width",975)}),[975,r]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{ref:e,className:"chart"})})};function Ui(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(si||(si=Object(xe.a)(['# Color Legend\n\nA simple legend for a [color scale](/@d3/color-schemes). Supports [continuous](/@d3/continuous-scales), [sequential](/@d3/sequential-scales), [diverging](/@d3/diverging-scales), [quantize, quantile, threshold](/@d3/quantile-quantize-and-threshold-scales) and [ordinal](/@d3/d3-scaleordinal) scales. To use:\n\n~~~js\nimport {legend, swatches} from "@d3/color-legend"\n~~~\n\nThen call the legend function as shown below. (For ordinal scales, also consider the swatches function.)'])))})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequential([0,100],t.interpolateViridis),title:"Temperature (\xb0F)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialSqrt([0,1],t.interpolateTurbo),title:"Speed (kts)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDiverging([-.1,0,.1],t.interpolatePiYG),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDivergingSqrt([-.1,0,.1],t.interpolateRdBu),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialLog([1,100],t.interpolateBlues),title:"Energy (joules)",ticks:10,tickFormat:".0s"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialQuantile(Array.from({length:100},(function(){return Math.pow(Math.random(),2)})),t.interpolateBlues),title:"Quantile",tickFormat:".2f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSqrt([-100,0,100],["blue","white","red"]),title:"Temperature (\xb0C)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantize([1,10],t.schemePurples[9]),title:"Unemployment rate (%)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantile(t.range(1e3).map(t.randomNormal(100,20)),t.schemeSpectral[9]),title:"Height (cm)",tickFormat:".0f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleThreshold([2.5,3.1,3.5,3.9,6,7,8,9.5],t.schemeRdBu[9]),title:"Unemployment rate (%)",tickSize:0})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleOrdinal(["<10","10-19","20-29","30-39","40-49","50-59","60-69","70-79","\u226580"],t.schemeSpectral[10]),title:"Age (years)",tickSize:0})})),n.variable(t()).define(["md"],(function(e){return e(ci||(ci=Object(xe.a)(["But wait, there\u2019s more!\n\nHow about swatches for ordinal color scales? Both variable-width swatches and [column layout](https://developer.mozilla.org/en-US/docs/Web/CSS/columns) are supported."])))})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["blueberries","oranges","apples"],t.schemeCategory10)})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["Wholesale and Retail Trade","Manufacturing","Leisure and hospitality","Business services","Construction","Education and Health","Government","Finance","Self-employed","Other"],t.schemeTableau10),columns:"180px"})})),n.variable(t()).define(["md"],(function(e){return e(di||(di=Object(xe.a)(["---\n\n## Implementation"])))})),n.variable(t("legend")).define("legend",["d3","ramp"],(function(e,t){return function(){var n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.color,i=a.title,o=a.tickSize,l=void 0===o?6:o,u=a.width,s=void 0===u?320:u,c=a.height,d=void 0===c?44+l:c,f=a.marginTop,p=void 0===f?18:f,m=a.marginRight,v=void 0===m?0:m,b=a.marginBottom,h=void 0===b?16+l:b,g=a.marginLeft,w=void 0===g?0:g,y=a.ticks,x=void 0===y?s/64:y,j=a.tickFormat,k=a.tickValues,O=e.create("svg").attr("width",s).attr("height",d).attr("viewBox",[0,0,s,d]).style("overflow","visible").style("display","block"),S=function(e){return e.selectAll(".tick line").attr("y1",p+h-d)};if(r.interpolate){var A=Math.min(r.domain().length,r.range().length);n=r.copy().rangeRound(e.quantize(e.interpolate(w,s-v),A)),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.copy().domain(e.quantize(e.interpolate(0,1),A))).toDataURL())}else if(r.interpolator){if(n=Object.assign(r.copy().interpolator(e.interpolateRound(w,s-v)),{range:function(){return[w,s-v]}}),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.interpolator()).toDataURL()),!n.ticks){if(void 0===k){var C=Math.round(x+1);k=e.range(C).map((function(t){return e.quantile(r.domain(),t/(C-1))}))}"function"!==typeof j&&(j=e.format(void 0===j?",f":j))}}else if(r.invertExtent){var M=r.thresholds?r.thresholds():r.quantiles?r.quantiles():r.domain(),P=void 0===j?function(e){return e}:"string"===typeof j?e.format(j):j;n=e.scaleLinear().domain([-1,r.range().length-1]).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.range()).join("rect").attr("x",(function(e,t){return n(t-1)})).attr("y",p).attr("width",(function(e,t){return n(t)-n(t-1)})).attr("height",d-p-h).attr("fill",(function(e){return e})),k=e.range(M.length),j=function(e){return P(M[e],e)}}else n=e.scaleBand().domain(r.domain()).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.domain()).join("rect").attr("x",n).attr("y",p).attr("width",Math.max(0,n.bandwidth()-1)).attr("height",d-p-h).attr("fill",r),S=function(){};return O.append("g").attr("transform","translate(0,".concat(d-h,")")).call(e.axisBottom(n).ticks(x,"string"===typeof j?j:void 0).tickFormat("function"===typeof j?j:void 0).tickSize(l).tickValues(k)).call(S).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.append("text").attr("x",w).attr("y",p+h-d-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)})),O.node()}})),n.variable(t("swatches")).define("swatches",["DOM","html","entity"],(function(e,t,n){return function(a){var r=a.color,i=a.columns,o=void 0===i?null:i,l=a.format,u=void 0===l?function(e){return e}:l,s=a.swatchSize,c=void 0===s?15:s,d=a.swatchWidth,f=void 0===d?c:d,p=a.swatchHeight,m=void 0===p?c:p,v=a.marginLeft,b=void 0===v?0:v,h=e.uid().id;return null!==o?t(fi||(fi=Object(xe.a)(['<div style="display: flex; align-items: center; margin-left: ','px; min-height: 33px; font: 10px sans-serif;">\n  <style>\n\n.',"-item {\n  break-inside: avoid;\n  display: flex;\n  align-items: center;\n  padding-bottom: 1px;\n}\n\n.","-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: calc(100% - ","px - 0.5em);\n}\n\n.","-swatch {\n  width: ","px;\n  height: ",'px;\n  margin: 0 0.5em 0 0;\n}\n\n  </style>\n  <div style="width: 100%; columns: ',';">',"\n  </div>\n</div>"])),+b,h,h,+f,h,+f,+m,o,r.domain().map((function(e){var a=u(e);return t(pi||(pi=Object(xe.a)(['<div class="','-item">\n      <div class="','-swatch" style="background:',';"></div>\n      <div class="','-label" title="','">',"</div>\n    </div>"])),h,h,r(e),h,a.replace(/["&]/g,n),document.createTextNode(a))}))):t(mi||(mi=Object(xe.a)(['<div style="display: flex; align-items: center; min-height: 33px; margin-left: ','px; font: 10px sans-serif;">\n  <style>\n\n.'," {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}\n\n.",'::before {\n  content: "";\n  width: ',"px;\n  height: ","px;\n  margin-right: 0.5em;\n  background: var(--color);\n}\n\n  </style>\n  <div>","</div>"])),+b,h,h,+f,+m,r.domain().map((function(e){return t(vi||(vi=Object(xe.a)(['<span class="','" style="--color: ','">',"</span>"])),h,r(e),document.createTextNode(u(e)))})))}})),n.variable(t("entity")).define("entity",(function(){return function(e){return"&#".concat(e.charCodeAt(0).toString(),";")}})),n.variable(t("ramp")).define("ramp",["DOM"],(function(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=e.canvas(n,1),r=a.getContext("2d"),i=0;i<n;++i)r.fillStyle=t(i/(n-1)),r.fillRect(i,0,1,1);return a}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),n}function Wi(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(bi||(bi=Object(xe.a)(["# Contours\n\nShowing the [Goldstein\u2013Price test function](https://en.wikipedia.org/wiki/Test_functions_for_optimization)."])))})),n.variable(t("value")).define("value",(function(){return function(e,t){return(1+Math.pow(e+t+1,2)*(19-14*e+3*Math.pow(e,2)-14*t+6*e*t+3*Math.pow(t,2)))*(30+Math.pow(2*e-3*t,2)*(18-32*e+12*e*e+48*t-36*e*t+27*Math.pow(t,2)))}})),n.variable(t()).define(["legend","color"],(function(e,t){return e({color:t,title:"Value",tickFormat:","})})),n.variable(t("chart")).define("chart",["d3","width","height","contours","color","xAxis","yAxis"],(function(e,t,n,a,r,i,o){var l=e.create("svg").attr("viewBox",[0,0,t+28,n]).style("display","block").style("margin","0 -14px").style("width","calc(100% + 28px)");return l.append("g").attr("fill","none").attr("stroke","#fff").attr("stroke-opacity",.5).selectAll("path").data(a).join("path").attr("fill",(function(e){return r(e.value)})).attr("d",e.geoPath()),l.append("g").call(i),l.append("g").call(o),l.node()})),n.variable(t("color")).define("color",["d3","thresholds"],(function(e,t){return e.scaleSequentialLog(e.extent(t),e.interpolateMagma)})),n.variable(t("thresholds")).define("thresholds",["d3"],(function(e){return e.range(1,20).map((function(e){return Math.pow(2,e)}))})),n.variable(t("grid")).define("grid",["width","height","value","x","y"],(function(e,t,n,a,r){for(var i=e+28+4,o=t+4,l=Math.ceil((i- -2)/4),u=Math.ceil((o- -2)/4),s=new Array(l*u),c=0;c<u;++c)for(var d=0;d<l;++d)s[c*l+d]=n(a.invert(4*d-2),r.invert(4*c-2));return s.x=-4,s.y=-4,s.k=4,s.n=l,s.m=u,s})),n.variable(t("transform")).define("transform",["grid"],(function(e){return function(t){return{type:t.type,value:t.value,coordinates:t.coordinates.map((function(t){return t.map((function(t){return t.map((function(t){var n=Object(o.a)(t,2),a=n[0],r=n[1];return[e.x+e.k*a,e.y+e.k*r]}))}))}))}}})),n.variable(t("contours")).define("contours",["d3","grid","thresholds","transform"],(function(e,t,n,a){return e.contours().size([t.n,t.m]).thresholds(n)(t).map(a)})),n.variable(t("x")).define("x",["d3","width"],(function(e,t){return e.scaleLinear([-2,2],[0,t+28])})),n.variable(t("y")).define("y",["d3","height"],(function(e,t){return e.scaleLinear([-2,1],[t,0])})),n.variable(t("xAxis")).define("xAxis",["height","d3","x","width"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(0,".concat(e,")")).call(t.axisTop(n).ticks(a/e*10)).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick").filter((function(e){return n.domain().includes(e)})).remove()}))}})),n.variable(t("yAxis")).define("yAxis",["d3","y"],(function(e,t){return function(n){return n.attr("transform","translate(-1,0)").call(e.axisRight(t)).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick").filter((function(e){return t.domain().includes(e)})).remove()}))}})),n.variable(t("height")).define("height",(function(){return 600})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")}));var a=e.module(Ui);return n.import("legend",a),n}function Hi(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(hi||(hi=Object(xe.a)(['# Saving SVG\n\n<figure style="display:flex;padding:10px;background:#fefedd;color:#444;font:15px/22px var(--sans-serif);">\n<div style="margin:10px;"><b>Update:</b> Saving SVG is now built-in! Open the cell menu <svg viewBox="0 0 8 14" fill="currentColor" stroke="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="8" height="14"><circle r="1.5" cx="4" cy="2"></circle><circle r="1.5" cx="4" cy="7"></circle><circle r="1.5" cx="4" cy="12"></circle></svg> in the left margin to download any SVG cell as either SVG or PNG.</div>\n<div><img src="https://user-images.githubusercontent.com/4732/57958244-0ed81780-78b4-11e9-859d-bc68cc4f45b6.png"></div>\n</figure>\n\nSay we have a dynamically-generated SVG, like this contour plot. Here\u2019s how might you save it to a file in Observable using DOM.download.'])))}));var a=e.module(Wi);return n.import("chart",a),n.variable(t()).define(["chart"],(function(e){return e})),n.variable(t()).define(["md"],(function(e){return e(gi||(gi=Object(xe.a)(["You can serialize the SVG element as a string, and then download it as an SVG file."])))})),n.variable(t()).define(["DOM","serialize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as SVG")})),n.variable(t("serialize")).define("serialize",["NodeFilter"],(function(e){var t="http://www.w3.org/2000/xmlns/";return function(n){n=n.cloneNode(!0);for(var a=window.location.href+"#",r=document.createTreeWalker(n,e.SHOW_ELEMENT);r.nextNode();){var i,o=Object(dt.a)(r.currentNode.attributes);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.value.includes(a)&&(l.value=l.value.replace(a,"#"))}}catch(s){o.e(s)}finally{o.f()}}n.setAttributeNS(t,"xmlns","http://www.w3.org/2000/svg"),n.setAttributeNS(t,"xmlns:xlink","http://www.w3.org/1999/xlink");var u=(new window.XMLSerializer).serializeToString(n);return new Blob([u],{type:"image/svg+xml"})}})),n.variable(t()).define(["md"],(function(e){return e(wi||(wi=Object(xe.a)(["Alternatively, you can render the SVG to a canvas to generate a PNG."])))})),n.variable(t()).define(["DOM","rasterize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as PNG")})),n.variable(t("rasterize")).define("rasterize",["DOM","serialize"],(function(e,t){return function(n){var a,r,i=new Promise((function(e,t){return a=e,r=t})),o=new Image;return o.onerror=r,o.onload=function(){var t=n.getBoundingClientRect(),r=e.context2d(t.width,t.height);r.drawImage(o,0,0,t.width,t.height),r.canvas.toBlob(a)},o.src=URL.createObjectURL(t(n)),i}})),n.variable(t()).define(["md"],(function(e){return e(yi||(yi=Object(xe.a)(['To use this in your own notebook, import from this notebook:\n\n```js\nimport {rasterize} from "@mbostock/saving-svg"\n```\n\nHappy downloading!'],['To use this in your own notebook, import from this notebook:\n\n\\`\\`\\`js\nimport {rasterize} from "@mbostock/saving-svg"\n\\`\\`\\`\n\nHappy downloading!'])))})),n}function Yi(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(xi||(xi=Object(xe.a)(["\n# Embedding Fonts Into An SVG\n\nThis notebook demonstrates how to embed fonts (or other external resources) into an SVG.  \nNote that this example uses a TrueType font to maximize compatibility. If you only want to rasterize the SVG inside the browser then WOFF/WOFF 2.0 will work just as well.\n"])))})),n.variable(t("svg_embed")).define("svg_embed",["svg","toDataURL"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=ji||(ji=Object(xe.a)(["<svg width=300 height=200 xmlns=\"http://www.w3.org/2000/svg\">\n  <style>\n    @font-face {\n      font-family: 'Pacifico';\n      font-style: normal;\n      font-weight: 400;\n      src: url(",") format('woff'), url(",") format('truetype');\n    }\n    rect { fill: lightsalmon }\n    text {\n      font-size: 40px;\n      font-family: Pacifico;\n      fill: black;\n    }\n  </style>\n  <rect x=0 y=0 width=300 height=200 />\n  <text x=35 y=100>Well, hello!</text>\n</svg>\n"])),e.next=4,n("https://fonts.gstatic.com/s/pacifico/v12/FwZY7-Qmy14u9lezJ-6H6M-Bp0u-.woff");case 4:return e.t2=e.sent,e.next=7,n("https://rawcdn.githack.com/google/fonts/e9c0bd/ofl/pacifico/Pacifico-Regular.ttf");case 7:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t()).define(["html","DOM","serialize","svg_embed","rasterize"],(function(e,t,n,a,r){return e(ki||(ki=Object(xe.a)(["\n  ","\n  ","\n"])),t.download(n(a),"image.svg","Download as SVG"),t.download(r(a),"image.png","Download as PNG"))})),n.variable(t()).define(["md"],(function(e){return e(Oi||(Oi=Object(xe.a)(["\n---\n## Compatibility\n\nIf you plan to edit the downloaded SVG be aware that many applications do not support <code>@font-face</code> declarations (some may not even support CSS at all). When in doubt use a [web based SVG editor](https://mediatemple.net/blog/tips/browser-based-svg-editors/).\n"])))})),n.variable(t()).define(["md"],(function(e){return e(Si||(Si=Object(xe.a)(["---"])))})),n.variable(t("toDataURL")).define("toDataURL",(function(){return function(){var e=Object(ye.a)(we.a.mark((function e(t){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ye.a)(we.a.mark((function e(n,a){var r,i,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=5;break}return e.abrupt("return",a("Error: ".concat(r.status," ").concat(r.statusText)));case 5:return e.next=7,r.blob();case 7:i=e.sent,(o=new FileReader).readAsDataURL(i),o.onloadend=function(){return n(o.result)};case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));var a=e.module(Hi);return n.import("serialize",a),n.import("rasterize",a),n}function Xi(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(Ai||(Ai=Object(xe.a)(["# Version Pinning for Notebooks\nObservable supports version pinning by appending the version number to the notebook name or path.\n\nThese functions make it easier to look up the most recent version of notebooks, and to use pinned versions in your own documentation. Example:"])))})),n.variable(t()).define(["md","getCurrentPinnedName"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Ci||(Ci=Object(xe.a)(["```js\nimport {getCurrentPinnedName} from '","'\n```"],["\\`\\`\\`js\nimport {getCurrentPinnedName} from '","'\n\\`\\`\\`"])),e.next=4,n();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t()).define(["md","dataTable","getCurrentLocalPath","getCurrentPath","getCurrentName","getCurrentPinnedName","getCurrentMetadata","getCurrentComparePath"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r,i,o,l,u){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Mi||(Mi=Object(xe.a)(["---\n## Current Notebook\nFunctions that can be used to obtain information about the currently viewed notebook. Metadata and the pinned name will be available once you have shared or published your notebook. Reload the page after publishing to see the updated version number.\n\n","\n\n"])),e.t2=n,e.t3=["getCurrentLocalPath",a()],e.t4=["getCurrentPath",r()],e.t5=["getCurrentName",i()],e.next=8,o();case 8:return e.t6=e.sent,e.t7=["getCurrentPinnedName",e.t6],e.next=12,l();case 12:return e.t8=e.sent,e.t9=["getCurrentMetadata",e.t8],e.next=16,u(299);case 16:return e.t10=e.sent,e.t11=["getCurrentComparePath",e.t10],e.t12=[e.t3,e.t4,e.t5,e.t7,e.t9,e.t11],e.t13=(0,e.t2)(e.t12),e.abrupt("return",(0,e.t0)(e.t1,e.t13));case 21:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,l,u){return e.apply(this,arguments)}}()),n.variable(t("getCurrentLocalPath")).define("getCurrentLocalPath",["html"],(function(e){return function(){return e(Pi||(Pi=Object(xe.a)(['<a href="#">']))).pathname}})),n.variable(t("getCurrentPath")).define("getCurrentPath",["formatPath","getCurrentName"],(function(e,t){return function(){return e(t())}})),n.variable(t("getCurrentName")).define("getCurrentName",["getCurrentLocalPath"],(function(e){return function(){return e().replace(/^\/(d\/)?/,"")}})),n.variable(t("getCurrentPinnedName")).define("getCurrentPinnedName",["getCurrentMetadata","formatName","getCurrentName"],(function(e,t,n){return function(){var a=Object(ye.a)(we.a.mark((function a(){var r;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:if(!(r=a.sent)||!r.version){a.next=5;break}return a.abrupt("return",t(n(),r.version));case 5:return a.abrupt("return",null);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t("getCurrentMetadata")).define("getCurrentMetadata",["getMetadata","getCurrentName"],(function(e,t){var n;return function(){var a=Object(ye.a)(we.a.mark((function a(){var r,i=arguments;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=i.length>0&&void 0!==i[0]&&i[0],void 0!==n&&!r){a.next=5;break}return a.next=4,e(t());case 4:n=a.sent;case 5:return a.abrupt("return",n);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t("getCurrentComparePath")).define("getCurrentComparePath",["getMetadata","getCurrentName","formatComparePath"],(function(e,t,n){return function(){var a=Object(ye.a)(we.a.mark((function a(){var r,i,o,l=arguments;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:null,i=l.length>1&&void 0!==l[1]?l[1]:null,a.next=4,e(t());case 4:if(!(o=a.sent)){a.next=7;break}return a.abrupt("return",n(o.id,r,o.id,i));case 7:return a.abrupt("return",null);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t()).define(["md"],(function(e){return e(Di||(Di=Object(xe.a)(["---\n## Other Notebooks\nFunctions for retrieving information about any notebooks.\n"])))})),n.variable(t("viewof preview_name")).define("viewof preview_name",["html","Event"],(function(e,t){var n=e(Ti||(Ti=Object(xe.a)(['<input type="button" value="Submit">']))),a=e(zi||(zi=Object(xe.a)(['<input type="text" value="@jashkenas/inputs">']))),r=e(Ni||(Ni=Object(xe.a)(["<form>"," ",""])),a,n);return a.oninput=function(e){return e.stopPropagation()},n.onclick=function(){r.value=a.value,r.dispatchEvent(new t("input"))},r.value=a.value,r})),n.variable(t("preview_name")).define("preview_name",["Generators","viewof preview_name"],(function(e,t){return e.input(t)})),n.variable(t()).define(["dataTable","formatLocalPath","preview_name","formatPath","formatSourcePath","getPinnedName","getPinnedPath","getSource","getMetadata"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r,i,o,l,u,s){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=["formatLocalPath",n(a)],e.t2=["formatPath",r(a)],e.t3=["formatSourcePath",i(a)],e.next=6,o(a);case 6:return e.t4=e.sent,e.t5=["getPinnedName",e.t4],e.next=10,l(a);case 10:return e.t6=e.sent,e.t7=["getPinnedPath",e.t6],e.next=14,u(a);case 14:return e.t8=e.sent,e.t9=["getSource",e.t8],e.next=18,s(a);case 18:return e.t10=e.sent,e.t11=["getMetadata",e.t10],e.t12=[e.t1,e.t2,e.t3,e.t5,e.t7,e.t9,e.t11],e.abrupt("return",(0,e.t0)(e.t12));case 22:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,l,u,s){return e.apply(this,arguments)}}()),n.variable(t("formatLocalPath")).define("formatLocalPath",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"/"+(e.match(/^@/)?e:"d/"+e)+(t?"@"+t:"")}})),n.variable(t("formatPath")).define("formatPath",["domain","formatLocalPath"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"https://".concat(e).concat(t(n,a))}})),n.variable(t("formatSourcePath")).define("formatSourcePath",["apiDomain","formatLocalPath"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"https://".concat(e).concat(t(n,a),".js")}})),n.variable(t("formatName")).define("formatName",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e+(t?"@"+t:"")}})),n.variable(t("formatId")).define("formatId",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e+(t?"@"+t:"")}})),n.variable(t("formatComparePath")).define("formatComparePath",["domain","formatId"],(function(e,t){return function(n,a,r,i){return"https://".concat(e,"/compare/").concat(t(n,a),"...").concat(t(r,i))}})),n.variable(t("getPinnedName")).define("getPinnedName",["getMetadata"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:if(!(a=t.sent)||!a.version){t.next=5;break}return t.abrupt("return",n+"@"+a.version);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t("getPinnedPath")).define("getPinnedPath",["getMetadata","formatPath"],(function(e,t){return function(){var n=Object(ye.a)(we.a.mark((function n(a){var r;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(a);case 2:if(!(r=n.sent)||!r.version){n.next=5;break}return n.abrupt("return",t(a,r.version));case 5:return n.abrupt("return",null);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),n.variable(t("getComparePath")).define("getComparePath",["getMetadata","formatComparePath"],(function(e,t){return function(){var n=Object(ye.a)(we.a.mark((function n(a){var r,i,o,l=arguments;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:null,i=l.length>2&&void 0!==l[2]?l[2]:null,n.next=4,e(a);case 4:if(!(o=n.sent)){n.next=7;break}return n.abrupt("return",t(o.id,r,o.id,i));case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),n.variable(t("getSource")).define("getSource",["formatSourcePath"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a,r,i,o=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:null,r=e(n,a),t.prev=2,t.next=5,fetch(r,{cache:a?"default":"no-cache"});case 5:return i=t.sent,t.next=8,i.text();case 8:return t.abrupt("return",t.sent);case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t("getMetadata")).define("getMetadata",["getSource"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a,r,i,o,l,u=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:null,r={URL:"url",Title:"title",Author:"author",Version:"version","Runtime version":"runtimeVersion"},t.next=4,e(n,a);case 4:if(i=t.sent){t.next=7;break}return t.abrupt("return",null);case 7:if(o=i.match(/^(?:\/\/ .+?\n)+/),l=i.match(/^\s+?id:\s+?"([^@"]+)/m),o&&l){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",o[0].split(/\n/).reduce((function(e,t){var n=t.match(/^\/\/ ([^:]+?):\s+?(.+?)$/);return n&&r.hasOwnProperty(n[1])&&(e[r[n[1]]]=n[2]),e}),{id:l[1]}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t()).define(["md"],(function(e){return e(Fi||(Fi=Object(xe.a)(["---"])))})),n.variable(t("domain")).define("domain",(function(){return"observablehq.com"})),n.variable(t("apiDomain")).define("apiDomain",(function(){return"api.observablehq.com"})),n.variable(t("dataTable")).define("dataTable",["html"],(function(e){return function(t){var n="padding:.5em;vertical-align:top",a=t.map((function(t){var a=Object(o.a)(t,2),r=a[0],i=a[1],l=e(Gi||(Gi=Object(xe.a)(['<div style="max-height:10em;overflow:auto;word-break:break-word">'])));return l.textContent=JSON.stringify(i),e(Li||(Li=Object(xe.a)(['<tr><th style="','">','</th><td style="',';font-family:monospace">',"</td>"])),n,r,n,l)}));return e(Ri||(Ri=Object(xe.a)(["<table>",""])),a)}})),n}function Ji(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(Bi||(Bi=Object(xe.a)(["\n# Embedding Fonts Into An SVG\n\nHelper function written on top of [@mootari/embedding-fonts-into-an-svg](https://observablehq.com/@mootari/embedding-fonts-into-an-svg) with Google Fonts in mind:\n\n## Signature\n\n```javascript\nasync function addWebFont(selection, fontName, fontURL, fontType = 'woff2')\n```\n\n## Example:\n\n```javascript\n// From https://fonts.googleapis.com/css?family=Pacifico, pick the url under /* latin */\nselection.call(addWebFont, 'Pacifico', 'https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2');\n```\n"],["\n# Embedding Fonts Into An SVG\n\nHelper function written on top of [@mootari/embedding-fonts-into-an-svg](https://observablehq.com/@mootari/embedding-fonts-into-an-svg) with Google Fonts in mind:\n\n## Signature\n\n\\`\\`\\`javascript\nasync function addWebFont(selection, fontName, fontURL, fontType = 'woff2')\n\\`\\`\\`\n\n## Example:\n\n\\`\\`\\`javascript\n// From https://fonts.googleapis.com/css?family=Pacifico, pick the url under /* latin */\nselection.call(addWebFont, 'Pacifico', 'https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2');\n\\`\\`\\`\n"])))})),n.variable(t("addWebFont")).define("addWebFont",["toDataURL"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n,a,r){var i,o,l=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:"woff2",t.next=3,e(r);case 3:return o=t.sent,t.abrupt("return",n.append("style").text("\n    @font-face {\n      font-family: '".concat(a,"';\n      src: url(").concat(o,") format('").concat(i,"');\n    }\n  ")));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()})),n.variable(t()).define(["DOM","rasterize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as PNG")})),n.variable(t("chart")).define("chart",["d3","DOM","addWebFont"],(function(e,t,n){var a=e.select(t.svg(600,400));return a.append("text").call(n,"Pacifico","https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2").attr("style","font-size: 175px; font-family: 'Pacifico';").text("Pacifico").attr("x",300).attr("y",200).attr("dominant-baseline","middle").attr("text-anchor","middle"),a.node()})),n.variable(t()).define(["md"],(function(e){return e(_i||(_i=Object(xe.a)(["\n## Setup\n"])))})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("https://d3js.org/d3.v5.min.js")}));var a=e.module(Hi);n.import("rasterize",a);var r=e.module(Yi);n.import("toDataURL",r);var i=e.module(Xi);return n.import("getMetadata",i),n.variable(t()).define(["md"],(function(e){return e(Ii||(Ii=Object(xe.a)(['\n## "Backup"\n'])))})),n.variable(t("latestVersion")).define("latestVersion",["getMetadata"],function(){var e=Object(ye.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("@mootari/embedding-fonts-into-an-svg");case 2:return n=e.sent,e.abrupt("return",+n.version);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.variable(t()).define(["md"],(function(e){return e(Ei||(Ei=Object(xe.a)(["\n### `toDataURL` source as of **@171**\n\n```javascript\nasync function toDataURL(url) {\n  return new Promise(async(resolve, reject) => {\n    const res = await fetch(url);\n    if(!res.ok) return reject(`Error: ${res.status} ${res.statusText}`);\n    const blob = await res.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => resolve(reader.result);\n  });\n}\n```\n"],["\n### \\`toDataURL\\` source as of **@171**\n\n\\`\\`\\`javascript\nasync function toDataURL(url) {\n  return new Promise(async(resolve, reject) => {\n    const res = await fetch(url);\n    if(!res.ok) return reject(\\`Error: \\${res.status} \\${res.statusText}\\`);\n    const blob = await res.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => resolve(reader.result);\n  });\n}\n\\`\\`\\`\n"])))})),n}function Ki(e,t){var a=e.module(),r=new Map([["family_tree@1.json",n(115).default]]);a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md"],(function(e){return e(qi||(qi=Object(xe.a)(["# Crypto Family Tree"])))})),a.variable(t("chart")).define("chart",["tree","data","d3","width","addWebFont"],(function(e,t,n,a,r){var i=e(t),o=1/0,l=-o;i.each((function(e){e.x>l&&(l=e.x),e.x<o&&(o=e.x)}));var u=n.create("svg").attr("viewBox",[-150,0,a,l-o+2*i.dx]).style("background-color","white").call(r,"Acumin Pro","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-RPro.otf","opentype"),s=u.append("g").attr("font-family","Acumin Pro").attr("font-size",25).attr("transform","translate(".concat(i.dy/3,",").concat(i.dx-o,")")),c=(s.append("g").attr("fill","none").attr("stroke","#608AD8").attr("stroke-width",1.5).selectAll("path").data(i.links()).join("path").attr("d",n.linkHorizontal().x((function(e){return e.y})).y((function(e){return e.x}))),s.append("g").attr("stroke-linejoin","round").attr("stroke-width",3).selectAll("g").data(i.descendants()).join("g").attr("transform",(function(e){return"translate(".concat(e.y,",").concat(e.x,")")})));return c.append("circle").attr("fill",(function(e){return e.children?"#555":"#999"})).attr("r",2.5),c.append("text").attr("dy","0.31em").attr("x",(function(e){return e.children?-6:6})).attr("text-anchor",(function(e){return e.children?"end":"start"})).text((function(e){return e.data.name})).clone(!0).lower().attr("stroke","white"),u.node()})),a.variable(t("data")).define("data",["FileAttachment"],(function(e){return e("family_tree@1.json").json()})),a.variable(t("tree")).define("tree",["d3","width"],(function(e,t){return function(n){var a=e.hierarchy(n);return a.dx=50,a.dy=t/(a.height+2),e.tree().nodeSize([a.dx,a.dy])(a)}})),a.variable(t("width")).define("width",(function(){return 1015}));var i=e.module(Ji);return a.import("addWebFont",i),a.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),a}var Qi,Zi,$i,eo,to,no,ao,ro,io,oo,lo,uo,so,co,fo,po,mo,vo,bo,ho,go,wo,yo,xo,jo,ko,Oo,So,Ao,Co,Mo,Po,Do,To,zo,No,Fo,Go,Lo,Ro,Bo,_o,Io,Eo,qo,Vo,Uo,Wo,Ho,Yo,Xo,Jo,Ko,Qo,Zo,$o,el,tl,nl,al,rl,il,ol,ll,ul,sl,cl,dl,fl,pl,ml,vl,bl,hl,gl,wl,yl,xl,jl,kl,Ol,Sl,Al,Cl=function(){var e=Object(a.useRef)(),t=Object(a.useState)(),n=Object(o.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){var t=new he.b,n=t.module(Ki,(function(t){if("chart"===t)return new he.a(e.current)}));return i(n),function(){i(void 0),t.dispose()}}),[]),Object(a.useEffect)((function(){void 0!==r&&r.redefine("width",1015)}),[1015,r]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{ref:e,className:"chart"})})};function Ml(e,t){var a=e.module(),r=new Map([["capstan.gif",n(116).default]]);return a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md","FileAttachment"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Qi||(Qi=Object(xe.a)(['# Inputs\n<div style="margin-top: -3px; font-size: 1.05em;">*a.k.a \u201cThe Grand Native Inputs Bazaar\u201d*</div>\n\n<div style="max-width: 500px; margin: 30px 0; padding: 15px 30px; background-color: #ffffee; font: 700 18px/24px sans-serif;">\u2728 Rejoice! Observable now has <a href="https://observablehq.com/@observablehq/inputs">an official inputs library</a>. If it contains the input you need, you should probably be using that instead of this notebook. \u2728</div>\n\n<img width="350px" src="','" />\n\nA collection of assorted fancy inputs, odds and ends \u2014 with which to produce values to feed your burgeoning sketches. All inputs support optional **titles** and **descriptions**; where it makes sense, inputs also support a **submit** option, which allows you to prevent the value from updating until the input has been finalized.\n\nWares we have on offer: \n  * [`slider`](#sliderDemo)\n  * [`button`](#buttonDemo)\n  * [`select`](#selectDemo)\n  * [`autoSelect`](#autoSelectDemo)\n  * [`color`](#colorDemo)\n  * [`coordinates`](#coordinatesDemo)\n  * [`worldMapCoordinates`](#worldMapCoordinatesDemo)\n  * [`usaMapCoordinates`](#usaMapCoordinatesDemo)\n  * [`date`](#dateDemo)\n  * [`time`](#timeDemo)\n  * [`file`](#fileDemo)\n  * [`text`](#textDemo)\n  * [`textarea`](#textareaDemo)\n  * [`radio`](#radioDemo)\n  * [`checkbox`](#checkboxDemo)\n  * [`number`](#numberDemo)\n  * [`password`](#passwordDemo)'],['# Inputs\n<div style="margin-top: -3px; font-size: 1.05em;">*a.k.a \u201cThe Grand Native Inputs Bazaar\u201d*</div>\n\n<div style="max-width: 500px; margin: 30px 0; padding: 15px 30px; background-color: #ffffee; font: 700 18px/24px sans-serif;">\u2728 Rejoice! Observable now has <a href="https://observablehq.com/@observablehq/inputs">an official inputs library</a>. If it contains the input you need, you should probably be using that instead of this notebook. \u2728</div>\n\n<img width="350px" src="','" />\n\nA collection of assorted fancy inputs, odds and ends \u2014 with which to produce values to feed your burgeoning sketches. All inputs support optional **titles** and **descriptions**; where it makes sense, inputs also support a **submit** option, which allows you to prevent the value from updating until the input has been finalized.\n\nWares we have on offer: \n  * [\\`slider\\`](#sliderDemo)\n  * [\\`button\\`](#buttonDemo)\n  * [\\`select\\`](#selectDemo)\n  * [\\`autoSelect\\`](#autoSelectDemo)\n  * [\\`color\\`](#colorDemo)\n  * [\\`coordinates\\`](#coordinatesDemo)\n  * [\\`worldMapCoordinates\\`](#worldMapCoordinatesDemo)\n  * [\\`usaMapCoordinates\\`](#usaMapCoordinatesDemo)\n  * [\\`date\\`](#dateDemo)\n  * [\\`time\\`](#timeDemo)\n  * [\\`file\\`](#fileDemo)\n  * [\\`text\\`](#textDemo)\n  * [\\`textarea\\`](#textareaDemo)\n  * [\\`radio\\`](#radioDemo)\n  * [\\`checkbox\\`](#checkboxDemo)\n  * [\\`number\\`](#numberDemo)\n  * [\\`password\\`](#passwordDemo)'])),e.next=4,n("capstan.gif").url();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.variable(t()).define(["md"],(function(e){return e(Zi||(Zi=Object(xe.a)(["| <h3>Friends & Family:</h3>  |   |\n|---|---|\n| **[@mbostock/form-input](/@mbostock/form-input)**  | Fully custom forms, combining inputs into a single reactive cell. |\n| **[@mbostock/scrubber](/@mbostock/scrubber)** | A slider that automatically plays through its range, useful for driving and scrubbing through animations. |\n| **[@bumbeishvili/input-groups](/@bumbeishvili/input-groups)** | A wrapper function that can put many of these inputs into a more compact grid layout. | \n| **[@zechasault/color-schemes-and-interpolators-picker](/@zechasault/color-schemes-and-interpolators-picker)**  | Color scheme and interpolation pickers. |\n| **[@awhitty/fips-county-code-brush](/@awhitty/fips-county-code-brush)**  | A brushable map of the United States, allowing you to quickly select sets of counties to get their FIPS codes. |\n| **[@mootari/range-slider](https://observablehq.com/@mootari/range-slider)**  |  True range sliders, setting both a minimum and maximum value. |\n| **[@bumbeishvili/data-driven-range-sliders](/@bumbeishvili/data-driven-range-sliders)** | Data-driven range sliders, displaying a distribution histogram of the underlying data. |\n| **[@trebor/snapping-histogram-slider](/@trebor/snapping-histogram-slider)** | Another data-driven range slider option. |\n| **[@mootari\u2019s 2D Slider](https://observablehq.com/d/98bbb19bf9e859ee)** | Two dimensional sliders, exploring discrete points on a plane. |\n| **[@yurivish/ternary-slider](/@yurivish/ternary-slider)** | Nifty ternary plot inputs, describing the percentages of a whole composed of exactly three things. |\n| **[@rreusser/binary-input](/@rreusser/binary-input)** | Input numbers in binary, great for working with values where results vary with specific bit positions. |\n| **[@bartok32/diy-inputs](/@bartok32/diy-inputs)** | A fun tool for defining your own fancy and colorful inputs. |\n| **[@bobkerns/elements-input](/@bobkerns/elements-input)** | A periodic table of the elements input! You can construct molecules programmatically, or click on the table to create formulas. |\n| **[@fil/selectflat](/@fil/selectflat)** | A fast selector to explore a discrete parameter space. The value changes on mouseover, and sticks when you click. |\n| **[@oscar6echo/player](/@oscar6echo/player)** | A slider with buttons to play, pause, step, and change speed and direction \u2014 useful for animations. |\n| **[@harrislapiroff/list-input](/@harrislapiroff/list-input)** | A input for when you want more than one of something. |\n| **[@nhogs/easing-graphs-editor](/@nhogs/easing-graphs-editor)** | A curve input to display and edit values of animated properties over time, such as easing curves and animation curves. |\n| **[@j-f1/checkbox](/@j-f1/checkbox)** | A simple checkbox input that provides a boolean value. |\n\n<br>*If you have any improvements for the bazaar, [please make your change in a fork and send it to me as a suggestion.](https://observablehq.com/@observablehq/suggestions-and-comments)*"])))})),a.variable(t("sliderDemo")).define("sliderDemo",["md"],(function(e){return e($i||($i=Object(xe.a)(['---\n## Sliders\n\n~~~js\nimport {slider} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof a")).define("viewof a",["slider"],(function(e){return e()})),a.variable(t("a")).define("a",["Generators","viewof a"],(function(e,t){return e.input(t)})),a.variable(t("viewof a1")).define("viewof a1",["slider"],(function(e){return e({min:0,max:1,step:.01,format:".0%",description:"Zero to one, formatted as a percentage"})})),a.variable(t("a1")).define("a1",["Generators","viewof a1"],(function(e,t){return e.input(t)})),a.variable(t("viewof a1_1")).define("viewof a1_1",["slider"],(function(e){return e({min:0,max:1,step:.01,format:function(e){return"".concat(Math.round(100*e)," per cent")},description:"Zero to one, formatted with a custom function"})})),a.variable(t("a1_1")).define("a1_1",["Generators","viewof a1_1"],(function(e,t){return e.input(t)})),a.variable(t("viewof a2")).define("viewof a2",["slider"],(function(e){return e({min:0,max:1e9,step:1e3,value:325e4,format:",",description:"Zero to one billion, in steps of one thousand, formatted as a (US) number"})})),a.variable(t("a2")).define("a2",["Generators","viewof a2"],(function(e,t){return e.input(t)})),a.variable(t("viewof a3")).define("viewof a3",["slider"],(function(e){return e({min:0,max:100,step:1,value:10,title:"Integers",description:"Integers from zero through 100"})})),a.variable(t("a3")).define("a3",["Generators","viewof a3"],(function(e,t){return e.input(t)})),a.variable(t("viewof a4")).define("viewof a4",["slider"],(function(e){return e({min:.9,max:1.1,precision:3,description:"A high precision slider example"})})),a.variable(t("a4")).define("a4",["Generators","viewof a4"],(function(e,t){return e.input(t)})),a.variable(t("viewof a5")).define("viewof a5",["slider"],(function(e){return e({min:.9,max:1.1,precision:3,submit:!0,description:"The same as a4, but only changes value on submit"})})),a.variable(t("a5")).define("a5",["Generators","viewof a5"],(function(e,t){return e.input(t)})),a.variable(t()).define(["md"],(function(e){return e(eo||(eo=Object(xe.a)(["More [fancy slider techniques](https://observablehq.com/@mootari/prime-numbers-slider)."])))})),a.variable(t("slider")).define("slider",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"===typeof t?{value:t}:t,a=n.min,r=void 0===a?0:a,i=n.max,o=void 0===i?1:i,l=n.value,u=void 0===l?(o+r)/2:l,s=n.step,c=void 0===s?"any":s,d=n.precision,f=void 0===d?2:d,p=n.title,m=n.description,v=n.disabled,b=n.getValue,h=n.format,g=n.display,w=n.submit;return f=Math.pow(10,f),b||(b=function(e){return Math.round(e.valueAsNumber*f)/f}),e({type:"range",title:p,description:m,submit:w,format:h,display:g,attributes:{min:r,max:o,step:c,disabled:v,value:u},getValue:b})}})),a.variable(t("buttonDemo")).define("buttonDemo",["md"],(function(e){return e(to||(to=Object(xe.a)(['---\n## Buttons\n\n~~~js\nimport {button} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof b")).define("viewof b",["button"],(function(e){return e()})),a.variable(t("b")).define("b",["Generators","viewof b"],(function(e,t){return e.input(t)})),a.variable(t("viewof b1")).define("viewof b1",["button"],(function(e){return e({value:"Click me",description:"We use a reference to the button below to record the time you pressed it."})})),a.variable(t("b1")).define("b1",["Generators","viewof b1"],(function(e,t){return e.input(t)})),a.variable(t("button")).define("button",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=void 0===a?"Ok":a,i=n.title,o=n.description,l=n.disabled,u=e({type:"button",title:i,description:o,attributes:{disabled:l,value:r}});return u.output.remove(),u}})),a.variable(t("selectDemo")).define("selectDemo",["md"],(function(e){return e(no||(no=Object(xe.a)(['---\n## Dropdown Menus and Multiselects\n\n~~~js\nimport {select} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof dd")).define("viewof dd",["select"],(function(e){return e(["Spring","Summer","Fall","Winter"])})),a.variable(t("dd")).define("dd",["Generators","viewof dd"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd"],(function(e){return e})),a.variable(t("viewof dd1")).define("viewof dd1",["select"],(function(e){return e({title:"Stooges",description:"Please pick your favorite stooge.",options:["Curly","Larry","Moe","Shemp"],value:"Moe"})})),a.variable(t("dd1")).define("dd1",["Generators","viewof dd1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd1"],(function(e){return e})),a.variable(t("viewof dd2")).define("viewof dd2",["select"],(function(e){return e({description:"As a child, which vegetables did you refuse to eat?",options:["Spinach","Broccoli","Brussels Sprouts","Cauliflower","Kale","Turnips","Green Beans","Asparagus"],multiple:!0})})),a.variable(t("dd2")).define("dd2",["Generators","viewof dd2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd2"],(function(e){return e})),a.variable(t("viewof dd3")).define("viewof dd3",["select"],(function(e){var t=e({title:"How are you feeling today?",options:[{label:"\ud83e\udd37",value:"shrug"},{label:"\ud83d\ude02",value:"tears-of-joy"},{label:"\ud83d\ude0d",value:"loving-it"},{label:"\ud83e\udd14",value:"hmmm"},{label:"\ud83d\ude31",value:"yikes",disabled:!0},{label:"\ud83d\ude08",value:"mischievous"},{label:"\ud83d\udca9",value:"poo"}],value:"hmmm"});return t.input.style.fontSize="30px",t.input.style.marginTop="8px",t})),a.variable(t("dd3")).define("dd3",["Generators","viewof dd3"],(function(e,t){return e.input(t)})),a.variable(t()).define(["dd3"],(function(e){return e})),a.variable(t("select")).define("select",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.disabled,u=a.submit,s=a.multiple,c=a.size,d=a.options;d=d.map((function(e){return"object"===typeof e?e:{value:e,label:e}}));var f=e({type:"select",title:i,description:o,submit:u,attributes:{disabled:l},getValue:function(e){var t=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return e.value}));return s?t:t[0]},form:t(ao||(ao=Object(xe.a)(['\n      <form>\n        <select name="input" ',">\n          ","\n        </select>\n      </form>\n    "])),s?'multiple size="'.concat(c||d.length,'"'):"",d.map((function(e){var n=e.value,a=e.label,i=e.disabled;return Object.assign(t(ro||(ro=Object(xe.a)(["<option>"]))),{value:n,selected:Array.isArray(r)?r.includes(n):r===n,disabled:i||!1,textContent:a})})))});return f.output.remove(),f}})),a.variable(t("autoSelectDemo")).define("autoSelectDemo",["md"],(function(e){return e(io||(io=Object(xe.a)(['---\n## Autoselects\n*A variant of an option menu, using an autocompleting text input, via HTML\u2019s datalist element.* \n\n~~~js\nimport {autoSelect} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof as")).define("viewof as",["autoSelect","usa"],(function(e,t){return e({options:t.objects.states.geometries.map((function(e){return e.properties.name})),placeholder:"Search for a US state . . ."})})),a.variable(t("as")).define("as",["Generators","viewof as"],(function(e,t){return e.input(t)})),a.variable(t()).define(["as"],(function(e){return e})),a.variable(t("autoSelect")).define("autoSelect",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.disabled,u=(a.autocomplete,a.placeholder),s=(a.size,a.options),c=a.list,d=void 0===c?"options":c,f=new Set(s),p=e({type:"text",title:i,description:o,attributes:{disabled:l},action:function(e){e.value=e.input.value=r||"",e.onsubmit=function(e){return e.preventDefault()},e.input.oninput=function(t){t.stopPropagation(),e.value=e.input.value,e.value&&!f.has(e.value)||e.dispatchEvent(new CustomEvent("input"))}},form:t(oo||(oo=Object(xe.a)(['\n      <form>\n         <input name="input" type="text" autocomplete="off" \n          placeholder="','" style="font-size: 1em;" list=','>\n          <datalist id="','">\n              ',"\n          </datalist>\n      </form>\n      "])),u||"",d,d,s.map((function(e){return Object.assign(t(lo||(lo=Object(xe.a)(["<option>"]))),{value:e})})))});return p.output.remove(),p}})),a.variable(t("colorDemo")).define("colorDemo",["md"],(function(e){return e(uo||(uo=Object(xe.a)(['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * `"#bada55"` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'],['---\n## Color Pickers\n\n*value: a hexadecimal string, e.g. * \\`"#bada55"\\` \n\n~~~js\nimport {color} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof c")).define("viewof c",["color"],(function(e){return e()})),a.variable(t("c")).define("c",["Generators","viewof c"],(function(e,t){return e.input(t)})),a.variable(t("viewof c1")).define("viewof c1",["color"],(function(e){return e({value:"#0000ff",title:"Background Color",description:"This color picker starts out blue"})})),a.variable(t("c1")).define("c1",["Generators","viewof c1"],(function(e,t){return e.input(t)})),a.variable(t("color")).define("color",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=void 0===a?"#000000":a,i=n.title,o=n.description,l=n.disabled,u=n.submit,s=n.display,c=e({type:"color",title:i,description:o,submit:u,display:s,attributes:{disabled:l,value:r}});return c.input.value="",c.input.value=r,(i||o)&&(c.input.style.margin="5px 0"),c}})),a.variable(t("coordinatesDemo")).define("coordinatesDemo",["md"],(function(e){return e(so||(so=Object(xe.a)([' ---\n## Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {coordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof coords1")).define("viewof coords1",["coordinates"],(function(e){return e()})),a.variable(t("coords1")).define("coords1",["Generators","viewof coords1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["coords1"],(function(e){return e})),a.variable(t("viewof coords2")).define("viewof coords2",["coordinates"],(function(e){return e({title:"Hometown",description:"Enter the coordinates of where you were born",value:[-122.27,37.87],submit:!0})})),a.variable(t("coords2")).define("coords2",["Generators","viewof coords2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["coords2"],(function(e){return e})),a.variable(t("coordinates")).define("coordinates",["html","input"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{value:n}:n,r=a.value,i=void 0===r?[]:r,l=a.title,u=a.description,s=a.submit,c=Object(o.a)(i,2),d=c[0],f=c[1];d=null!=d?d:"",f=null!=f?f:"";var p=e(co||(co=Object(xe.a)(['<input name="input" type="number" autocomplete="off" min="-180" max="180" style="width: 80px;" step="any" value="','" />'])),d),m=e(fo||(fo=Object(xe.a)(['<input name="input" type="number" autocomplete="off" min="-90" max="90" style="width: 80px;" step="any" value="','" />'])),f),v=t({type:"coordinates",title:l,description:u,submit:s,getValue:function(){var e=p.valueAsNumber,t=m.valueAsNumber;return[isNaN(e)?null:e,isNaN(t)?null:t]},form:e(po||(po=Object(xe.a)(['\n      <form>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 6px 0 3px;">\n          <span style="display: inline-block; width: 70px;">Longitude:</span>\n          ','\n        </label>\n        <br>\n        <label style="display: inline-block; font: 600 0.8rem sans-serif; margin: 0 0 6px;">\n          <span style="display: inline-block; width: 70px;">Latitude:</span>\n          ',"\n        </label>\n      </form>\n    "])),p,m)});return v.output.remove(),v}})),a.variable(t("worldMapCoordinatesDemo")).define("worldMapCoordinatesDemo",["md"],(function(e){return e(mo||(mo=Object(xe.a)([' ---\n## World Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## World Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {worldMapCoordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof worldMap1")).define("viewof worldMap1",["worldMapCoordinates"],(function(e){return e([-122.27,37.87])})),a.variable(t("worldMap1")).define("worldMap1",["Generators","viewof worldMap1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["worldMap1"],(function(e){return e})),a.variable(t("worldMapCoordinates")).define("worldMapCoordinates",["html","DOM","d3geo","graticule","land","countries","input"],(function(e,t,n,a,r,i,l){return function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=Array.isArray(u)?{value:u}:u,c=s.value,d=void 0===c?[]:c,f=s.title,p=s.description,m=s.width,v=void 0===m?400:m,b=Math.round(.525*v),h=Object(o.a)(d,2),g=h[0],w=h[1];g=null!=g?g:null,w=null!=w?w:null;var y=e(vo||(vo=Object(xe.a)(['<form style="width: ','px;"></form>'])),v),x=t.context2d(v,b),j=x.canvas;j.style.margin="10px 0 3px";var k=n.geoNaturalEarth1().precision(.1).fitSize([v,b],{type:"Sphere"}),O=n.geoPath(k,x).pointRadius(2.5);function S(){if(x.fillStyle="#fff",x.fillRect(0,0,v,b),x.beginPath(),O(a),x.lineWidth=.35,x.strokeStyle="#ddd",x.stroke(),x.beginPath(),O(r),x.fillStyle="#f4f4f4",x.fill(),x.beginPath(),O(i),x.strokeStyle="#aaa",x.stroke(),null!=g&&null!=w){var e={type:"MultiPoint",coordinates:[[g,w]]};x.beginPath(),O(e),x.fillStyle="#f00",x.fill()}}y.append(j),j.onclick=function(e){var t=e.offsetX,n=e.offsetY,a=k.invert([t,n]);g=+a[0].toFixed(2),w=+a[1].toFixed(2),S(),j.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},S();var A=l({type:"worldMapCoordinates",title:f,description:p,display:function(t){return e(bo||(bo=Object(xe.a)(['<div style="width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-bottom: 5px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"])),v,null!=g?g.toFixed(2):"",null!=w?w.toFixed(2):"")},getValue:function(){return[null!=g?g:null,null!=w?w:null]},form:y});return A}})),a.variable(t("usaMapCoordinatesDemo")).define("usaMapCoordinatesDemo",["md"],(function(e){return e(ho||(ho=Object(xe.a)([' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of `[longitude, latitude]`, e.g. * `[-122.27, 37.87]` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'],[' ---\n## U.S.A. Map Coordinates\n\n*value: an array pair of \\`[longitude, latitude]\\`, e.g. * \\`[-122.27, 37.87]\\` \n\n~~~js\nimport {usaMapCoordinates} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof usaMap1")).define("viewof usaMap1",["usaMapCoordinates"],(function(e){return e([-122.27,37.87])})),a.variable(t("usaMap1")).define("usaMap1",["Generators","viewof usaMap1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["usaMap1"],(function(e){return e})),a.variable(t("viewof usaMap2")).define("viewof usaMap2",["usaMapCoordinates"],(function(e){return e({title:"A Mini Map",description:"Defaults to New York City",width:200,value:[-74,40.71]})})),a.variable(t("usaMap2")).define("usaMap2",["Generators","viewof usaMap2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["usaMap2"],(function(e){return e})),a.variable(t("usaMapCoordinates")).define("usaMapCoordinates",["html","DOM","d3geo","nation","states","input"],(function(e,t,n,a,r,i){return function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=Array.isArray(l)?{value:l}:l,s=u.value,c=void 0===s?[]:s,d=u.title,f=u.description,p=u.width,m=void 0===p?400:p,v=m/960,b=600*v,h=Object(o.a)(c,2),g=h[0],w=h[1];g=null!=g?g:null,w=null!=w?w:null;var y=e(go||(go=Object(xe.a)(['<form style="width: ','px;"></form>'])),m),x=t.context2d(m,b),j=x.canvas;j.style.margin="5px 0 20px";var k=n.geoAlbersUsa().scale(1280).translate([480,300]),O=n.geoPath().context(x).pointRadius(2.5/v);function S(){if(x.clearRect(0,0,m,b),x.save(),x.scale(v,v),x.lineWidth=.35/v,x.beginPath(),O(a),x.fillStyle="#f4f4f4",x.fill(),x.beginPath(),O(r),x.strokeStyle="#aaa",x.stroke(),null!=g&&null!=w){var e={type:"MultiPoint",coordinates:[k([g,w])]};x.beginPath(),O(e),x.fillStyle="#f00",x.fill()}x.restore()}y.append(j),j.onclick=function(e){var t=e.offsetX,n=e.offsetY,a=k.invert([t/v,n/v]);g=+a[0].toFixed(2),w=+a[1].toFixed(2),S(),j.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},S();var A=i({type:"worldMapCoordinates",title:d,description:f,display:function(t){return e(wo||(wo=Object(xe.a)(['<div style="position: absolute; width: ','px; white-space: nowrap; color: #444; text-align: center; font: 13px sans-serif; margin-top: -18px;">\n            <span style="color: #777;">Longitude:</span> ','\n            &nbsp; &nbsp; \n            <span style="color: #777;">Latitude:</span> '," \n          </div>"])),m,null!=g?g:"",null!=w?w:"")},getValue:function(){return[null!=g?g:null,null!=w?w:null]},form:y});return A}})),a.variable(t("dateDemo")).define("dateDemo",["md"],(function(e){return e(yo||(yo=Object(xe.a)([' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * `"2016-11-08"` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'],[' ---\n## Dates\n\n*value: a YYYY-MM-DD formatted string: * \\`"2016-11-08"\\` \n\n~~~js\nimport {date} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof d")).define("viewof d",["date"],(function(e){return e()})),a.variable(t("d")).define("d",["Generators","viewof d"],(function(e,t){return e.input(t)})),a.variable(t("viewof d1")).define("viewof d1",["date"],(function(e){return e({title:"2017",min:"2017-01-01",max:"2017-12-31",value:"2017-01-01",description:"Only dates within the 2017 calendar year are allowed"})})),a.variable(t("d1")).define("d1",["Generators","viewof d1"],(function(e,t){return e.input(t)})),a.variable(t("date")).define("date",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.min,r=n.max,i=n.value,o=n.title,l=n.description,u=n.disabled,s=n.display;return e({type:"date",title:o,description:l,display:s,attributes:{min:a,max:r,disabled:u,value:i}})}})),a.variable(t("timeDemo")).define("timeDemo",["md"],(function(e){return e(xo||(xo=Object(xe.a)([' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * `"09:30:45"`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'],[' ---\n## Times\n\n*value: a HH:MM:SS formatted string: * \\`"09:30:45"\\`\n<br>*(Time values are always in 24-hour format)*\n\n~~~js\nimport {time} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof t")).define("viewof t",["time"],(function(e){return e()})),a.variable(t("t")).define("t",["Generators","viewof t"],(function(e,t){return e.input(t)})),a.variable(t()).define(["t"],(function(e){return e})),a.variable(t("viewof t1")).define("viewof t1",["time"],(function(e){return e({title:"Afternoon",min:"12:00:00",max:"23:59:59",value:"13:00:00",step:1,description:"Only times after noon are allowed, and seconds are included"})})),a.variable(t("t1")).define("t1",["Generators","viewof t1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["t1"],(function(e){return e})),a.variable(t("time")).define("time",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.min,r=n.max,i=n.step,o=n.value,l=n.title,u=n.description,s=n.disabled,c=n.display,d=e({type:"time",title:l,description:u,display:c,getValue:function(e){return e.value?e.value:void 0},attributes:{min:a,max:r,step:i,disabled:s,value:o}});return d.output.remove(),d}})),a.variable(t("fileDemo")).define("fileDemo",["md"],(function(e){return e(jo||(jo=Object(xe.a)(['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n`import {file} from "@jashkenas/inputs"`'],['---\n## File Upload\n*Use the JavaScript [File API](https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications) to work with uploaded file contents.*\n\n\\`import {file} from "@jashkenas/inputs"\\`'])))})),a.variable(t("viewof e")).define("viewof e",["file"],(function(e){return e()})),a.variable(t("e")).define("e",["Generators","viewof e"],(function(e,t){return e.input(t)})),a.variable(t("viewof e1")).define("viewof e1",["file"],(function(e){return e({title:"Photographs",description:"Only .jpg files are allowed in this example. Choose some images, and they\u2019ll appear in the cell below.",accept:".jpg",multiple:!0})})),a.variable(t("e1")).define("e1",["Generators","viewof e1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["html","e1","Files"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a){var r,i,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t(ko||(ko=Object(xe.a)(["<div>"]))),i=0;case 2:if(!(i<n.length)){e.next=12;break}return n[i],o=t(Oo||(Oo=Object(xe.a)(['<img height="125px" style="margin: 2px;" />']))),e.next=7,a.url(n[i]);case 7:o.src=e.sent,r.append(o);case 9:i++,e.next=2;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),a.variable(t("file")).define("file",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.multiple,a=t.accept,r=t.title,i=t.description,o=t.disabled,l=e({type:"file",title:r,description:i,attributes:{multiple:n,accept:a,disabled:o},action:function(e){e.input.onchange=function(){e.value=n?e.input.files:e.input.files[0],e.dispatchEvent(new CustomEvent("input"))}}});return l.output.remove(),l.input.onchange(),l}})),a.variable(t("textDemo")).define("textDemo",["md"],(function(e){return e(So||(So=Object(xe.a)(['---\n## Text Inputs\n\n~~~js\nimport {text} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof f")).define("viewof f",["text"],(function(e){return e()})),a.variable(t("f")).define("f",["Generators","viewof f"],(function(e,t){return e.input(t)})),a.variable(t("viewof f1")).define("viewof f1",["text"],(function(e){return e({title:"A Text Input",placeholder:"Placeholder text",description:"Note that text inputs don\u2019t show output on the right"})})),a.variable(t("f1")).define("f1",["Generators","viewof f1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["f1"],(function(e){return e})),a.variable(t("viewof f2")).define("viewof f2",["text"],(function(e){return e({placeholder:"Placeholder text",description:"This input only changes value on submit",submit:"Go"})})),a.variable(t("f2")).define("f2",["Generators","viewof f2"],(function(e,t){return e.input(t)})),a.variable(t()).define(["f2"],(function(e){return e})),a.variable(t("text")).define("text",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.autocomplete,u=void 0===l?"off":l,s=n.maxlength,c=n.minlength,d=n.pattern,f=n.placeholder,p=n.size,m=n.submit,v=n.getValue,b=e({type:"text",title:r,description:i,submit:m,getValue:v,attributes:{value:a,autocomplete:u,maxlength:s,minlength:c,pattern:d,placeholder:f,size:p,disabled:o}});return b.output.remove(),b.input.style.fontSize="1em",b}})),a.variable(t("textareaDemo")).define("textareaDemo",["md"],(function(e){return e(Ao||(Ao=Object(xe.a)(['---\n## Textareas\n\n~~~js\nimport {textarea} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof g")).define("viewof g",["textarea"],(function(e){return e()})),a.variable(t("g")).define("g",["Generators","viewof g"],(function(e,t){return e.input(t)})),a.variable(t()).define(["g"],(function(e){return e})),a.variable(t("viewof g1")).define("viewof g1",["textarea"],(function(e){return e({title:"Your Great American Novel",placeholder:"Insert story here...",spellcheck:!0,width:"100%",rows:10,submit:"Publish"})})),a.variable(t("g1")).define("g1",["Generators","viewof g1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["g1"],(function(e){return e})),a.variable(t("textarea")).define("textarea",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="string"===typeof n?{value:n}:n,r=a.value,i=void 0===r?"":r,o=a.title,l=a.description,u=a.autocomplete,s=a.cols,c=void 0===s?45:s,d=a.rows,f=void 0===d?3:d,p=a.width,m=a.height,v=a.maxlength,b=a.placeholder,h=a.spellcheck,g=a.wrap,w=a.submit,y=a.disabled,x=a.getValue,j=e({form:t(Co||(Co=Object(xe.a)(['<form><textarea style="display: block; font-size: 0.8em;" name=input>',"</textarea></form>"])),i),title:o,description:l,submit:w,getValue:x,attributes:{autocomplete:u,cols:c,rows:f,maxlength:v,placeholder:b,spellcheck:h,wrap:g,disabled:y}});return j.output.remove(),null!=p&&(j.input.style.width=p),null!=m&&(j.input.style.height=m),w&&(j.submit.style.margin="0"),(o||l)&&(j.input.style.margin="3px 0"),j}})),a.variable(t("radioDemo")).define("radioDemo",["md"],(function(e){return e(Mo||(Mo=Object(xe.a)(['---\n## Radio Buttons\n\n~~~js\nimport {radio} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof r")).define("viewof r",["radio"],(function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])})),a.variable(t("r")).define("r",["Generators","viewof r"],(function(e,t){return e.input(t)})),a.variable(t()).define(["r"],(function(e){return e})),a.variable(t("viewof r1")).define("viewof r1",["radio"],(function(e){return e({title:"Contact Us",description:"Please select your preferred contact method",options:[{label:"By Email",value:"email"},{label:"By Phone",value:"phone"},{label:"By Pager",value:"pager"}],value:"pager"})})),a.variable(t("r1")).define("r1",["Generators","viewof r1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["r1"],(function(e){return e})),a.variable(t("radio")).define("radio",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.submit,u=a.options,s=a.disabled;u=u.map((function(e){return"string"===typeof e?{value:e,label:e}:e}));var c=e({type:"radio",title:i,description:o,submit:l,getValue:function(e){if(e.checked)return e.value;var t=Array.prototype.find.call(e,(function(e){return e.checked}));return t?t.value:void 0},form:t(Po||(Po=Object(xe.a)(["\n      <form>\n        ","\n      </form>\n    "])),u.map((function(e,n){var a=e.value,i=e.label,o=t(Do||(Do=Object(xe.a)(["<input type=radio name=input ",' style="vertical-align: top; ','" />'])),a===r?"checked":"",0===n?"margin-left: 1px;":"");return o.setAttribute("value",a),s&&o.setAttribute("value",s),t(To||(To=Object(xe.a)(['\n          <label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"])),o,i)})))});return c.output.remove(),c}})),a.variable(t("checkboxDemo")).define("checkboxDemo",["md"],(function(e){return e(zo||(zo=Object(xe.a)(['---\n## Checkboxes\n\n~~~js\nimport {checkbox} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof ch")).define("viewof ch",["checkbox"],(function(e){return e(["Lust","Gluttony","Greed","Sloth","Wrath","Envy","Pride"])})),a.variable(t("ch")).define("ch",["Generators","viewof ch"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch"],(function(e){return e})),a.variable(t("viewof ch1")).define("viewof ch1",["checkbox"],(function(e){return e({title:"Colors",description:"Please select your favorite colors",options:[{value:"r",label:"Red"},{value:"o",label:"Orange"},{value:"y",label:"Yellow"},{value:"g",label:"Green"},{value:"b",label:"Blue"},{value:"i",label:"Indigo"},{value:"v",label:"Violet"}],value:["r","g","b"],submit:!0})})),a.variable(t("ch1")).define("ch1",["Generators","viewof ch1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch1"],(function(e){return e})),a.variable(t("viewof ch3")).define("viewof ch3",["checkbox"],(function(e){return e({description:"Just a single checkbox to toggle",options:[{value:"toggle",label:"On"}],value:"toggle"})})),a.variable(t("ch3")).define("ch3",["Generators","viewof ch3"],(function(e,t){return e.input(t)})),a.variable(t()).define(["ch3"],(function(e){return e})),a.variable(t("checkbox")).define("checkbox",["input","html"],(function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Array.isArray(n)?{options:n}:n,r=a.value,i=a.title,o=a.description,l=a.submit,u=a.disabled,s=a.options;s=s.map((function(e){return"string"===typeof e?{value:e,label:e}:e}));var c=e({type:"checkbox",title:i,description:o,submit:l,getValue:function(e){return e.length?Array.prototype.filter.call(e,(function(e){return e.checked})).map((function(e){return e.value})):!!e.checked&&e.value},form:t(No||(No=Object(xe.a)(["\n      <form>\n        ","\n      </form>\n    "])),s.map((function(e,n){var a=e.value,i=e.label,o=t(Fo||(Fo=Object(xe.a)(["<input type=checkbox name=input ",' style="vertical-align: top; ','" />'])),(r||[]).indexOf(a)>-1?"checked":"",0===n?"margin-left: 1px;":"");return o.setAttribute("value",a),u&&o.setAttribute("disabled",u),t(Go||(Go=Object(xe.a)(['<label style="display: inline-block; margin: 5px 10px 3px 0; font-size: 0.85em;">\n           ',"\n           ","\n          </label>"])),o,i)})))});return c.output.remove(),c}})),a.variable(t("numberDemo")).define("numberDemo",["md"],(function(e){return e(Lo||(Lo=Object(xe.a)(['---\n## Numbers\n\n~~~js\nimport {number} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof h")).define("viewof h",["number"],(function(e){return e()})),a.variable(t("h")).define("h",["Generators","viewof h"],(function(e,t){return e.input(t)})),a.variable(t()).define(["h"],(function(e){return e})),a.variable(t("viewof h1")).define("viewof h1",["number"],(function(e){return e({placeholder:"13+",title:"Your Age",submit:!0})})),a.variable(t("h1")).define("h1",["Generators","viewof h1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["h1"],(function(e){return e})),a.variable(t("number")).define("number",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="number"===typeof t||"string"===typeof t?{value:+t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.placeholder,u=n.submit,s=n.step,c=void 0===s?"any":s,d=n.min,f=n.max,p=e({type:"number",title:r,description:i,submit:u,attributes:{value:a,placeholder:l,step:c,min:d,max:f,autocomplete:"off",disabled:o},getValue:function(e){return e.valueAsNumber}});return p.output.remove(),p.input.style.width="auto",p.input.style.fontSize="1em",p}})),a.variable(t("passwordDemo")).define("passwordDemo",["md"],(function(e){return e(Ro||(Ro=Object(xe.a)(['---\n## Passwords\n\n~~~js\nimport {password} from "@jashkenas/inputs"\n~~~'])))})),a.variable(t("viewof i")).define("viewof i",["password"],(function(e){return e({value:"password"})})),a.variable(t("i")).define("i",["Generators","viewof i"],(function(e,t){return e.input(t)})),a.variable(t()).define(["i"],(function(e){return e})),a.variable(t("viewof i1")).define("viewof i1",["password"],(function(e){return e({title:"Your super secret password",description:"Less than 12 characters, please.",minlength:6,maxlength:12})})),a.variable(t("i1")).define("i1",["Generators","viewof i1"],(function(e,t){return e.input(t)})),a.variable(t()).define(["i1"],(function(e){return e})),a.variable(t("password")).define("password",["input"],(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="string"===typeof t?{value:t}:t,a=n.value,r=n.title,i=n.description,o=n.disabled,l=n.autocomplete,u=void 0===l?"off":l,s=n.maxlength,c=n.minlength,d=n.pattern,f=n.placeholder,p=n.size,m=n.submit,v=e({type:"password",title:r,description:i,submit:m,attributes:{value:a,autocomplete:u,maxlength:s,minlength:c,pattern:d,placeholder:f,size:p,disabled:o}});return v.output.remove(),v.input.style.fontSize="1em",v}})),a.variable(t()).define(["md"],(function(e){return e(Bo||(Bo=Object(xe.a)(["---\n## Wishlist (Send suggestions, please!)\n\n* 3D coordinate input (for say, positioning a camera in a WebGL sketch)\n* Geocoder search with location autocomplete that returns longitude and latitude.\n* Degrees or radians input, for circular things, or angles.\n* A dimensions input, or a box-model input, with margin (and optionally, padding).\n* A map-projection-picker input, rendering little thumbnails of all the d3-geo-projections.\n* Drag and drop file upload input.\n* Alternative coordinate inputs, e.g. Right Ascension, Declination.\n* Other useful formatting options.\n\n---"])))})),a.variable(t("input")).define("input",["html","d3format"],(function(e,t){return function(n){var a=n.form,r=n.type,i=void 0===r?"text":r,o=n.attributes,l=void 0===o?{}:o,u=n.action,s=n.getValue,c=n.title,d=n.description,f=n.format,p=n.display,m=n.submit,v=(n.options,e(_o||(_o=Object(xe.a)(["<div></div>"]))));if(a||(a=e(Io||(Io=Object(xe.a)(["<form>\n\t<input name=input type="," />\n  </form>"])),i)),Object.keys(l).forEach((function(e){var t=l[e];null!=t&&a.input.setAttribute(e,t)})),m&&a.append(e(Eo||(Eo=Object(xe.a)(['<input name=submit type=submit style="margin: 0 0.75em" value="','" />'])),"string"==typeof m?m:"Submit")),a.append(e(qo||(qo=Object(xe.a)(['<output name=output style="font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;"></output>'])))),c&&a.prepend(e(Vo||(Vo=Object(xe.a)(['<div style="font: 700 0.9rem sans-serif; margin-bottom: 3px;">',"</div>"])),c)),d&&a.append(e(Uo||(Uo=Object(xe.a)(['<div style="font-size: 0.85rem; font-style: italic; margin-top: 3px;">',"</div>"])),d)),f&&(f="function"===typeof f?f:t.format(f)),u)u(a);else{var b=m?"onsubmit":"button"==i?"onclick":"checkbox"==i||"radio"==i?"onchange":"oninput";a[b]=function(e){e&&e.preventDefault();var t=s?s(a.input):a.input.value;if(a.output){var n=p?p(t):f?f(t):t;if(n instanceof window.Element){for(;a.output.hasChildNodes();)a.output.removeChild(a.output.lastChild);a.output.append(n)}else a.output.value=n}a.value=t,"oninput"!==b&&a.dispatchEvent(new CustomEvent("input",{bubbles:!0}))},"oninput"!==b&&(v.oninput=function(e){return e&&e.stopPropagation()&&e.preventDefault()}),"onsubmit"!==b&&(a.onsubmit=function(e){return e&&e.preventDefault()}),a[b]()}for(;a.childNodes.length;)v.appendChild(a.childNodes[0]);return a.append(v),a}})),a.variable(t("d3geo")).define("d3geo",["require"],(function(e){return e("d3-geo@1")})),a.variable(t("d3format")).define("d3format",["require"],(function(e){return e("d3-format@1")})),a.variable(t("topojson")).define("topojson",["require"],(function(e){return e("topojson-client@3")})),a.variable(t("world")).define("world",Object(ye.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/world-atlas@1/world/110m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))),a.variable(t("land")).define("land",["topojson","world"],(function(e,t){return e.feature(t,t.objects.land)})),a.variable(t("countries")).define("countries",["topojson","world"],(function(e,t){return e.feature(t,t.objects.countries)})),a.variable(t("usa")).define("usa",Object(ye.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cdn.jsdelivr.net/npm/us-atlas@^2.1/us/states-10m.json");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))),a.variable(t("nation")).define("nation",["topojson","usa"],(function(e,t){return e.feature(t,t.objects.nation)})),a.variable(t("states")).define("states",["topojson","usa"],(function(e,t){return e.feature(t,t.objects.states)})),a.variable(t("graticule")).define("graticule",["d3geo"],(function(e){return e.geoGraticule10()})),a.variable(t("viewof license")).define("viewof license",["md"],(function(e){var t=e(Wo||(Wo=Object(xe.a)(["License: [MIT](https://opensource.org/licenses/MIT)"])));return t.value="MIT",t})),a.variable(t("license")).define("license",["Generators","viewof license"],(function(e,t){return e.input(t)})),a.variable(t()).define(["md"],(function(e){return e(Ho||(Ho=Object(xe.a)(["*Clip art courtesy [ClipArt ETC](https://etc.usf.edu/clipart/), radio buttons and checkboxes courtesy [Amit Sch](https://observablehq.com/@meetamit/multiple-choice-inputs).*"])))})),a}function Pl(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(Yo||(Yo=Object(xe.a)(['# Color Legend\n\nA simple legend for a [color scale](/@d3/color-schemes). Supports [continuous](/@d3/continuous-scales), [sequential](/@d3/sequential-scales), [diverging](/@d3/diverging-scales), [quantize, quantile, threshold](/@d3/quantile-quantize-and-threshold-scales) and [ordinal](/@d3/d3-scaleordinal) scales. To use:\n\n~~~js\nimport {legend, swatches} from "@d3/color-legend"\n~~~\n\nThen call the legend function as shown below. (For ordinal scales, also consider the swatches function.)'])))})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequential([0,100],t.interpolateViridis),title:"Temperature (\xb0F)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialSqrt([0,1],t.interpolateTurbo),title:"Speed (kts)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDiverging([-.1,0,.1],t.interpolatePiYG),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDivergingSqrt([-.1,0,.1],t.interpolateRdBu),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialLog([1,100],t.interpolateBlues),title:"Energy (joules)",ticks:10,tickFormat:".0s"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialQuantile(Array.from({length:100},(function(){return Math.pow(Math.random(),2)})),t.interpolateBlues),title:"Quantile",tickFormat:".2f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSqrt([-100,0,100],["blue","white","red"]),title:"Temperature (\xb0C)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantize([1,10],t.schemePurples[9]),title:"Unemployment rate (%)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantile(t.range(1e3).map(t.randomNormal(100,20)),t.schemeSpectral[9]),title:"Height (cm)",tickFormat:".0f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleThreshold([2.5,3.1,3.5,3.9,6,7,8,9.5],t.schemeRdBu[9]),title:"Unemployment rate (%)",tickSize:0})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleOrdinal(["<10","10-19","20-29","30-39","40-49","50-59","60-69","70-79","\u226580"],t.schemeSpectral[10]),title:"Age (years)",tickSize:0})})),n.variable(t()).define(["md"],(function(e){return e(Xo||(Xo=Object(xe.a)(["But wait, there\u2019s more!\n\nHow about swatches for ordinal color scales? Both variable-width swatches and [column layout](https://developer.mozilla.org/en-US/docs/Web/CSS/columns) are supported."])))})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["blueberries","oranges","apples"],t.schemeCategory10)})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["Wholesale and Retail Trade","Manufacturing","Leisure and hospitality","Business services","Construction","Education and Health","Government","Finance","Self-employed","Other"],t.schemeTableau10),columns:"180px"})})),n.variable(t()).define(["md"],(function(e){return e(Jo||(Jo=Object(xe.a)(["---\n\n## Implementation"])))})),n.variable(t("legend")).define("legend",["d3","ramp"],(function(e,t){return function(){var n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.color,i=a.title,o=a.tickSize,l=void 0===o?6:o,u=a.width,s=void 0===u?320:u,c=a.height,d=void 0===c?44+l:c,f=a.marginTop,p=void 0===f?18:f,m=a.marginRight,v=void 0===m?0:m,b=a.marginBottom,h=void 0===b?16+l:b,g=a.marginLeft,w=void 0===g?0:g,y=a.ticks,x=void 0===y?s/64:y,j=a.tickFormat,k=a.tickValues,O=e.create("svg").attr("width",s).attr("height",d).attr("viewBox",[0,0,s,d]).style("overflow","visible").style("display","block"),S=function(e){return e.selectAll(".tick line").attr("y1",p+h-d)};if(r.interpolate){var A=Math.min(r.domain().length,r.range().length);n=r.copy().rangeRound(e.quantize(e.interpolate(w,s-v),A)),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.copy().domain(e.quantize(e.interpolate(0,1),A))).toDataURL())}else if(r.interpolator){if(n=Object.assign(r.copy().interpolator(e.interpolateRound(w,s-v)),{range:function(){return[w,s-v]}}),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.interpolator()).toDataURL()),!n.ticks){if(void 0===k){var C=Math.round(x+1);k=e.range(C).map((function(t){return e.quantile(r.domain(),t/(C-1))}))}"function"!==typeof j&&(j=e.format(void 0===j?",f":j))}}else if(r.invertExtent){var M=r.thresholds?r.thresholds():r.quantiles?r.quantiles():r.domain(),P=void 0===j?function(e){return e}:"string"===typeof j?e.format(j):j;n=e.scaleLinear().domain([-1,r.range().length-1]).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.range()).join("rect").attr("x",(function(e,t){return n(t-1)})).attr("y",p).attr("width",(function(e,t){return n(t)-n(t-1)})).attr("height",d-p-h).attr("fill",(function(e){return e})),k=e.range(M.length),j=function(e){return P(M[e],e)}}else n=e.scaleBand().domain(r.domain()).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.domain()).join("rect").attr("x",n).attr("y",p).attr("width",Math.max(0,n.bandwidth()-1)).attr("height",d-p-h).attr("fill",r),S=function(){};return O.append("g").attr("transform","translate(0,".concat(d-h,")")).call(e.axisBottom(n).ticks(x,"string"===typeof j?j:void 0).tickFormat("function"===typeof j?j:void 0).tickSize(l).tickValues(k)).call(S).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.append("text").attr("x",w).attr("y",p+h-d-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)})),O.node()}})),n.variable(t("swatches")).define("swatches",["DOM","html","entity"],(function(e,t,n){return function(a){var r=a.color,i=a.columns,o=void 0===i?null:i,l=a.format,u=void 0===l?function(e){return e}:l,s=a.swatchSize,c=void 0===s?15:s,d=a.swatchWidth,f=void 0===d?c:d,p=a.swatchHeight,m=void 0===p?c:p,v=a.marginLeft,b=void 0===v?0:v,h=e.uid().id;return null!==o?t(Ko||(Ko=Object(xe.a)(['<div style="display: flex; align-items: center; margin-left: ','px; min-height: 33px; font: 10px sans-serif;">\n  <style>\n\n.',"-item {\n  break-inside: avoid;\n  display: flex;\n  align-items: center;\n  padding-bottom: 1px;\n}\n\n.","-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: calc(100% - ","px - 0.5em);\n}\n\n.","-swatch {\n  width: ","px;\n  height: ",'px;\n  margin: 0 0.5em 0 0;\n}\n\n  </style>\n  <div style="width: 100%; columns: ',';">',"\n  </div>\n</div>"])),+b,h,h,+f,h,+f,+m,o,r.domain().map((function(e){var a=u(e);return t(Qo||(Qo=Object(xe.a)(['<div class="','-item">\n      <div class="','-swatch" style="background:',';"></div>\n      <div class="','-label" title="','">',"</div>\n    </div>"])),h,h,r(e),h,a.replace(/["&]/g,n),document.createTextNode(a))}))):t(Zo||(Zo=Object(xe.a)(['<div style="display: flex; align-items: center; min-height: 33px; margin-left: ','px; font: 10px sans-serif;">\n  <style>\n\n.'," {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}\n\n.",'::before {\n  content: "";\n  width: ',"px;\n  height: ","px;\n  margin-right: 0.5em;\n  background: var(--color);\n}\n\n  </style>\n  <div>","</div>"])),+b,h,h,+f,+m,r.domain().map((function(e){return t($o||($o=Object(xe.a)(['<span class="','" style="--color: ','">',"</span>"])),h,r(e),document.createTextNode(u(e)))})))}})),n.variable(t("entity")).define("entity",(function(){return function(e){return"&#".concat(e.charCodeAt(0).toString(),";")}})),n.variable(t("ramp")).define("ramp",["DOM"],(function(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=e.canvas(n,1),r=a.getContext("2d"),i=0;i<n;++i)r.fillStyle=t(i/(n-1)),r.fillRect(i,0,1,1);return a}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),n}function Dl(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(el||(el=Object(xe.a)(["# Contours\n\nShowing the [Goldstein\u2013Price test function](https://en.wikipedia.org/wiki/Test_functions_for_optimization)."])))})),n.variable(t("value")).define("value",(function(){return function(e,t){return(1+Math.pow(e+t+1,2)*(19-14*e+3*Math.pow(e,2)-14*t+6*e*t+3*Math.pow(t,2)))*(30+Math.pow(2*e-3*t,2)*(18-32*e+12*e*e+48*t-36*e*t+27*Math.pow(t,2)))}})),n.variable(t()).define(["legend","color"],(function(e,t){return e({color:t,title:"Value",tickFormat:","})})),n.variable(t("chart")).define("chart",["d3","width","height","contours","color","xAxis","yAxis"],(function(e,t,n,a,r,i,o){var l=e.create("svg").attr("viewBox",[0,0,t+28,n]).style("display","block").style("margin","0 -14px").style("width","calc(100% + 28px)");return l.append("g").attr("fill","none").attr("stroke","#fff").attr("stroke-opacity",.5).selectAll("path").data(a).join("path").attr("fill",(function(e){return r(e.value)})).attr("d",e.geoPath()),l.append("g").call(i),l.append("g").call(o),l.node()})),n.variable(t("color")).define("color",["d3","thresholds"],(function(e,t){return e.scaleSequentialLog(e.extent(t),e.interpolateMagma)})),n.variable(t("thresholds")).define("thresholds",["d3"],(function(e){return e.range(1,20).map((function(e){return Math.pow(2,e)}))})),n.variable(t("grid")).define("grid",["width","height","value","x","y"],(function(e,t,n,a,r){for(var i=e+28+4,o=t+4,l=Math.ceil((i- -2)/4),u=Math.ceil((o- -2)/4),s=new Array(l*u),c=0;c<u;++c)for(var d=0;d<l;++d)s[c*l+d]=n(a.invert(4*d-2),r.invert(4*c-2));return s.x=-4,s.y=-4,s.k=4,s.n=l,s.m=u,s})),n.variable(t("transform")).define("transform",["grid"],(function(e){return function(t){return{type:t.type,value:t.value,coordinates:t.coordinates.map((function(t){return t.map((function(t){return t.map((function(t){var n=Object(o.a)(t,2),a=n[0],r=n[1];return[e.x+e.k*a,e.y+e.k*r]}))}))}))}}})),n.variable(t("contours")).define("contours",["d3","grid","thresholds","transform"],(function(e,t,n,a){return e.contours().size([t.n,t.m]).thresholds(n)(t).map(a)})),n.variable(t("x")).define("x",["d3","width"],(function(e,t){return e.scaleLinear([-2,2],[0,t+28])})),n.variable(t("y")).define("y",["d3","height"],(function(e,t){return e.scaleLinear([-2,1],[t,0])})),n.variable(t("xAxis")).define("xAxis",["height","d3","x","width"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(0,".concat(e,")")).call(t.axisTop(n).ticks(a/e*10)).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick").filter((function(e){return n.domain().includes(e)})).remove()}))}})),n.variable(t("yAxis")).define("yAxis",["d3","y"],(function(e,t){return function(n){return n.attr("transform","translate(-1,0)").call(e.axisRight(t)).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.selectAll(".tick").filter((function(e){return t.domain().includes(e)})).remove()}))}})),n.variable(t("height")).define("height",(function(){return 600})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")}));var a=e.module(Pl);return n.import("legend",a),n}function Tl(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(tl||(tl=Object(xe.a)(['# Saving SVG\n\n<figure style="display:flex;padding:10px;background:#fefedd;color:#444;font:15px/22px var(--sans-serif);">\n<div style="margin:10px;"><b>Update:</b> Saving SVG is now built-in! Open the cell menu <svg viewBox="0 0 8 14" fill="currentColor" stroke="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" width="8" height="14"><circle r="1.5" cx="4" cy="2"></circle><circle r="1.5" cx="4" cy="7"></circle><circle r="1.5" cx="4" cy="12"></circle></svg> in the left margin to download any SVG cell as either SVG or PNG.</div>\n<div><img src="https://user-images.githubusercontent.com/4732/57958244-0ed81780-78b4-11e9-859d-bc68cc4f45b6.png"></div>\n</figure>\n\nSay we have a dynamically-generated SVG, like this contour plot. Here\u2019s how might you save it to a file in Observable using DOM.download.'])))}));var a=e.module(Dl);return n.import("chart",a),n.variable(t()).define(["chart"],(function(e){return e})),n.variable(t()).define(["md"],(function(e){return e(nl||(nl=Object(xe.a)(["You can serialize the SVG element as a string, and then download it as an SVG file."])))})),n.variable(t()).define(["DOM","serialize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as SVG")})),n.variable(t("serialize")).define("serialize",["NodeFilter"],(function(e){var t="http://www.w3.org/2000/xmlns/";return function(n){n=n.cloneNode(!0);for(var a=window.location.href+"#",r=document.createTreeWalker(n,e.SHOW_ELEMENT);r.nextNode();){var i,o=Object(dt.a)(r.currentNode.attributes);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.value.includes(a)&&(l.value=l.value.replace(a,"#"))}}catch(s){o.e(s)}finally{o.f()}}n.setAttributeNS(t,"xmlns","http://www.w3.org/2000/svg"),n.setAttributeNS(t,"xmlns:xlink","http://www.w3.org/1999/xlink");var u=(new window.XMLSerializer).serializeToString(n);return new Blob([u],{type:"image/svg+xml"})}})),n.variable(t()).define(["md"],(function(e){return e(al||(al=Object(xe.a)(["Alternatively, you can render the SVG to a canvas to generate a PNG."])))})),n.variable(t()).define(["DOM","rasterize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as PNG")})),n.variable(t("rasterize")).define("rasterize",["DOM","serialize"],(function(e,t){return function(n){var a,r,i=new Promise((function(e,t){return a=e,r=t})),o=new Image;return o.onerror=r,o.onload=function(){var t=n.getBoundingClientRect(),r=e.context2d(t.width,t.height);r.drawImage(o,0,0,t.width,t.height),r.canvas.toBlob(a)},o.src=URL.createObjectURL(t(n)),i}})),n.variable(t()).define(["md"],(function(e){return e(rl||(rl=Object(xe.a)(['To use this in your own notebook, import from this notebook:\n\n```js\nimport {rasterize} from "@mbostock/saving-svg"\n```\n\nHappy downloading!'],['To use this in your own notebook, import from this notebook:\n\n\\`\\`\\`js\nimport {rasterize} from "@mbostock/saving-svg"\n\\`\\`\\`\n\nHappy downloading!'])))})),n}function zl(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(il||(il=Object(xe.a)(["\n# Embedding Fonts Into An SVG\n\nThis notebook demonstrates how to embed fonts (or other external resources) into an SVG.  \nNote that this example uses a TrueType font to maximize compatibility. If you only want to rasterize the SVG inside the browser then WOFF/WOFF 2.0 will work just as well.\n"])))})),n.variable(t("svg_embed")).define("svg_embed",["svg","toDataURL"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=ol||(ol=Object(xe.a)(["<svg width=300 height=200 xmlns=\"http://www.w3.org/2000/svg\">\n  <style>\n    @font-face {\n      font-family: 'Pacifico';\n      font-style: normal;\n      font-weight: 400;\n      src: url(",") format('woff'), url(",") format('truetype');\n    }\n    rect { fill: lightsalmon }\n    text {\n      font-size: 40px;\n      font-family: Pacifico;\n      fill: black;\n    }\n  </style>\n  <rect x=0 y=0 width=300 height=200 />\n  <text x=35 y=100>Well, hello!</text>\n</svg>\n"])),e.next=4,n("https://fonts.gstatic.com/s/pacifico/v12/FwZY7-Qmy14u9lezJ-6H6M-Bp0u-.woff");case 4:return e.t2=e.sent,e.next=7,n("https://rawcdn.githack.com/google/fonts/e9c0bd/ofl/pacifico/Pacifico-Regular.ttf");case 7:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t()).define(["html","DOM","serialize","svg_embed","rasterize"],(function(e,t,n,a,r){return e(ll||(ll=Object(xe.a)(["\n  ","\n  ","\n"])),t.download(n(a),"image.svg","Download as SVG"),t.download(r(a),"image.png","Download as PNG"))})),n.variable(t()).define(["md"],(function(e){return e(ul||(ul=Object(xe.a)(["\n---\n## Compatibility\n\nIf you plan to edit the downloaded SVG be aware that many applications do not support <code>@font-face</code> declarations (some may not even support CSS at all). When in doubt use a [web based SVG editor](https://mediatemple.net/blog/tips/browser-based-svg-editors/).\n"])))})),n.variable(t()).define(["md"],(function(e){return e(sl||(sl=Object(xe.a)(["---"])))})),n.variable(t("toDataURL")).define("toDataURL",(function(){return function(){var e=Object(ye.a)(we.a.mark((function e(t){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ye.a)(we.a.mark((function e(n,a){var r,i,o;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=5;break}return e.abrupt("return",a("Error: ".concat(r.status," ").concat(r.statusText)));case 5:return e.next=7,r.blob();case 7:i=e.sent,(o=new FileReader).readAsDataURL(i),o.onloadend=function(){return n(o.result)};case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));var a=e.module(Tl);return n.import("serialize",a),n.import("rasterize",a),n}function Nl(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(cl||(cl=Object(xe.a)(["# Version Pinning for Notebooks\nObservable supports version pinning by appending the version number to the notebook name or path.\n\nThese functions make it easier to look up the most recent version of notebooks, and to use pinned versions in your own documentation. Example:"])))})),n.variable(t()).define(["md","getCurrentPinnedName"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=dl||(dl=Object(xe.a)(["```js\nimport {getCurrentPinnedName} from '","'\n```"],["\\`\\`\\`js\nimport {getCurrentPinnedName} from '","'\n\\`\\`\\`"])),e.next=4,n();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),n.variable(t()).define(["md","dataTable","getCurrentLocalPath","getCurrentPath","getCurrentName","getCurrentPinnedName","getCurrentMetadata","getCurrentComparePath"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r,i,o,l,u){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=fl||(fl=Object(xe.a)(["---\n## Current Notebook\nFunctions that can be used to obtain information about the currently viewed notebook. Metadata and the pinned name will be available once you have shared or published your notebook. Reload the page after publishing to see the updated version number.\n\n","\n\n"])),e.t2=n,e.t3=["getCurrentLocalPath",a()],e.t4=["getCurrentPath",r()],e.t5=["getCurrentName",i()],e.next=8,o();case 8:return e.t6=e.sent,e.t7=["getCurrentPinnedName",e.t6],e.next=12,l();case 12:return e.t8=e.sent,e.t9=["getCurrentMetadata",e.t8],e.next=16,u(299);case 16:return e.t10=e.sent,e.t11=["getCurrentComparePath",e.t10],e.t12=[e.t3,e.t4,e.t5,e.t7,e.t9,e.t11],e.t13=(0,e.t2)(e.t12),e.abrupt("return",(0,e.t0)(e.t1,e.t13));case 21:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,l,u){return e.apply(this,arguments)}}()),n.variable(t("getCurrentLocalPath")).define("getCurrentLocalPath",["html"],(function(e){return function(){return e(pl||(pl=Object(xe.a)(['<a href="#">']))).pathname}})),n.variable(t("getCurrentPath")).define("getCurrentPath",["formatPath","getCurrentName"],(function(e,t){return function(){return e(t())}})),n.variable(t("getCurrentName")).define("getCurrentName",["getCurrentLocalPath"],(function(e){return function(){return e().replace(/^\/(d\/)?/,"")}})),n.variable(t("getCurrentPinnedName")).define("getCurrentPinnedName",["getCurrentMetadata","formatName","getCurrentName"],(function(e,t,n){return function(){var a=Object(ye.a)(we.a.mark((function a(){var r;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e();case 2:if(!(r=a.sent)||!r.version){a.next=5;break}return a.abrupt("return",t(n(),r.version));case 5:return a.abrupt("return",null);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t("getCurrentMetadata")).define("getCurrentMetadata",["getMetadata","getCurrentName"],(function(e,t){var n;return function(){var a=Object(ye.a)(we.a.mark((function a(){var r,i=arguments;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=i.length>0&&void 0!==i[0]&&i[0],void 0!==n&&!r){a.next=5;break}return a.next=4,e(t());case 4:n=a.sent;case 5:return a.abrupt("return",n);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t("getCurrentComparePath")).define("getCurrentComparePath",["getMetadata","getCurrentName","formatComparePath"],(function(e,t,n){return function(){var a=Object(ye.a)(we.a.mark((function a(){var r,i,o,l=arguments;return we.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=l.length>0&&void 0!==l[0]?l[0]:null,i=l.length>1&&void 0!==l[1]?l[1]:null,a.next=4,e(t());case 4:if(!(o=a.sent)){a.next=7;break}return a.abrupt("return",n(o.id,r,o.id,i));case 7:return a.abrupt("return",null);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()})),n.variable(t()).define(["md"],(function(e){return e(ml||(ml=Object(xe.a)(["---\n## Other Notebooks\nFunctions for retrieving information about any notebooks.\n"])))})),n.variable(t("viewof preview_name")).define("viewof preview_name",["html","Event"],(function(e,t){var n=e(vl||(vl=Object(xe.a)(['<input type="button" value="Submit">']))),a=e(bl||(bl=Object(xe.a)(['<input type="text" value="@jashkenas/inputs">']))),r=e(hl||(hl=Object(xe.a)(["<form>"," ",""])),a,n);return a.oninput=function(e){return e.stopPropagation()},n.onclick=function(){r.value=a.value,r.dispatchEvent(new t("input"))},r.value=a.value,r})),n.variable(t("preview_name")).define("preview_name",["Generators","viewof preview_name"],(function(e,t){return e.input(t)})),n.variable(t()).define(["dataTable","formatLocalPath","preview_name","formatPath","formatSourcePath","getPinnedName","getPinnedPath","getSource","getMetadata"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n,a,r,i,o,l,u,s){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=["formatLocalPath",n(a)],e.t2=["formatPath",r(a)],e.t3=["formatSourcePath",i(a)],e.next=6,o(a);case 6:return e.t4=e.sent,e.t5=["getPinnedName",e.t4],e.next=10,l(a);case 10:return e.t6=e.sent,e.t7=["getPinnedPath",e.t6],e.next=14,u(a);case 14:return e.t8=e.sent,e.t9=["getSource",e.t8],e.next=18,s(a);case 18:return e.t10=e.sent,e.t11=["getMetadata",e.t10],e.t12=[e.t1,e.t2,e.t3,e.t5,e.t7,e.t9,e.t11],e.abrupt("return",(0,e.t0)(e.t12));case 22:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,o,l,u,s){return e.apply(this,arguments)}}()),n.variable(t("formatLocalPath")).define("formatLocalPath",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"/"+(e.match(/^@/)?e:"d/"+e)+(t?"@"+t:"")}})),n.variable(t("formatPath")).define("formatPath",["domain","formatLocalPath"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"https://".concat(e).concat(t(n,a))}})),n.variable(t("formatSourcePath")).define("formatSourcePath",["apiDomain","formatLocalPath"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"https://".concat(e).concat(t(n,a),".js")}})),n.variable(t("formatName")).define("formatName",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e+(t?"@"+t:"")}})),n.variable(t("formatId")).define("formatId",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e+(t?"@"+t:"")}})),n.variable(t("formatComparePath")).define("formatComparePath",["domain","formatId"],(function(e,t){return function(n,a,r,i){return"https://".concat(e,"/compare/").concat(t(n,a),"...").concat(t(r,i))}})),n.variable(t("getPinnedName")).define("getPinnedName",["getMetadata"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n);case 2:if(!(a=t.sent)||!a.version){t.next=5;break}return t.abrupt("return",n+"@"+a.version);case 5:return t.abrupt("return",null);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t("getPinnedPath")).define("getPinnedPath",["getMetadata","formatPath"],(function(e,t){return function(){var n=Object(ye.a)(we.a.mark((function n(a){var r;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(a);case 2:if(!(r=n.sent)||!r.version){n.next=5;break}return n.abrupt("return",t(a,r.version));case 5:return n.abrupt("return",null);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),n.variable(t("getComparePath")).define("getComparePath",["getMetadata","formatComparePath"],(function(e,t){return function(){var n=Object(ye.a)(we.a.mark((function n(a){var r,i,o,l=arguments;return we.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:null,i=l.length>2&&void 0!==l[2]?l[2]:null,n.next=4,e(a);case 4:if(!(o=n.sent)){n.next=7;break}return n.abrupt("return",t(o.id,r,o.id,i));case 7:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),n.variable(t("getSource")).define("getSource",["formatSourcePath"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a,r,i,o=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:null,r=e(n,a),t.prev=2,t.next=5,fetch(r,{cache:a?"default":"no-cache"});case 5:return i=t.sent,t.next=8,i.text();case 8:return t.abrupt("return",t.sent);case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t("getMetadata")).define("getMetadata",["getSource"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n){var a,r,i,o,l,u=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:null,r={URL:"url",Title:"title",Author:"author",Version:"version","Runtime version":"runtimeVersion"},t.next=4,e(n,a);case 4:if(i=t.sent){t.next=7;break}return t.abrupt("return",null);case 7:if(o=i.match(/^(?:\/\/ .+?\n)+/),l=i.match(/^\s+?id:\s+?"([^@"]+)/m),o&&l){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",o[0].split(/\n/).reduce((function(e,t){var n=t.match(/^\/\/ ([^:]+?):\s+?(.+?)$/);return n&&r.hasOwnProperty(n[1])&&(e[r[n[1]]]=n[2]),e}),{id:l[1]}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),n.variable(t()).define(["md"],(function(e){return e(gl||(gl=Object(xe.a)(["---"])))})),n.variable(t("domain")).define("domain",(function(){return"observablehq.com"})),n.variable(t("apiDomain")).define("apiDomain",(function(){return"api.observablehq.com"})),n.variable(t("dataTable")).define("dataTable",["html"],(function(e){return function(t){var n="padding:.5em;vertical-align:top",a=t.map((function(t){var a=Object(o.a)(t,2),r=a[0],i=a[1],l=e(wl||(wl=Object(xe.a)(['<div style="max-height:10em;overflow:auto;word-break:break-word">'])));return l.textContent=JSON.stringify(i),e(yl||(yl=Object(xe.a)(['<tr><th style="','">','</th><td style="',';font-family:monospace">',"</td>"])),n,r,n,l)}));return e(xl||(xl=Object(xe.a)(["<table>",""])),a)}})),n}function Fl(e,t){var n=e.module();n.variable(t()).define(["md"],(function(e){return e(jl||(jl=Object(xe.a)(["\n# Embedding Fonts Into An SVG\n\nHelper function written on top of [@mootari/embedding-fonts-into-an-svg](https://observablehq.com/@mootari/embedding-fonts-into-an-svg) with Google Fonts in mind:\n\n## Signature\n\n```javascript\nasync function addWebFont(selection, fontName, fontURL, fontType = 'woff2')\n```\n\n## Example:\n\n```javascript\n// From https://fonts.googleapis.com/css?family=Pacifico, pick the url under /* latin */\nselection.call(addWebFont, 'Pacifico', 'https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2');\n```\n"],["\n# Embedding Fonts Into An SVG\n\nHelper function written on top of [@mootari/embedding-fonts-into-an-svg](https://observablehq.com/@mootari/embedding-fonts-into-an-svg) with Google Fonts in mind:\n\n## Signature\n\n\\`\\`\\`javascript\nasync function addWebFont(selection, fontName, fontURL, fontType = 'woff2')\n\\`\\`\\`\n\n## Example:\n\n\\`\\`\\`javascript\n// From https://fonts.googleapis.com/css?family=Pacifico, pick the url under /* latin */\nselection.call(addWebFont, 'Pacifico', 'https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2');\n\\`\\`\\`\n"])))})),n.variable(t("addWebFont")).define("addWebFont",["toDataURL"],(function(e){return function(){var t=Object(ye.a)(we.a.mark((function t(n,a,r){var i,o,l=arguments;return we.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:"woff2",t.next=3,e(r);case 3:return o=t.sent,t.abrupt("return",n.append("style").text("\n    @font-face {\n      font-family: '".concat(a,"';\n      src: url(").concat(o,") format('").concat(i,"');\n    }\n  ")));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()})),n.variable(t()).define(["DOM","rasterize","chart"],(function(e,t,n){return e.download((function(){return t(n)}),void 0,"Save as PNG")})),n.variable(t("chart")).define("chart",["d3","DOM","addWebFont"],(function(e,t,n){var a=e.select(t.svg(600,400));return a.append("text").call(n,"Pacifico","https://fonts.gstatic.com/s/pacifico/v13/FwZY7-Qmy14u9lezJ-6H6MmBp0u-.woff2").attr("style","font-size: 175px; font-family: 'Pacifico';").text("Pacifico").attr("x",300).attr("y",200).attr("dominant-baseline","middle").attr("text-anchor","middle"),a.node()})),n.variable(t()).define(["md"],(function(e){return e(kl||(kl=Object(xe.a)(["\n## Setup\n"])))})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("https://d3js.org/d3.v5.min.js")}));var a=e.module(Tl);n.import("rasterize",a);var r=e.module(zl);n.import("toDataURL",r);var i=e.module(Nl);return n.import("getMetadata",i),n.variable(t()).define(["md"],(function(e){return e(Ol||(Ol=Object(xe.a)(['\n## "Backup"\n'])))})),n.variable(t("latestVersion")).define("latestVersion",["getMetadata"],function(){var e=Object(ye.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("@mootari/embedding-fonts-into-an-svg");case 2:return n=e.sent,e.abrupt("return",+n.version);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.variable(t()).define(["md"],(function(e){return e(Sl||(Sl=Object(xe.a)(["\n### `toDataURL` source as of **@171**\n\n```javascript\nasync function toDataURL(url) {\n  return new Promise(async(resolve, reject) => {\n    const res = await fetch(url);\n    if(!res.ok) return reject(`Error: ${res.status} ${res.statusText}`);\n    const blob = await res.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => resolve(reader.result);\n  });\n}\n```\n"],["\n### \\`toDataURL\\` source as of **@171**\n\n\\`\\`\\`javascript\nasync function toDataURL(url) {\n  return new Promise(async(resolve, reject) => {\n    const res = await fetch(url);\n    if(!res.ok) return reject(\\`Error: \\${res.status} \\${res.statusText}\\`);\n    const blob = await res.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onloadend = () => resolve(reader.result);\n  });\n}\n\\`\\`\\`\n"])))})),n}function Gl(e,t){var a=e.module(),r=new Map([["congress@2.csv",n(117).default]]);a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md"],(function(e){return e(Al||(Al=Object(xe.a)(["# US Congress Chart\nThis chart shows lawmakers' attitude towards blockchain technology"])))})),a.variable(t("viewof r")).define("viewof r",["radio"],(function(e){return e({options:[{label:"Senate",value:"Senate"},{label:"House of Representative",value:"House of Representative"}],value:"Senate"})})),a.variable(t("r")).define("r",["Generators","viewof r"],(function(e,t){return e.input(t)})),a.variable(t("chart")).define("chart",["pie","data","d3","width","margin","height","addWebFont","color","arc","r","labelHeight"],(function(e,t,n,a,r,i,o,l,u,s,c){var d=e(t),f=n.create("svg").attr("viewBox",[-a/2,-r.top,a,i/2+r.bottom+r.top]).call(o,"Acumin Pro","https://gist.githubusercontent.com/coindesk-research/2bf8eddda40303351c9f02f73b661cca/raw/2aa621a1be6cc12cc572fd390027839254b166a3/Acumin-RPro.otf","opentype");f.selectAll("path").data(d).join("path").attr("fill",(function(e){return l(e.data.Stance)})).attr("d",u).append("title").text((function(e){return"".concat(e.data.Stance,": ").concat(e.data[s])})),f.append("g").attr("font-family","Acumin Pro").attr("font-size",a>768?20:10).attr("text-anchor","middle").selectAll("text").data(d).join("text").attr("transform",(function(e){return"translate(".concat(u.centroid(e),")")})).call((function(e){return e.filter((function(e){return e.endAngle-e.startAngle>.1})).append("tspan").attr("y","-0.4em").attr("font-weight","bold").text((function(e){return e.data.Stance}))})).call((function(e){return e.filter((function(e){return e.endAngle-e.startAngle>.1})).append("tspan").attr("x",0).attr("y","0.7em").attr("fill-opacity",.7).text((function(e){return e.data[s]}))})),f.append("text").attr("x",r.left).attr("y",r.top-110).attr("text-anchor","middle").style("font-size",a>768?26:18).style("font-family","Acumin Pro").style("font-weight","bold").text("Blockchain Attitude in the ".concat(s));var p=f.append("g").attr("transform","translate(".concat(-a/2+r.left,",").concat(-i/2.1,")"));return p.selectAll(null).data(t).enter().append("rect").attr("x",.7*a).attr("y",(function(e,t){return c*t*1.8+.8*i})).attr("width",c).attr("height",c).attr("fill",(function(e){return l(e.Stance)})).attr("stroke","grey").style("stroke-width","1px"),p.selectAll(null).data(t).enter().append("text").text((function(e){return"".concat(e.Stance,": ").concat(e[s])})).attr("x",1.2*c+.7*a).attr("y",(function(e,t){return c*t*1.8+c/1.1+.8*i})).style("font-family","Acumin Pro").style("font-size","".concat(c,"px")),f.node()})),a.variable(t("data")).define("data",["d3","FileAttachment"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,n("congress@2.csv").text();case 3:return e.t1=e.sent,e.t2=t.autoType,e.abrupt("return",e.t0.csvParse.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.variable(t("color")).define("color",["d3","data"],(function(e,t){return e.scaleOrdinal().domain(t.map((function(e){return e.Stance}))).range(["#7CEE00","#FF0000","#608AD8","#FCC117"])})),a.variable(t("height")).define("height",["width"],(function(e){return Math.min(e,800)})),a.variable(t("labelHeight")).define("labelHeight",["height"],(function(e){return e/50})),a.variable(t("arc")).define("arc",["width","height","d3"],(function(e,t,n){var a=Math.min(e,t)/2;return n.arc().innerRadius(.33*a).outerRadius(a-1)})),a.variable(t("arc_txt")).define("arc_txt",["width","height","d3"],(function(e,t,n){var a=Math.min(e,t)/1.6;return n.arc().innerRadius(.33*a).outerRadius(a-1)})),a.variable(t("pie")).define("pie",["d3","r"],(function(e,t){return e.pie().padAngle(.005).sort(null).startAngle(Math.PI/2).endAngle(1.5*Math.PI).value((function(e){return e[t]}))})),a.variable(t("margin")).define("margin",(function(){return{top:70,right:10,bottom:50,left:10}}));var i=e.module(Ml);a.import("radio",i);var o=e.module(Fl);return a.import("addWebFont",o),a.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),a}var Ll,Rl,Bl,_l,Il,El,ql,Vl,Ul,Wl=function(e){var t=e.width,n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useState)(),l=Object(o.a)(i,2),u=l[0],s=l[1];return Object(a.useEffect)((function(){var e=new he.b,t=e.module(Gl,(function(e){return"viewof r"===e?new he.a(n.current):"chart"===e?new he.a(r.current):["pie"].includes(e)}));return s(t),function(){s(void 0),e.dispose()}}),[]),Object(a.useEffect)((function(){void 0!==u&&u.redefine("width",t)}),[t,u]),console.log(t),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{ref:n}),Object(c.jsx)("div",{ref:r,className:"chart"})]})},Hl=n(22),Yl=n(27);function Xl(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(Ll||(Ll=Object(xe.a)(['# Safe Local Storage\n\nIf a reader has localStorage disabled, simply referencing it will throw an error and prevent any downstream cells from running. This can break your notebook!\n\nIf you import from this notebook instead, you\u2019ll be able to use localStorage safely: if the reader has disabled local storage, you\u2019ll get an in-memory storage instance that evaporates when the page is unloaded.\n\n```js\nimport {localStorage} from "@mbostock/safe-local-storage"\n```\n\nPlease note that this implementation does not support direct-setting of properties on localStorage; use the [Storage interface methods](https://html.spec.whatwg.org/multipage/webstorage.html#webstorage) instead.\n'],['# Safe Local Storage\n\nIf a reader has localStorage disabled, simply referencing it will throw an error and prevent any downstream cells from running. This can break your notebook!\n\nIf you import from this notebook instead, you\u2019ll be able to use localStorage safely: if the reader has disabled local storage, you\u2019ll get an in-memory storage instance that evaporates when the page is unloaded.\n\n\\`\\`\\`js\nimport {localStorage} from "@mbostock/safe-local-storage"\n\\`\\`\\`\n\nPlease note that this implementation does not support direct-setting of properties on localStorage; use the [Storage interface methods](https://html.spec.whatwg.org/multipage/webstorage.html#webstorage) instead.\n'])))})),n.variable(t("localStorage")).define("localStorage",["MemoryStorage"],(function(e){try{var t=window.localStorage,n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(a){return new e}})),n.variable(t("MemoryStorage")).define("MemoryStorage",(function(){return function(){function e(){Object(Hl.a)(this,e),Object.defineProperties(this,{_:{value:new Map}})}return Object(Yl.a)(e,[{key:"length",get:function(){return this._.size}},{key:"key",value:function(e){return Array.from(this._.keys())[0|e]}},{key:"getItem",value:function(e){return this._.has(e+="")?this._.get(e):null}},{key:"setItem",value:function(e,t){this._.set(e+"",t+"")}},{key:"removeItem",value:function(e){this._.delete(e+"")}},{key:"clear",value:function(){this._.clear()}}]),e}()})),n}function Jl(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(Rl||(Rl=Object(xe.a)(['# Color Legend\n\nA simple legend for a [color scale](/@d3/color-schemes). Supports [continuous](/@d3/continuous-scales), [sequential](/@d3/sequential-scales), [diverging](/@d3/diverging-scales), [quantize, quantile, threshold](/@d3/quantile-quantize-and-threshold-scales) and [ordinal](/@d3/d3-scaleordinal) scales. To use:\n\n~~~js\nimport {legend, swatches} from "@d3/color-legend"\n~~~\n\nThen call the legend function as shown below. (For ordinal scales, also consider the swatches function.)'])))})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequential([0,100],t.interpolateViridis),title:"Temperature (\xb0F)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialSqrt([0,1],t.interpolateTurbo),title:"Speed (kts)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDiverging([-.1,0,.1],t.interpolatePiYG),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleDivergingSqrt([-.1,0,.1],t.interpolateRdBu),title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialLog([1,100],t.interpolateBlues),title:"Energy (joules)",ticks:10,tickFormat:".0s"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSequentialQuantile(Array.from({length:100},(function(){return Math.pow(Math.random(),2)})),t.interpolateBlues),title:"Quantile",tickFormat:".2f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleSqrt([-100,0,100],["blue","white","red"]),title:"Temperature (\xb0C)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantize([1,10],t.schemePurples[9]),title:"Unemployment rate (%)"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleQuantile(t.range(1e3).map(t.randomNormal(100,20)),t.schemeSpectral[9]),title:"Height (cm)",tickFormat:".0f"})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleThreshold([2.5,3.1,3.5,3.9,6,7,8,9.5],t.schemeRdBu[9]),title:"Unemployment rate (%)",tickSize:0})})),n.variable(t()).define(["legend","d3"],(function(e,t){return e({color:t.scaleOrdinal(["<10","10-19","20-29","30-39","40-49","50-59","60-69","70-79","\u226580"],t.schemeSpectral[10]),title:"Age (years)",tickSize:0})})),n.variable(t()).define(["md"],(function(e){return e(Bl||(Bl=Object(xe.a)(["But wait, there\u2019s more!\n\nHow about swatches for ordinal color scales? Both variable-width swatches and [column layout](https://developer.mozilla.org/en-US/docs/Web/CSS/columns) are supported."])))})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["blueberries","oranges","apples"],t.schemeCategory10)})})),n.variable(t()).define(["swatches","d3"],(function(e,t){return e({color:t.scaleOrdinal(["Wholesale and Retail Trade","Manufacturing","Leisure and hospitality","Business services","Construction","Education and Health","Government","Finance","Self-employed","Other"],t.schemeTableau10),columns:"180px"})})),n.variable(t()).define(["md"],(function(e){return e(_l||(_l=Object(xe.a)(["---\n\n## Implementation"])))})),n.variable(t("legend")).define("legend",["d3","ramp"],(function(e,t){return function(){var n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.color,i=a.title,o=a.tickSize,l=void 0===o?6:o,u=a.width,s=void 0===u?320:u,c=a.height,d=void 0===c?44+l:c,f=a.marginTop,p=void 0===f?18:f,m=a.marginRight,v=void 0===m?0:m,b=a.marginBottom,h=void 0===b?16+l:b,g=a.marginLeft,w=void 0===g?0:g,y=a.ticks,x=void 0===y?s/64:y,j=a.tickFormat,k=a.tickValues,O=e.create("svg").attr("width",s).attr("height",d).attr("viewBox",[0,0,s,d]).style("overflow","visible").style("display","block"),S=function(e){return e.selectAll(".tick line").attr("y1",p+h-d)};if(r.interpolate){var A=Math.min(r.domain().length,r.range().length);n=r.copy().rangeRound(e.quantize(e.interpolate(w,s-v),A)),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.copy().domain(e.quantize(e.interpolate(0,1),A))).toDataURL())}else if(r.interpolator){if(n=Object.assign(r.copy().interpolator(e.interpolateRound(w,s-v)),{range:function(){return[w,s-v]}}),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.interpolator()).toDataURL()),!n.ticks){if(void 0===k){var C=Math.round(x+1);k=e.range(C).map((function(t){return e.quantile(r.domain(),t/(C-1))}))}"function"!==typeof j&&(j=e.format(void 0===j?",f":j))}}else if(r.invertExtent){var M=r.thresholds?r.thresholds():r.quantiles?r.quantiles():r.domain(),P=void 0===j?function(e){return e}:"string"===typeof j?e.format(j):j;n=e.scaleLinear().domain([-1,r.range().length-1]).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.range()).join("rect").attr("x",(function(e,t){return n(t-1)})).attr("y",p).attr("width",(function(e,t){return n(t)-n(t-1)})).attr("height",d-p-h).attr("fill",(function(e){return e})),k=e.range(M.length),j=function(e){return P(M[e],e)}}else n=e.scaleBand().domain(r.domain()).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.domain()).join("rect").attr("x",n).attr("y",p).attr("width",Math.max(0,n.bandwidth()-1)).attr("height",d-p-h).attr("fill",r),S=function(){};return O.append("g").attr("transform","translate(0,".concat(d-h,")")).call(e.axisBottom(n).ticks(x,"string"===typeof j?j:void 0).tickFormat("function"===typeof j?j:void 0).tickSize(l).tickValues(k)).call(S).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.append("text").attr("x",w).attr("y",p+h-d-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)})),O.node()}})),n.variable(t("swatches")).define("swatches",["DOM","html","entity"],(function(e,t,n){return function(a){var r=a.color,i=a.columns,o=void 0===i?null:i,l=a.format,u=void 0===l?function(e){return e}:l,s=a.swatchSize,c=void 0===s?15:s,d=a.swatchWidth,f=void 0===d?c:d,p=a.swatchHeight,m=void 0===p?c:p,v=a.marginLeft,b=void 0===v?0:v,h=e.uid().id;return null!==o?t(Il||(Il=Object(xe.a)(['<div style="display: flex; align-items: center; margin-left: ','px; min-height: 33px; font: 10px sans-serif;">\n  <style>\n\n.',"-item {\n  break-inside: avoid;\n  display: flex;\n  align-items: center;\n  padding-bottom: 1px;\n}\n\n.","-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: calc(100% - ","px - 0.5em);\n}\n\n.","-swatch {\n  width: ","px;\n  height: ",'px;\n  margin: 0 0.5em 0 0;\n}\n\n  </style>\n  <div style="width: 100%; columns: ',';">',"\n  </div>\n</div>"])),+b,h,h,+f,h,+f,+m,o,r.domain().map((function(e){var a=u(e);return t(El||(El=Object(xe.a)(['<div class="','-item">\n      <div class="','-swatch" style="background:',';"></div>\n      <div class="','-label" title="','">',"</div>\n    </div>"])),h,h,r(e),h,a.replace(/["&]/g,n),document.createTextNode(a))}))):t(ql||(ql=Object(xe.a)(['<div style="display: flex; align-items: center; min-height: 33px; margin-left: ','px; font: 10px sans-serif;">\n  <style>\n\n.'," {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}\n\n.",'::before {\n  content: "";\n  width: ',"px;\n  height: ","px;\n  margin-right: 0.5em;\n  background: var(--color);\n}\n\n  </style>\n  <div>","</div>"])),+b,h,h,+f,+m,r.domain().map((function(e){return t(Vl||(Vl=Object(xe.a)(['<span class="','" style="--color: ','">',"</span>"])),h,r(e),document.createTextNode(u(e)))})))}})),n.variable(t("entity")).define("entity",(function(){return function(e){return"&#".concat(e.charCodeAt(0).toString(),";")}})),n.variable(t("ramp")).define("ramp",["DOM"],(function(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=e.canvas(n,1),r=a.getContext("2d"),i=0;i<n;++i)r.fillStyle=t(i/(n-1)),r.fillRect(i,0,1,1);return a}})),n.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),n}function Kl(e,t){var a=e.module(),r=new Map([["population@3.csv",n(118).default],["China_OLD.geojson",n(119).default]]);a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md"],(function(e){return e(Ul||(Ul=Object(xe.a)(["# China Province Population Map"])))})),a.variable(t("viewof year")).define("viewof year",["Inputs","data"],(function(e,t){return e.select(t.columns.slice(1,-2),{value:"2020",label:"Year"})})),a.variable(t("year")).define("year",["Generators","viewof year"],(function(e,t){return e.input(t)})),a.variable(t("viewof metrics")).define("viewof metrics",["Inputs"],(function(e){return e.radio(["Population","Deputies"],{value:"Population"})})),a.variable(t("metrics")).define("metrics",["Generators","viewof metrics"],(function(e,t){return e.input(t)})),a.variable(t("chart")).define("chart",["d3","width","height","legend","color","china","population","year","metrics","mutable province","x","year_list","y","xAxis","yAxis","margin","deputy","x2","gender_list","y2","xAxis2","yAxis2","callout","localStorage","format","format2"],(function(e,t,n,a,r,i,o,l,u,s,c,d,f,p,m,v,b,h,g,w,y,x,j,k,O,S){var A=e.create("svg").attr("viewBox",[0,0,t,n]);A.append("g").attr("transform","translate(10,20)").append((function(){return a({color:r,title:"Population",width:260,tickFormat:".2s"})}));var C=e.geoMercator().center([t>500?111.8:105,t>500?46.9:42]).translate([t>500?t/3:t/2,n/3]).scale(t>500?t/2.5:t/1.2),M=e.geoPath().projection(C);A.append("g").selectAll("path").data(i.features).enter().append("path").attr("class","province").attr("id",(function(e){return"Inner Mongolia"==e.properties.name?"Mongolia":"Hong Kong"==e.properties.name?"HK":e.properties.name})).attr("d",M).attr("stroke","white").attr("fill","white").transition().duration(200).ease(e.easeLinear).attr("fill",(function(e){return"Taiwan"!==e.properties.name?r(o.get(e.properties.name)[l-2011]):"#000000"})),"Population"==u?(A.append("g").attr("class","bar").selectAll("rect").data(o.get("".concat(0!=s.value.length?s.value:"Guangdong"))).join("rect").attr("x",(function(e,t){return c(d[t])})).attr("y",(function(e){return f(e)})).attr("height",(function(e){return f(0)-f(e)})).attr("width",c.bandwidth()).attr("fill","red"),A.append("g").call(p),A.append("g").call(m),A.append("text").attr("class","bartitle").attr("x",t>500?.75*t+v.left:t/2).attr("y",t>500?v.top:.6*n+v.top).attr("text-anchor","middle").style("font-size",16).style("font-weight","bold").text("".concat(u," of ").concat(0!=s.value.length?s.value:"Guangdong"))):(A.append("g").attr("class","bar").selectAll("rect").data(b.get("".concat(0!=s.value.length?s.value:"Guangxi"))).join("rect").attr("x",(function(e,t){return h(g[t])+h.bandwidth()/4})).attr("y",(function(e){return w(e)})).attr("height",(function(e){return w(0)-w(e)})).attr("width",h.bandwidth()/2).attr("fill","blue"),A.append("g").call(y),A.append("g").call(x),A.append("text").attr("class","bartitle").attr("x",t>500?.75*t+v.left:t/2).attr("y",t>500?v.top:.6*n+v.top).attr("text-anchor","middle").style("font-size",16).style("font-weight","bold").text("".concat(u," of ").concat(0!=s.value.length?s.value:"Guangxi")));var P=A.append("g");return A.selectAll(".province").on("touchmove click",(function(a,r){var i=o.get(r.properties.name)[l-2011],C=e.pointer(a,this);P.call(j,null);var M=JSON.parse(k.getItem("data"));null!=M&&("Inner Mongolia"==M?M[0]="Mongolia":"Hong Kong"==M&&(M[0]="HK"),e.select("#".concat(M[0])).attr("stroke","white").lower(),s.value=[]),s.value=s.value.concat([r.properties.name]),k.setItem("data",JSON.stringify(s.value)),P.call(j,"".concat(r.properties.name,"\nMale NPC deputies\uff1b").concat(b.get(r.properties.name)[0],"\nFemale NPC deputies: ").concat(b.get(r.properties.name)[1],"\n").concat(l," Population: ").concat("Taiwan"===r.properties.name?"N/A":O(i),"\nPopulation growth from last year: ").concat("Taiwan"===r.properties.name||2011==l?"N/A":S((i-o.get(r.properties.name)[l-2012])/o.get(r.properties.name)[l-2012]))),P.attr("transform","translate(".concat(C[1]>350?[C[0],C[1]-50]:C,")")),e.select(this).attr("stroke","red").raise(),"Population"==u?(e.selectAll(".bar").remove(),e.selectAll(".bartitle").remove(),A.append("g").attr("class","bar").selectAll("rect").data(o.get(r.properties.name)).join("rect").attr("x",(function(e,t){return c(d[t])})).attr("width",c.bandwidth()).attr("y",n-v.top).attr("height",0).transition().duration(200).ease(e.easeLinear).attr("y",(function(e){return f(e)})).attr("height",(function(e){return f(0)-f(e)})).attr("fill","red"),A.append("g").call(p),A.append("g").call(m),A.append("text").attr("class","bartitle").attr("x",t>500?.75*t+v.left:t/2).attr("y",t>500?v.top:.6*n+v.top).attr("text-anchor","middle").style("font-size",16).style("font-weight","bold").text("".concat(u," of ").concat(r.properties.name)),P.raise()):(e.selectAll(".bar").remove(),e.selectAll(".bartitle").remove(),A.append("g").attr("class","bar").attr("fill","blue").selectAll("rect").data(b.get(r.properties.name)).join("rect").attr("x",(function(e,t){return h(g[t])+h.bandwidth()/4})).attr("width",h.bandwidth()/2).attr("y",n-v.top).attr("height",0).transition().duration(200).ease(e.easeLinear).attr("y",(function(e){return w(e)})).attr("height",(function(e){return w(0)-w(e)})),A.append("g").call(y),A.append("g").call(x),A.append("text").attr("class","bartitle").attr("x",t>500?.75*t+v.left:t/2).attr("y",t>500?v.top:.6*n+v.top).attr("text-anchor","middle").style("font-size",16).style("font-weight","bold").text("".concat(u," of ").concat(r.properties.name)),P.raise())})),A.node()})),a.variable(t("x")).define("x",["d3","year_list","width","margin"],(function(e,t,n,a){return e.scaleBand().domain(t).range([n>500?n/2+a.left:a.left,n-a.right]).padding(.1)})),a.variable(t("x2")).define("x2",["d3","gender_list","width","margin"],(function(e,t,n,a){return e.scaleBand().domain(t).range([n>500?n/2+a.left:a.left,n-a.right]).padding(.1)})),a.variable(t("y")).define("y",["d3","population","height","margin","width"],(function(e,t,n,a,r){return e.scaleLinear().domain([0,e.max(t.get("Guangdong"))]).nice().range([n-a.bottom,r>500?a.top:a.top+.6*n])})),a.variable(t("y2")).define("y2",["d3","deputy","height","margin","width"],(function(e,t,n,a,r){return e.scaleLinear().domain([0,e.max(t.get("Guangxi"))]).nice().range([n-a.bottom,r>500?a.top:a.top+.6*n])})),a.variable(t("xAxis")).define("xAxis",["height","margin","d3","x"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(0,".concat(e-t.bottom,")")).attr("class","bar").call(n.axisBottom(a).tickSizeOuter(0))}})),a.variable(t("xAxis2")).define("xAxis2",["height","margin","d3","x2"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(0,".concat(e-t.bottom,")")).attr("class","bar").call(n.axisBottom(a).tickSizeOuter(0))}})),a.variable(t("yAxis")).define("yAxis",["width","margin","d3","y","y_format","height"],(function(e,t,n,a,r,i){return function(o){return o.attr("transform","translate(".concat(e>500?e/2+t.left:t.left,",0)")).attr("class","bar").call(n.axisLeft(a).ticks(null,r)).call((function(e){return e.select(".domain").remove()})).call((function(n){return n.append("text").attr("x",-t.left).attr("y",e>500?10:.62*i).attr("fill","black").attr("text-anchor","start").text("Population")}))}})),a.variable(t("yAxis2")).define("yAxis2",["width","margin","d3","y2","y_format","height"],(function(e,t,n,a,r,i){return function(o){return o.attr("transform","translate(".concat(e>500?e/2+t.left:t.left,",0)")).attr("class","bar").call(n.axisLeft(a).ticks(null,r)).call((function(e){return e.select(".domain").remove()})).call((function(n){return n.append("text").attr("x",-t.left).attr("y",e>500?10:.62*i).attr("fill","black").attr("text-anchor","start").text("Number of Deputies")}))}})),a.variable(t("year_list")).define("year_list",["data"],(function(e){return e.columns.slice(1,-2).reverse()})),a.variable(t("gender_list")).define("gender_list",["data"],(function(e){return e.columns.slice(-2)})),a.variable(t("population")).define("population",["data"],(function(e){return new Map(e.map((function(e){return[e.Delegation,[e[2011],e[2012],e[2013],e[2014],e[2015],e[2016],e[2017],e[2018],e[2019],e[2020]]]}))).set("Taiwan",["N/A","N/A","N/A","N/A","N/A","N/A","N/A","N/A","N/A","N/A"])})),a.variable(t("deputy")).define("deputy",["data"],(function(e){return new Map(e.map((function(e){return[e.Delegation,[e.Men,e.Women]]}))).set("Taiwan",["N/A","N/A"])})),a.variable(t("height")).define("height",["width"],(function(e){return e>500?420:550})),a.variable(t("data")).define("data",["d3","FileAttachment"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,n("population@3.csv").text();case 3:return e.t1=e.sent,e.t2=t.autoType,e.abrupt("return",e.t0.csvParse.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.variable(t("callout")).define("callout",(function(){return function(e,t){if(!t)return e.style("display","none");e.style("display",null).style("pointer-events","none").style("font","10px sans-serif");var n=e.selectAll("path").data([null]).join("path").attr("fill","white").attr("stroke","black"),a=e.selectAll("text").data([null]).join("text").call((function(e){return e.selectAll("tspan").data((t+"").split(/\n/)).join("tspan").attr("x",0).attr("y",(function(e,t){return"".concat(1.1*t,"em")})).style("font-weight",(function(e,t){return t?null:"bold"})).text((function(e){return e}))})),r=a.node().getBBox(),i=(r.x,r.y),o=r.width,l=r.height;a.attr("transform","translate(".concat(-o/2,",").concat(15-i,")")),n.attr("d","M".concat(-o/2-10,",5H").concat(o/2+10,"v").concat(l+20,"h-").concat(o+20,"z"))}})),a.variable(t("color")).define("color",["d3"],(function(e){return e.scaleQuantize([0,12e7],e.schemeBlues[7])})),a.variable(t("path")).define("path",["d3"],(function(e){return e.geoPath()})),a.variable(t("format")).define("format",["d3"],(function(e){return e.format(",")})),a.variable(t("format2")).define("format2",["d3"],(function(e){return e.format(".2%")})),a.variable(t("y_format")).define("y_format",["d3"],(function(e){return e.format("s")})),a.variable(t("china")).define("china",["FileAttachment"],(function(e){return e("China_OLD.geojson").json()})),a.variable(t("margin")).define("margin",(function(){return{top:30,right:30,bottom:30,left:40}})),a.define("initial province",["localStorage"],(function(e){return JSON.parse(e.getItem("data")||"[]")})),a.variable(t("mutable province")).define("mutable province",["Mutable","initial province"],(function(e,t){return new e(t)})),a.variable(t("province")).define("province",["mutable province"],(function(e){return e.generator}));var i=e.module(Xl);a.import("localStorage",i);var o=e.module(Jl);return a.import("legend",o),a.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),a}var Ql,Zl,$l,eu,tu,nu,au,ru,iu,ou,lu,uu,su,cu,du=function(e){var t=e.width,n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=Object(a.useState)(),u=Object(o.a)(l,2),s=u[0],d=u[1];return Object(a.useEffect)((function(){var e=new he.b,t=e.module(Kl,(function(e){return"viewof year"===e?new he.a(n.current):"viewof metrics"===e?new he.a(r.current):"chart"===e?new he.a(i.current):void 0}));return d(t),function(){d(void 0),e.dispose()}}),[]),Object(a.useEffect)((function(){void 0!==s&&s.redefine("width",t)}),[t,s]),Object(c.jsxs)("div",{className:"".concat(t>500?null:"order"),children:[Object(c.jsx)("div",{ref:n,className:"".concat(t>500?"year":"year-mobile")}),Object(c.jsx)("div",{ref:r,className:"".concat(t>500?"deputy":"deputy-mobile")}),Object(c.jsx)("div",{ref:i,className:"".concat(t>500?null:"chart")})]})};function fu(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(Ql||(Ql=Object(xe.a)(["# Scrubber\n\nThis reusable input is intended to drive animations while providing the reader interactive control on demand: the animation pauses when the user interacts with the slider, but can be resumed by clicking the play button. For examples, see [Bar Chart Race](/@mbostock/bar-chart-race-with-scrubber), [The Wealth & Health of Nations](/@mbostock/the-wealth-health-of-nations), [Solar Path](/@mbostock/solar-path), or [Animated Treemap](/@d3/animated-treemap)."])))})),n.variable(t()).define(["md"],(function(e){return e(Zl||(Zl=Object(xe.a)(['To use in your notebook:\n\n~~~js\nimport {Scrubber} from "@mbostock/scrubber"\n~~~\n'])))})),n.variable(t("viewof i")).define("viewof i",["Scrubber","numbers"],(function(e,t){return e(t)})),n.variable(t("i")).define("i",["Generators","viewof i"],(function(e,t){return e.input(t)})),n.variable(t("numbers")).define("numbers",(function(){return Array.from({length:256},(function(e,t){return t}))})),n.variable(t()).define(["md","i"],(function(e,t){return e($l||($l=Object(xe.a)(["The current value of *i* is ","."])),t)})),n.variable(t()).define(["md"],(function(e){return e(eu||(eu=Object(xe.a)(["Given an array of *values* representing the discrete frames of the animation, such as an array of numbers or dates, Scrubber returns a [view-compatible input](/@observablehq/introduction-to-views). (It uses the [disposal promise](/@mbostock/disposal) to stop the animation automatically on invalidation.)"])))})),n.variable(t()).define(["md"],(function(e){return e(tu||(tu=Object(xe.a)(["## Options\n\nScrubber has several options which you can pass as the second argument."])))})),n.variable(t("autoplay")).define("autoplay",["md"],(function(e){return e(nu||(nu=Object(xe.a)(["The *autoplay* option, which defaults to true, specifies whether the animation plays automatically. Set it to false to require the reader to click on the play button."])))})),n.variable(t()).define(["Scrubber","numbers"],(function(e,t){return e(t,{autoplay:!1})})),n.variable(t("loop")).define("loop",["md"],(function(e){return e(au||(au=Object(xe.a)(["The *loop* option, which defaults to true, specifies whether the animation should automatically restart from the beginning after the end is reached. Set it to false to require the reader to click the play button to restart the animation after it ends."])))})),n.variable(t()).define(["Scrubber","numbers"],(function(e,t){return e(t,{loop:!1})})),n.variable(t()).define(["md"],(function(e){return e(ru||(ru=Object(xe.a)(["The *alternate* option, which defaults to false, specifies whether the animation should reverse direction when it reaches the end, rather than repeat from the start."])))})),n.variable(t()).define(["Scrubber","numbers"],(function(e,t){return e(t,{loop:!1,alternate:!0})})),n.variable(t("delay")).define("delay",["md"],(function(e){return e(iu||(iu=Object(xe.a)(["The *delay* option, which defaults to null, specifies how long to wait between frames in milliseconds. A null value means to use [requestAnimationFrame](https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame), which typically means sixty times per second (about 17ms). Non-null delays use [setInterval](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval)."])))})),n.variable(t()).define(["Scrubber"],(function(e){return e(["red","green","blue"],{delay:1e3})})),n.variable(t("loopDelay")).define("loopDelay",["md"],(function(e){return e(ou||(ou=Object(xe.a)(["The *loopDelay* option, which defaults to 0, specifies how long to wait before looping in milliseconds. This can be paired with the *initial* option to show the ending value before the animation starts anew from the beginning."])))})),n.variable(t()).define(["Scrubber","numbers"],(function(e,t){return e(t,{initial:t.length-1,loopDelay:1e3})})),n.variable(t("format")).define("format",["md"],(function(e){return e(lu||(lu=Object(xe.a)(["The *format* option, which defaults to the identity function, specifies how to display the currently-selected value. The *format* function is passed the current value, the current (zero-based) index, and the values array."])))})),n.variable(t("dates")).define("dates",(function(){return Array.from({length:365},(function(e,t){var n=new Date(2019,0,1);return n.setDate(t+1),n}))})),n.variable(t("viewof date")).define("viewof date",["Scrubber","dates"],(function(e,t){return e(t,{autoplay:!1,format:function(e){return e.toLocaleString("en",{month:"long",day:"numeric"})}})})),n.variable(t("date")).define("date",["Generators","viewof date"],(function(e,t){return e.input(t)})),n.variable(t()).define(["md"],(function(e){return e(uu||(uu=Object(xe.a)(["If you have suggestions for other options you\u2019d like to see, please let me know!"])))})),n.variable(t()).define(["md"],(function(e){return e(su||(su=Object(xe.a)(["---\n\n## Implementation"])))})),n.variable(t("Scrubber")).define("Scrubber",["html","Inputs"],(function(e,t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.format,i=void 0===r?function(e){return e}:r,o=a.initial,l=void 0===o?0:o,u=a.delay,s=void 0===u?null:u,c=a.autoplay,d=void 0===c||c,f=a.loop,p=void 0===f||f,m=a.loopDelay,v=void 0===m?null:m,b=a.alternate,h=void 0!==b&&b;n=Array.from(n);var g=e(cu||(cu=Object(xe.a)(['<form style="font: 12px var(--sans-serif); font-variant-numeric: tabular-nums; display: flex; height: 33px; align-items: center;">\n  <button name=b type=button style="margin-right: 0.4em; width: 5em;"></button>\n  <label style="display: flex; align-items: center;">\n    <input name=i type=range min=0 max='," value=",' step=1 style="width: 180px;">\n    <output name=o style="margin-left: 0.4em;"></output>\n  </label>\n</form>'])),n.length-1,l),w=null,y=null,x=null,j=1;function k(){g.b.textContent="Pause",null===s?w=requestAnimationFrame(A):x=setInterval(A,s)}function O(){g.b.textContent="Play",null!==w&&(cancelAnimationFrame(w),w=null),null!==y&&(clearTimeout(y),y=null),null!==x&&(clearInterval(x),x=null)}function S(){return null!==w||null!==y||null!==x}function A(){if(g.i.valueAsNumber===(j>0?n.length-1:j<0?0:NaN)){if(!p)return O();if(h&&(j=-j),null!==v)return null!==w&&(cancelAnimationFrame(w),w=null),null!==x&&(clearInterval(x),x=null),void(y=setTimeout((function(){return C(),k()}),v))}null===s&&(w=requestAnimationFrame(A)),C()}function C(){g.i.valueAsNumber=(g.i.valueAsNumber+j+n.length)%n.length,g.i.dispatchEvent(new CustomEvent("input",{bubbles:!0}))}return g.i.oninput=function(e){e&&e.isTrusted&&S()&&O(),g.value=n[g.i.valueAsNumber],g.o.value=i(g.value,g.i.valueAsNumber,n)},g.b.onclick=function(){if(S())return O();j=h&&g.i.valueAsNumber===n.length-1?-1:1,g.i.valueAsNumber=(g.i.valueAsNumber+j)%n.length,g.i.dispatchEvent(new CustomEvent("input",{bubbles:!0})),k()},g.i.oninput(),d?k():O(),t.disposal(g).then(O),g}})),n}var pu,mu,vu,bu,hu,gu,wu,yu,xu,ju,ku,Ou,Su,Au,Cu,Mu,Pu,Du,Tu,zu,Nu,Fu,Gu=n(45);function Lu(e,t){var n=e.module();return n.variable(t()).define(["md"],(function(e){return e(pu||(pu=Object(xe.a)(['# Color Legend\n\nA simple legend for a [color scale](/@d3/color-schemes). Supports [continuous](/@d3/continuous-scales), [sequential](/@d3/sequential-scales), [diverging](/@d3/diverging-scales), [quantize, quantile, threshold](/@d3/quantile-quantize-and-threshold-scales) and [ordinal](/@d3/d3-scaleordinal) scales. To use:\n\n~~~js\nimport {Legend, Swatches} from "@d3/color-legend"\n~~~\n\nThen call the legend function as shown below. (For ordinal scales, also consider the swatches function.)'])))})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleSequential([0,100],t.interpolateViridis),{title:"Temperature (\xb0F)"})})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleSequentialSqrt([0,1],t.interpolateTurbo),{title:"Speed (kts)"})})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleDiverging([-.1,0,.1],t.interpolatePiYG),{title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleDivergingSqrt([-.1,0,.1],t.interpolateRdBu),{title:"Daily change",tickFormat:"+%"})})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleSequentialLog([1,100],t.interpolateBlues),{title:"Energy (joules)",ticks:10,tickFormat:".0s"})})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleSequentialQuantile(t.range(100).map((function(){return Math.pow(Math.random(),2)})),t.interpolateBlues),{title:"Quantile",tickFormat:".2f"})})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleSqrt([-100,0,100],["blue","white","red"]),{title:"Temperature (\xb0C)"})})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleQuantize([1,10],t.schemePurples[9]),{title:"Unemployment rate (%)"})})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleQuantile(t.range(1e3).map(t.randomNormal(100,20)),t.schemeSpectral[9]),{title:"Height (cm)",tickFormat:".0f"})})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleThreshold([2.5,3.1,3.5,3.9,6,7,8,9.5],t.schemeRdBu[9]),{title:"Unemployment rate (%)",tickSize:0})})),n.variable(t()).define(["Legend","d3"],(function(e,t){return e(t.scaleOrdinal(["<10","10-19","20-29","30-39","40-49","50-59","60-69","70-79","\u226580"],t.schemeSpectral[10]),{title:"Age (years)",tickSize:0})})),n.variable(t()).define(["md"],(function(e){return e(mu||(mu=Object(xe.a)(["But wait, there\u2019s more!\n\nHow about swatches for ordinal color scales? Both variable-width swatches and [column layout](https://developer.mozilla.org/en-US/docs/Web/CSS/columns) are supported."])))})),n.variable(t()).define(["Swatches","d3"],(function(e,t){return e(t.scaleOrdinal(["blueberries","oranges","apples"],t.schemeCategory10))})),n.variable(t()).define(["Swatches","d3"],(function(e,t){return e(t.scaleOrdinal(["Wholesale and Retail Trade","Manufacturing","Leisure and hospitality","Business services","Construction","Education and Health","Government","Finance","Self-employed","Other"],t.schemeTableau10),{columns:"180px"})})),n.variable(t()).define(["md"],(function(e){return e(vu||(vu=Object(xe.a)(["---\n\n## Implementation"])))})),n.variable(t("legend")).define("legend",["d3","ramp"],(function(e,t){return function(){var n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.color,i=a.title,o=a.tickSize,l=void 0===o?6:o,u=a.width,s=void 0===u?320:u,c=a.height,d=void 0===c?44+l:c,f=a.marginTop,p=void 0===f?18:f,m=a.marginRight,v=void 0===m?0:m,b=a.marginBottom,h=void 0===b?16+l:b,g=a.marginLeft,w=void 0===g?0:g,y=a.ticks,x=void 0===y?s/64:y,j=a.tickFormat,k=a.tickValues,O=e.create("svg").attr("width",s).attr("height",d).attr("viewBox",[0,0,s,d]).style("overflow","visible").style("display","block"),S=function(e){return e.selectAll(".tick line").attr("y1",p+h-d)};if(r.interpolate){var A=Math.min(r.domain().length,r.range().length);n=r.copy().rangeRound(e.quantize(e.interpolate(w,s-v),A)),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.copy().domain(e.quantize(e.interpolate(0,1),A))).toDataURL())}else if(r.interpolator){if(n=Object.assign(r.copy().interpolator(e.interpolateRound(w,s-v)),{range:function(){return[w,s-v]}}),O.append("image").attr("x",w).attr("y",p).attr("width",s-w-v).attr("height",d-p-h).attr("preserveAspectRatio","none").attr("xlink:href",t(r.interpolator()).toDataURL()),!n.ticks){if(void 0===k){var C=Math.round(x+1);k=e.range(C).map((function(t){return e.quantile(r.domain(),t/(C-1))}))}"function"!==typeof j&&(j=e.format(void 0===j?",f":j))}}else if(r.invertExtent){var M=r.thresholds?r.thresholds():r.quantiles?r.quantiles():r.domain(),P=void 0===j?function(e){return e}:"string"===typeof j?e.format(j):j;n=e.scaleLinear().domain([-1,r.range().length-1]).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.range()).join("rect").attr("x",(function(e,t){return n(t-1)})).attr("y",p).attr("width",(function(e,t){return n(t)-n(t-1)})).attr("height",d-p-h).attr("fill",(function(e){return e})),k=e.range(M.length),j=function(e){return P(M[e],e)}}else n=e.scaleBand().domain(r.domain()).rangeRound([w,s-v]),O.append("g").selectAll("rect").data(r.domain()).join("rect").attr("x",n).attr("y",p).attr("width",Math.max(0,n.bandwidth()-1)).attr("height",d-p-h).attr("fill",r),S=function(){};return O.append("g").attr("transform","translate(0,".concat(d-h,")")).call(e.axisBottom(n).ticks(x,"string"===typeof j?j:void 0).tickFormat("function"===typeof j?j:void 0).tickSize(l).tickValues(k)).call(S).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.append("text").attr("x",w).attr("y",p+h-d-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").attr("class","title").text(i)})),O.node()}})),n.variable(t("Legend")).define("Legend",["legend"],(function(e){return function(t,n){return e(Object(Gu.a)(Object(Gu.a)({},n),{},{color:t}))}})),n.variable(t("ramp")).define("ramp",(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=document.createElement("canvas");n.width=t,n.height=1;for(var a=n.getContext("2d"),r=0;r<t;++r)a.fillStyle=e(r/(t-1)),a.fillRect(r,0,1,1);return n}})),n.variable(t("swatches")).define("swatches",["htl","entity"],(function(e,t){return function n(a){var r=a.color,i=a.columns,o=void 0===i?null:i,l=a.format,u=void 0===l?function(e){return e}:l,s=a.swatchSize,c=void 0===s?15:s,d=a.swatchWidth,f=void 0===d?c:d,p=a.swatchHeight,m=void 0===p?c:p,v=a.marginLeft,b=void 0===v?0:v,h="O-".concat(n._id=(n._id||0)+1);return null!==o?e.html(bu||(bu=Object(xe.a)(['<div style="display: flex; align-items: center; margin-left: ','px; min-height: 33px; font: 10px sans-serif;">\n  <style>\n\n.',"-item {\n  break-inside: avoid;\n  display: flex;\n  align-items: center;\n  padding-bottom: 1px;\n}\n\n.","-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: calc(100% - ","px - 0.5em);\n}\n\n.","-swatch {\n  width: ","px;\n  height: ",'px;\n  margin: 0 0.5em 0 0;\n}\n\n  </style>\n  <div style="width: 100%; columns: ',';">',"\n  </div>\n</div>"])),+b,h,h,+f,h,+f,+m,o,r.domain().map((function(n){var a=u(n);return e.html(hu||(hu=Object(xe.a)(['<div class="','-item">\n      <div class="','-swatch" style="background:',';"></div>\n      <div class="','-label" title="','">',"</div>\n    </div>"])),h,h,r(n),h,a.replace(/["&]/g,t),a)}))):e.html(gu||(gu=Object(xe.a)(['<div style="display: flex; align-items: center; min-height: 33px; margin-left: ','px; font: 10px sans-serif;">\n  <style>\n\n.'," {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}\n\n.",'::before {\n  content: "";\n  width: ',"px;\n  height: ","px;\n  margin-right: 0.5em;\n  background: var(--color);\n}\n\n  </style>\n  <div>","</div>"])),+b,h,h,+f,+m,r.domain().map((function(t){return e.html(wu||(wu=Object(xe.a)(['<span class="','" style="--color: ','">',"</span>"])),h,r(t),u(t))})))}})),n.variable(t("Swatches")).define("Swatches",["swatches"],(function(e){return function(t,n){return e(Object(Gu.a)(Object(Gu.a)({},n),{},{color:t}))}})),n.variable(t("entity")).define("entity",(function(){return function(e){return"&#".concat(e.charCodeAt(0).toString(),";")}})),n}function Ru(e,t){var a=e.module(),r=new Map([["seats_by_women@1.json",n(120).default],["candidates2020.json",n(121).default],["countries-50m.json",n(122).default],["leader.csv",n(123).default],["age.csv",n(124).default],["newcomer@1.csv",n(125).default],["Race.jpg",n(126).default],["Party.jpg",n(127).default]]);a.builtin("FileAttachment",e.fileAttachments((function(e){return r.get(e)}))),a.variable(t()).define(["md"],(function(e){return e(yu||(yu=Object(xe.a)(["# More Women Ran for Political Office in Singapore\n## Singapore still has a long way to go compared to other countries in the world\nCandidate profile data in the 2020 Singaporean general election show Singapore is witnessing a growing female representation. But globally, some countries already have over 40% of seats held by women in the parliament. while Singapore has slightly over 20% in 2019."])))})),a.variable(t("title1")).define("title1",["md"],(function(e){return e(xu||(xu=Object(xe.a)(["### Candidate Profile in 2020 Singaporean General Election"])))})),a.variable(t("viewof profile")).define("viewof profile",["Inputs"],(function(e){return e.radio(["Age","Seniority","Role"],{value:"Age",label:"Category"})})),a.variable(t("profile")).define("profile",["Generators","viewof profile"],(function(e,t){return e.input(t)})),a.variable(t("barkey")).define("barkey",["legend","barcolor"],(function(e,t){return e({color:t,title:"Gender of Candidates"})})),a.variable(t("barchart")).define("barchart",["d3","width","height","series","barcolor","x","profile","y","xAxis","yAxis","margin","callout","formatValue"],(function(e,t,n,a,r,i,o,l,u,s,c,d,f){var p=e.create("svg").attr("viewBox",[0,0,t,n]);p.append("g").selectAll("g").data(a).join("g").attr("fill",(function(e){return r(e.key)})).selectAll("rect").data((function(e){return e})).join("rect").attr("class","bar").attr("x",(function(e,t){return i(e.data[o])})).attr("y",(function(e){return l(e[1])})).attr("height",(function(e){return l(e[0])-l(e[1])})).attr("width",i.bandwidth()),p.append("g").call(u),p.append("g").call(s),"Age"==o&&(p.append("line").style("stroke","#000000").style("stroke-width",1).attr("x1",i(50)+i.bandwidth()/2+.119*i.bandwidth()/2).attr("y1",c.top).attr("x2",i(50)+i.bandwidth()/2+.119*i.bandwidth()/2).attr("y2",n-c.bottom),p.append("text").attr("x",i(50)+i.bandwidth()).attr("y",c.top-5).attr("dy","0em").attr("text-anchor","start").attr("font-size",12).text("Male Candidates"),p.append("text").attr("x",i(50)+i.bandwidth()).attr("y",c.top-5).attr("dy","1em").attr("text-anchor","start").attr("font-size",12).text("Mean Age: 50.1"),p.append("line").style("stroke","#000000").style("stroke-width",1).attr("x1",i(45)+i.bandwidth()/2+.175*i.bandwidth()/2).attr("y1",c.top).attr("x2",i(45)+i.bandwidth()/2+.175*i.bandwidth()/2).attr("y2",n-c.bottom),p.append("text").attr("x",i(45)).attr("y",c.top-5).attr("dy","0em").attr("text-anchor","end").attr("font-size",12).text("Female Candidates"),p.append("text").attr("x",i(45)).attr("y",c.top-5).attr("dy","1em").attr("text-anchor","end").attr("font-size",12).text("Mean Age: 45.2"));var m=p.append("g");return p.selectAll(".bar").on("touchmove mousemove",(function(t,n){var a=e.pointer(t,this);m.call(d,"".concat(o,": ").concat(n.data[o],"\nGender: ").concat(n.key,"\nNumber of Candidates: ").concat(f(n.data[n.key]))),m.attr("transform","translate(".concat(a[1]>350?[a[0],a[1]-50]:a,")")),e.select(this).attr("stroke","red").raise()})).on("touchend mouseleave",(function(){m.call(d,null),e.select(this).attr("stroke",null).lower()})),p.node()})),a.variable(t()).define(["md"],(function(e){return e(ju||(ju=Object(xe.a)(["### More Female Candidates in Singapore\n\nIn recent years, women start to play a more and more important role in Singapore politics and more young women have decided to run for political office for the first time. Data from the 2020 Singaporean general election show that the average age of female candidates was 45.2, almost five years younger than male candidates. Meanwhile, among the new candidates, 24.7% of them are female. Only 18.3% of experienced candidates are women.\n\nSingapore still has a long way to go when it comes to gender equality. There are not a lot of female party leaders in the parliament. Only 5.4% of party leaders are women, while 24.5% of non-leaders are women.\n"])))})),a.variable(t("title2")).define("title2",["md"],(function(e){return e(ku||(ku=Object(xe.a)(["### Women Representation in National Parliaments Around the World (1990-2019)"])))})),a.variable(t("viewof year")).define("viewof year",["Scrubber","years"],(function(e,t){return e(t,{delay:500,loop:!1,autoplay:!1})})),a.variable(t("year")).define("year",["Generators","viewof year"],(function(e,t){return e.input(t)})),a.variable(t()).define(["legend","color","data"],(function(e,t,n){return e({color:t,title:n.get("China")["Indicator Name"]})})),a.variable(t("dataviz")).define("dataviz",["d3","width","height","countries","data","year","color","path","topojson","world","callout"],(function(e,t,n,a,r,i,o,l,u,s,c){var d=e.create("svg").style("display","block").attr("viewBox",[0,0,t,n]),f=d.append("g");f.append("g").selectAll("path").data(a.features).join("path").attr("class","country").attr("fill",(function(e){return r.get(e.properties.name)&&r.get(e.properties.name)[i]?o(r.get(e.properties.name)[i]):"#ccc"})).attr("d",l).attr("stroke","white").attr("stroke-width",.2).attr("stroke-linejoin","round"),f.append("path").datum(u.mesh(s,s.objects.countries,(function(e,t){return e!==t}))).attr("fill","none").attr("d",l);var p=d.append("g");d.selectAll(".country").on("touchmove mousemove",(function(t,n){r.get(n.properties.name)[i]?p.call(c,"".concat(n.properties.name,"\n  ").concat(i,": ").concat(r.get(n.properties.name)[i],"%")):p.call(c,"".concat(n.properties.name,"\n  ").concat(i,": N/A")),p.attr("transform","translate(".concat(e.pointer(t,this),")")),e.select(this).attr("stroke","red").raise()})).on("touchend mouseleave",(function(){p.call(c,null),e.select(this).attr("stroke",null).lower()}));var m=e.zoom().scaleExtent([1,8]).translateExtent([[0,0],[t,n]]).on("zoom",(function(e){f.selectAll("path").attr("transform",e.transform),p.attr("transform",e.transform)}));return d.call(m),d.node()})),a.variable(t()).define(["md"],(function(e){return e(Ou||(Ou=Object(xe.a)(["### Women in National Parliaments Around the World\nThe rise of women's voices in politics has been a trend in Singapore and around the world. \n\nBack in 1990, over 30% of seats in national parliaments of Scandinavian countries were women, while some other countries had 0 women in their parliament. Women only held 4.9% of the seat in the Parliament of Singapore back then, lower than the world average (12.7%).\n\nAfter that, quite a few Latin American and African countries started to catch up. For example, in 2003, women held over 30% of seats in Cuba, and Mexico reached the 30% benchmark in 2012. Meanwhile, in Singapore, Lim Hwee Hua became the first female Cabinet minister in 2009.\n\nBy 2019, European, Latin American, and African countries have more women in national parliaments than the rest of the world. Among them, Bolivia, Cuba, and Rwanda have more women than men in their national parliaments. In East and Southeast Asia, Singapore, China, Vietnam, Laos, and Phillippines are the countries with higher female representations in the parliament. On the other hand, Japan and Myanmar are on the lower side."])))})),a.variable(t()).define(["md"],(function(e){return e(Su||(Su=Object(xe.a)(["### Sketch \nFor the rest of my story, I would like to explore the following points:\n1. Collect more data about education and [gender equality](http://hdr.undp.org/en/content/gender-development-index-gdi) to answer why more women chose to run for office in Singapore over the years.\n2. Briefly review the history of women in Singapore politics. Some female Singaporean politicians like Lim Hwee Hua are going to be used as examples. I would like to create a timeline like [my article at USA Today](https://www.usatoday.com/pages/interactives/women-suffrage-timeline/) to mark the important time points.\n3. Explore the relationship between race and gender or party and gender for the candidates. I created a few data visualisations on Tableau but only found that there is a high percentage of women among Chinese-origin candidates and candidates from the People's Action Party. I probably need to collect more historical data to answer why. (Tableau visualisations are attached)\n"])))})),a.variable(t()).define(["html","FileAttachment"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Au||(Au=Object(xe.a)(['<img src="','" style="height: 200px"/>'])),e.next=4,n("Party.jpg").url();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.variable(t()).define(["html","FileAttachment"],function(){var e=Object(ye.a)(we.a.mark((function e(t,n){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Cu||(Cu=Object(xe.a)(['<img src="','" style="height: 200px"/>'])),e.next=4,n("Race.jpg").url();case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.variable(t()).define(["md"],(function(e){return e(Mu||(Mu=Object(xe.a)(["### Questions\n1. Among all these candidates, who eventually lost and who won the election. I could download the data about the result of the election to compare the successful candidates with lost ones. I can also use the existing background data to further analyze candidates with what background is favored by voters.\n2. What made the women's representation in Latin American and African countries grow so fast in recent years. I would use some countries as examples and read more about their history to answer the question.\n3. I found it interesting that a lot of candidates come from business or law industry. I could look into the percentage of candidates coming from these two industries in the previous elections and visualise the percentage changes over the years. Given that business and law are two fields traditionally dominated by men, it will be interesting to compare the female candidates to male candidates with their background or occupation.\n"])))})),a.variable(t()).define(["md"],(function(e){return e(Pu||(Pu=Object(xe.a)(["### Issues\n1. When users zoom into the map, the locations of the tooltips change and become not accurate. If I have time, I would add a transform function to move tooltips when readers zoom in and zoom out.\n2. When users pan on the map, they can easily move away from the map. I would like to set a boundary to the map panning if I have time.\n3. I was thinking about directly using Javascript to process the data. However, I found it much easier to use Excel to group the data and upload the processed version to Observable. I also believe that reduces the loading time of the notebook because JavaScript is not supposed to be used for data analysis.\n"])))})),a.variable(t()).define(["md"],(function(e){return e(Du||(Du=Object(xe.a)(["### Your aim is ... \n\nUsing this data and data you can collect on other general elections in the region, provide a quick story that focuses on **Singapore\u2019s female candidates** and gender representation in parliaments around the world.\n\nPlease include:\n* A completed data visualisation that would be the feature of the piece.\n* Headline, deck, and any subheadings where needed. Write at least 1 or 2 paragraphs where necessary.\n* A sketch or rough plan on other points you would explore in the story.\n* Highlight at least 3 other questions you might ask of the data and some ideas on how to answer them. Imagine you have time & space to include these in the main story, or even propose some as a separate article.\n* Point out at least two issues you encounter and how you might resolve them, given time and resources."])))})),a.variable(t()).define(["md"],(function(e){return e(Tu||(Tu=Object(xe.a)(["### Variables"])))})),a.variable(t("series")).define("series",["choose_dataset","profile"],(function(e,t){return e(t)})),a.variable(t("x")).define("x",["choose_xaxis","profile"],(function(e,t){return e(t)})),a.variable(t("y")).define("y",["d3","series","height","margin"],(function(e,t,n,a){return e.scaleLinear().domain([0,e.max(t,(function(t){return e.max(t,(function(e){return e[1]}))}))]).rangeRound([n-a.bottom,a.top])})),a.variable(t("barcolor")).define("barcolor",["d3","series"],(function(e,t){return e.scaleOrdinal().domain(t.map((function(e){return e.key}))).range(["#f98cae","#8CF9D7"]).unknown("#ccc")})),a.variable(t("xAxis")).define("xAxis",["height","margin","d3","x"],(function(e,t,n,a){return function(r){return r.attr("transform","translate(0,".concat(e-t.bottom,")")).call(n.axisBottom(a).tickSizeOuter(0)).call((function(e){return e.selectAll(".domain").remove()}))}})),a.variable(t("yAxis")).define("yAxis",["margin","d3","y"],(function(e,t,n){return function(a){return a.attr("transform","translate(".concat(e.left,",0)")).call(t.axisLeft(n).ticks(null,"s")).call((function(e){return e.selectAll(".domain").remove()})).call((function(t){return t.append("text").attr("x",-e.left).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text("Number of Candidates")}))}})),a.variable(t("formatValue")).define("formatValue",(function(){return function(e){return isNaN(e)?"N/A":e.toLocaleString("en")}})),a.variable(t("margin")).define("margin",(function(){return{top:30,right:10,bottom:20,left:40}})),a.variable(t("height")).define("height",["d3","projection","width","outline"],(function(e,t,n,a){var r=e.geoPath(t.fitWidth(n,a)).bounds(a),i=Object(o.a)(r,2),l=Object(o.a)(i[0],2),u=l[0],s=l[1],c=Object(o.a)(i[1],2),d=c[0],f=c[1],p=Math.ceil(f-s),m=Math.min(Math.ceil(d-u),p);return t.scale(t.scale()*(m-1)/m).precision(.2),p})),a.variable(t("outline")).define("outline",(function(){return{type:"Sphere"}})),a.variable(t("path")).define("path",["d3","projection"],(function(e,t){return e.geoPath(t)})),a.variable(t("color")).define("color",["d3"],(function(e){return e.scaleSequential().domain(e.extent([0,60])).interpolator(e.interpolateRdPu)})),a.variable(t("countries")).define("countries",["topojson","world"],(function(e,t){return e.feature(t,t.objects.countries)})),a.variable(t("projection")).define("projection",["d3"],(function(e){return e.geoNaturalEarth1()})),a.variable(t("years")).define("years",["seatsByWomen"],(function(e){return Object.keys(e[0]).slice(30,-4)})),a.variable(t("callout")).define("callout",(function(){return function(e,t){if(!t)return e.style("display","none");e.style("display",null).style("pointer-events","none").style("font","10px sans-serif");var n=e.selectAll("path").data([null]).join("path").attr("fill","white").attr("stroke","black"),a=e.selectAll("text").data([null]).join("text").call((function(e){return e.selectAll("tspan").data((t+"").split(/\n/)).join("tspan").attr("x",0).attr("y",(function(e,t){return"".concat(1.1*t,"em")})).text((function(e){return e}))})),r=a.node().getBBox(),i=(r.x,r.y),o=r.width,l=r.height;a.attr("transform","translate(".concat(-o/2,",").concat(15-i,")")),n.attr("d","M".concat(-o/2-10,",5H").concat(o/2+10,"v").concat(l+20,"h-").concat(o+20,"z"))}})),a.variable(t("data")).define("data",["process_data","seatsByWomen"],(function(e,t){return e(t)})),a.variable(t("rename")).define("rename",(function(){return new Map([["Antigua and Barbuda","Antigua and Barb."],["Bolivia (Plurinational State of)","Bolivia"],["Bosnia and Herzegovina","Bosnia and Herz."],["Brunei Darussalam","Brunei"],["Central African Republic","Central African Rep."],["Cook Islands","Cook Is."],["Korea, Dem. People\u2019s Rep.","North Korea"],["Congo, Dem. Rep.","Dem. Rep. Congo"],["Dominican Republic","Dominican Rep."],["Equatorial Guinea","Eq. Guinea"],["Iran, Islamic Rep.","Iran"],["Lao PDR","Laos"],["Marshall Islands","Marshall Is."],["Micronesia (Federated States of)","Micronesia"],["Korea, Rep.","South Korea"],["Republic of Moldova","Moldova"],["Russian Federation","Russia"],["Saint Kitts and Nevis","St. Kitts and Nevis"],["St. Vincent and the Grenadines","St. Vin. and Gren."],["Sao Tome and Principe","S\xe3o Tom\xe9 and Principe"],["Solomon Islands","Solomon Is."],["South Sudan","S. Sudan"],["Swaziland","eSwatini"],["Syrian Arab Republic","Syria"],["The former Yugoslav Republic of Macedonia","Macedonia"],["United Republic of Tanzania","Tanzania"],["Venezuela (Bolivarian Republic of)","Venezuela"],["Viet Nam","Vietnam"],["Yemen, Rep.","Yemen"],["Venezuela, RB","Venezuela"],["Micronesia, Fed. Sts.","Micronesia"],["Northern Mariana Islands","N. Mariana Is"],["Virgin Islands (U.S.)","U.S. Virgin Is."],["United States","United States of America"],["Cayman Islands","Cayman Is."],["British Virgin Islands","British Virgin Is."],["Turks and Caicos Islands","Turks and Caicos Is."],["Eswatini","eSwatini"],["Slovak Republic","Slovakia"],["St. Lucia","Saint Lucia"],["Curacao","Cura\xe7ao"],["North Macedonia","Macedonia"],["Kyrgyz Republic","Kyrgyzstan"],["Gambia, The","Gambia"],["St. Martin (French part)","St-Martin"],["French Polynesia","Fr. Polynesia"],["Egypt, Arab Rep.","Egypt"],["Czech","Czechia"],["Congo, Rep.","Congo"],["Bahamas, The","Bahamas"],["Hong Kong SAR, China","Hong Kong"],["Macao SAR, China","Macao"],["Sint Maarten (Dutch part)","Sint Maarten"]])})),a.variable(t()).define(["test"],(function(e){return e()})),a.variable(t()).define(["md"],(function(e){return e(zu||(zu=Object(xe.a)(["### Functions"])))})),a.variable(t("process_data")).define("process_data",["rename"],(function(e){return function(t){var n=new Map;return t.forEach((function(t){n.set(e.get(t["Country Name"])?e.get(t["Country Name"]):t["Country Name"],t)})),n}})),a.variable(t("test")).define("test",["countries","data"],(function(e,t){return function(){var n=[];return e.features.forEach((function(e){t.get(e.properties.name)||n.push(e.properties.name)})),n}})),a.variable(t("choose_dataset")).define("choose_dataset",["d3","age","seniority","leadership"],(function(e,t,n,a){return function(r){return"Age"==r?e.stack().keys(t.columns.slice(1))(t).map((function(e){return e.forEach((function(t){return t.key=e.key})),e})):"Seniority"==r?e.stack().keys(n.columns.slice(1))(n).map((function(e){return e.forEach((function(t){return t.key=e.key})),e})):e.stack().keys(a.columns.slice(1))(a).map((function(e){return e.forEach((function(t){return t.key=e.key})),e}))}})),a.variable(t("choose_xaxis")).define("choose_xaxis",["d3","age","margin","width","seniority","leadership"],(function(e,t,n,a,r,i){return function(o){return"Age"==o?e.scaleBand().domain(t.map((function(e){return e[o]}))).range([n.left,a-n.right]).padding(.1):"Seniority"==o?e.scaleBand().domain(r.map((function(e){return e[o]}))).range([n.left,a-n.right]).padding(.5):e.scaleBand().domain(i.map((function(e){return e[o]}))).range([n.left,a-n.right]).padding(.5)}})),a.variable(t()).define(["md"],(function(e){return e(Nu||(Nu=Object(xe.a)(["### Here's the data\n\nFeel free to add more datasers and/or use this however you see fit. To attach a new file simply click on the **three dots ...** on top right navigation and open **File Attachments**"])))})),a.variable(t("age")).define("age",["FileAttachment"],(function(e){return e("age.csv").csv()})),a.variable(t("leadership")).define("leadership",["FileAttachment"],(function(e){return e("leader.csv").csv()})),a.variable(t("seniority")).define("seniority",["FileAttachment"],(function(e){return e("newcomer@1.csv").csv()})),a.variable(t("candidates2020")).define("candidates2020",["FileAttachment"],(function(e){return e("candidates2020.json").json()})),a.variable(t("seatsByWomen")).define("seatsByWomen",["FileAttachment"],(function(e){return e("seats_by_women@1.json").json()})),a.variable(t("world")).define("world",["FileAttachment"],(function(e){return e("countries-50m.json").json()})),a.variable(t()).define(["md"],(function(e){return e(Fu||(Fu=Object(xe.a)(["### Libraries"])))}));var i=e.module(fu);a.import("Scrubber",i);var l=e.module(Lu);return a.import("legend",l),a.variable(t("topojson")).define("topojson",["require"],(function(e){return e("topojson-client@3")})),a.variable(t("d3")).define("d3",["require"],(function(e){return e("d3@6")})),a}var Bu=function(e){var t=e.width,n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=Object(a.useRef)(),u=Object(a.useRef)(),s=Object(a.useRef)(),d=Object(a.useRef)(),f=Object(a.useState)(),p=Object(o.a)(f,2),m=p[0],v=p[1];return Object(a.useEffect)((function(){var e=new he.b,t=e.module(Ru,(function(e){return"viewof profile"===e?new he.a(n.current):"title1"===e?new he.a(r.current):"barkey"===e?new he.a(i.current):"barchart"===e?new he.a(l.current):"title2"===e?new he.a(u.current):"viewof year"===e?new he.a(s.current):"dataviz"===e?new he.a(d.current):["series","y","yAxis","barcolor","x","xAxis"].includes(e)}));return v(t),function(){v(void 0),e.dispose()}}),[]),Object(a.useEffect)((function(){void 0!==m&&m.redefine("width",t)}),[t,m]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{ref:n}),Object(c.jsx)("div",{ref:r}),Object(c.jsx)("div",{ref:i}),Object(c.jsx)("div",{ref:l}),Object(c.jsx)("div",{ref:u}),Object(c.jsx)("div",{ref:s}),Object(c.jsx)("div",{ref:d})]})},_u=n(24),Iu=n(20),Eu=n(41),qu=n(60),Vu=n(51);function Uu(e){var t=e.width,n=e.handleClick;return t<768?Object(c.jsxs)(_u.a,{children:[Object(c.jsx)(Iu.a,{md:4,sm:12,className:"p-4 my-auto",children:Object(c.jsx)(qu.a,{src:Vu.default,alt:"profile",fluid:!0})}),Object(c.jsxs)(Iu.a,{md:8,sm:12,className:"p-5 my-auto",children:[Object(c.jsx)("h1",{children:"Hello, world! I'm Shuai Hao."}),Object(c.jsx)("p",{children:"I am a journalist, programmer and designer based in NYC. I graduated from Columbia University's dual degree program in Journalism and Computer Science."}),Object(c.jsxs)("p",{children:["Love beautiful interactive charts. ",Object(c.jsx)("br",{}),"Love scrollable webpages. ",Object(c.jsx)("br",{}),"Love smooth animations."]}),Object(c.jsx)(Eu.a,{variant:"primary",onClick:n,children:"Portfolios"})," "]})]}):Object(c.jsxs)(_u.a,{className:"full-height",children:[Object(c.jsx)(Iu.a,{md:4,sm:12,className:"p-4 my-auto",children:Object(c.jsx)(qu.a,{src:Vu.default,alt:"profile",fluid:!0})}),Object(c.jsxs)(Iu.a,{md:8,sm:12,className:"p-5 my-auto",children:[Object(c.jsx)("h1",{children:"Hello, world! I'm Shuai Hao."}),Object(c.jsx)("p",{children:"I am a journalist, programmer and designer based in NYC. I graduated from Columbia University's dual degree program in Journalism and Computer Science."}),Object(c.jsxs)("p",{children:["Love beautiful interactive charts. ",Object(c.jsx)("br",{}),"Love scrollable webpages. ",Object(c.jsx)("br",{}),"Love smooth animations."]}),Object(c.jsx)(Eu.a,{variant:"primary",onClick:n,children:"Portfolios"})," "]})]})}n(128);var Wu=n(67),Hu=n(68),Yu=n(57);var Xu=function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=function(e){var t=function(){return{width:e.current.offsetWidth<1e3?e.current.offsetWidth:1e3,height:e.current.offsetHeight}},n=Object(a.useState)({width:0,height:0}),r=Object(o.a)(n,2),i=r[0],l=r[1];return Object(a.useEffect)((function(){var n=function(){l(t())};return e.current&&l(t()),window.addEventListener("click",n),window.addEventListener("resize",n),function(){window.removeEventListener("click",n),window.removeEventListener("resize",n)}}),[e]),i}(n),i=r.width,l=(r.height,[{id:"interactive-0",interactive:Object(c.jsx)(du,{width:i}),title:"Chinese NPC Deputy Map",description:"Use react and D3 to show the population and the number of NPC deputies of each Chinese province.",link:"https://haoshuai999.github.io/china-data-map/",date:"Aug. 8 2021"},{id:"interactive-1",interactive:Object(c.jsx)(aa,{width:i}),title:"Crypto Returns Over Time",description:"Fetch the lastest crypto returns data using the notebook.",link:"https://observablehq.com/d/99803321128e165f",date:"Sept. 14 2020"},{id:"interactive-2",interactive:Object(c.jsx)(Bu,{width:i}),title:"The 2020 Singaporean General Election",description:"I made an interactive bar chart and a world map showing the growth of female political candidates in Singapore.",link:"https://observablehq.com/d/fb5ed6161a8a33b8",date:"Sept. 2 2021"},{id:"interactive-3",interactive:Object(c.jsx)(ti,{width:i}),title:"The Growth of Cosmos India",description:"Cosmos aims to be the internet of blockchain. Cosmos's token ATOM and its Indian branch grows fast in 2020.",link:"https://observablehq.com/d/51fbdbc746a1de7e",date:"Oct. 1 2020"},{id:"interactive-4",interactive:Object(c.jsx)(ha,{width:i}),title:"Vertical Returns Bar Chart",description:"Compare the returns of different crypto assets.",link:"https://observablehq.com/d/576de58dae43c14e",date:"Sept. 20 2020"},{id:"interactive-5",interactive:Object(c.jsx)(hr,{width:i}),title:"BTC Returns Heatmap",description:"Bitcoin performs better on US trading hours than Asian trading hours.",link:"https://observablehq.com/@shuaihaofzny/heatmap-example",date:"Sept. 30 2020"},{id:"interactive-6",interactive:Object(c.jsx)(Vi,{width:i}),title:"Coinbase Growth",description:"Total assets on Coinbase increased nearly 150% in 2021Q1.",link:"https://observablehq.com/d/684a54bcf8262fbd",date:"Apr. 3 2021"},{id:"interactive-7",interactive:Object(c.jsx)(Wl,{width:i}),title:"Blockchain and Congress",description:"Most lawmakers don't hold any opinion towards blockchain technology.",link:"https://observablehq.com/d/4cbd138614bf115f",date:"Jan. 7 2021"},{id:"interactive-8",interactive:Object(c.jsx)(Cl,{width:i}),title:"Crypto Family Tree",description:"Many crypto assets are related to each other through forking.",link:"https://observablehq.com/d/6a0e7e787418caa2",date:"Mar. 21 2021"}]),u=e.articles.map((function(e){return Object(c.jsx)(Iu.a,{md:6,sm:12,className:"p-2",children:Object(c.jsx)(b,{id:e.id,image:e.image,title:e.title,date:e.date,description:e.description,link:e.link})})})),s=e.charts.map((function(e){return Object(c.jsx)(Iu.a,{md:6,sm:12,className:"p-2",children:Object(c.jsx)(b,{id:e.id,image:e.image,title:e.title,date:e.date,description:e.description,link:e.link})})})),f=l.map((function(e){return Object(c.jsx)(_u.a,{className:"p-2",children:Object(c.jsx)(Iu.a,{ref:n,children:Object(c.jsx)(p,{title:e.title,date:e.date,description:e.description,link:e.link,chart:e.interactive})})})}));return Object(c.jsxs)(Wu.a,{fluid:"md",children:[Object(c.jsx)(_u.a,{children:Object(c.jsx)(Iu.a,{children:Object(c.jsx)(d,{})})}),Object(c.jsx)(Uu,{width:i,handleClick:function(){t.current&&t.current.scrollIntoView({behavior:"smooth",block:"start"})}}),Object(c.jsx)("div",{ref:t}),Object(c.jsxs)(Hu.a,{className:"justify-content-center sticky",defaultActiveKey:"Charts",id:"uncontrolled-tab-example",children:[Object(c.jsxs)(Yu.a,{eventKey:"Charts",title:"Charts",children:[Object(c.jsx)(_u.a,{className:"p-2",children:Object(c.jsx)(Iu.a,{children:Object(c.jsx)(v,{data:e.slides})})}),Object(c.jsx)(_u.a,{className:"p-2",children:s})]}),Object(c.jsx)(Yu.a,{eventKey:"Interactives",title:"Interactives",children:f}),Object(c.jsx)(Yu.a,{eventKey:"Articles",title:"Articles",children:Object(c.jsx)(_u.a,{className:"p-2",children:u})})]}),Object(c.jsx)(_u.a,{className:"mt-2 p-3 text-center footer",children:Object(c.jsx)(Iu.a,{children:Object(c.jsxs)("footer",{children:[Object(c.jsx)("p",{children:"Designed using React and Bootstrap"}),Object(c.jsxs)("p",{children:["Email: ",Object(c.jsx)("a",{href:"mailto:shuai_hao@outlook.com",children:"shuai_hao@outlook.com"})]}),Object(c.jsx)("p",{children:"All Content \xa9 2021 Shuai Hao"})]})})})]})},Ju=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};n(130);i.a.render(Object(c.jsx)(Xu,{articles:[{id:"article-0",image:"Image-Recognizer.jpeg",title:"Use JavaScipt for Deep Learning Classification Model",date:"Nov. 19, 2019",description:"I built a simple deep learning image classifcation model in the browser to recognize the landmarks of Columbia University.",link:"https://haoshuai999.github.io/image-classifier/"},{id:"article-1",image:"NLP.jpeg",title:"News article summarization",date:"Feb. 24, 2020",description:"I attempted to generate summaries of news articles by extracting important sentences using NLP algorithms.",link:"https://github.com/haoshuai999/News-summarization"},{id:"article-2",image:"Korea.png",title:"Smart Chart: Tracking North Korea\u2019s Missile Program",date:"Sept. 22, 2017",description:"I wrote a story about the type of North Korean missiles. A D3 chart was created to show the range of the missiles.",link:"https://www.caixinglobal.com/2017-09-22/smart-chart-tracking-north-koreas-missile-program-101147919.html"},{id:"article-3",image:"Poland-abortion-cost.jpeg",title:"Polish women turn to arthritis medication for abortions",date:"Dec. 13 2018",description:"I interviewed young women in Poland and wrote about their frustration with abortion laws.",link:"https://web.archive.org/web/20190514054352/http://jerichoonline.com/2019/01/16/polish-women-turn-to-arthritis-medication-for-abortions/"},{id:"article-4",image:null,title:"Chinese Companies Look for Ways to Cope with Trade War",date:"Nov. 29, 2018",description:"I interviewed salesmen in China about how entrepot trade helps companies during the US-China trade war.",link:"https://observablehq.com/@shuaihaofzny/chinese-companies-look-for-ways-to-cope-with-trade-war"},{id:"article-5",image:null,title:"The Second Biggest Rehabilitation Center in Philippines Faces Challenges",date:"Dec. 8, 2018",description:"I talked to workers in rehab centers in Philippines and asked how they helped patients during President Duterte's drug war.",link:"https://observablehq.com/@shuaihaofzny/the-second-biggest-rehabilitation-center-in-philippines-f"}],charts:[{id:"chart-0",image:"Slavery.jpeg",title:"Slavery\u2019s Explosive Growth, in Charts: How \u201920 and odd\u2019 Became Millions",date:"Aug. 28, 2019",description:"The largest project I worked on at USA TODAY Network is about the history of slavery in the US since 1619.",link:"https://www.usatoday.com/pages/interactives/1619-african-slavery-history-maps-routes-interactive-graphic/"},{id:"chart-1",image:"final-project.jpeg",title:"Evolution of Terrorism",date:"Sept. 26, 2019",description:"I explored why and how terrorism evolved over the years by analyzing 180,000 rows of data using D3.js and scrollama.js.",link:"https://haoshuai999.github.io"},{id:"chart-3",image:"woman.png",title:"Know her name: The women who fought for the right to vote",date:"Aug. 14, 2019",description:"I modify a timeline template in Angular.js to show the history of women's suffrage",link:"https://www.usatoday.com/pages/interactives/women-suffrage-timeline/"},{id:"chart-4",image:"weed.jpeg",title:"The Use of Marijuana During Pregnancy",date:"Aug. 28, 2019",description:"A map visualization showing the marijuana-related legislation in each state in the US.",link:"https://www.usatoday.com/pages/interactives/1619-african-slavery-history-maps-routes-interactive-graphic/"},{id:"chart-5",image:"alexander.jpeg",title:"Conquer Cities with Alexander the Great",date:"Sept. 26, 2019",description:"I built a user interface with Model View Controller design pattern in Flask, Bootstrap and D3.js through which visitors can gain knowledge about cities conquered or ruled by Alexander the Great and take a quiz about how well they know Alexander.",link:"https://www.youtube.com/watch?v=o40lbDjqQ3M&feature=youtu.be"},{id:"chart-6",image:"Figma.png",title:"Feed for Thought \u2013 News Product",date:"Mar. 14 2020",description:"I designed Feed for Thought, a technology news aggregation application prototype, using Figma and made a intro video using Protopie.",link:"https://www.youtube.com/watch?v=bZgdGAhI1vo&t=20s"},{id:"chart-7",image:"databases.jpeg",title:"NYC Parks Database",date:"Sept. 26, 2019",description:"The demo shows a database system I designed in PostgreSQL including crimes, monuments, eateries and hiking trails in all public parks at New York City.",link:"https://www.youtube.com/watch?v=NBeRTGNiOnY"},{id:"chart-8",image:"astronomy.png",title:"Astronomy Picture Search",date:"Mar. 23, 2019",description:"I designed a database storing Astronomy Picture of the Day published by NASA.",link:"https://www.youtube.com/watch?v=qBN3LDeLQLg"},{id:"chart-9",image:"Sleep-Deprivation1.jpeg",title:"Sleep Deprivation",date:"Dec. 16, 2018",description:"The website shows Chinese young people's night life using the Javascript library skrollr.",link:"https://www.youtube.com/watch?v=qXACAU0BRAQ&feature=youtu.be"},{id:"chart-10",image:"china-map.jpeg",title:"How Far Between the Chinese and Global National Parks? The length of a High-price Ticket",date:"Dec. 23, 2017",description:"I wrote the data journalism story in April 2017 and got the 13th place in 2017 Data Journalism Competition of China.",link:"https://haoshuai999.github.io/China_national_park/"},{id:"chart-11",image:"FRED.jpeg",title:"Will Toronto Raptors stand out in the playoffs?",date:"Apr. 12, 2018",description:"I wrote about the performance of the Toronto Raptors during the 2018 NBA regular season, focusing on how they succeeded in the league.",link:"https://observablehq.com/@shuaihaofzny/will-toronto-raptors-stand-out-in-the-playoffs"}],slides:[{id:"slide-0",image:"Election.jpg",title:null,description:null},{id:"slide-1",image:"India.jpeg",title:null,description:null},{id:"slide-2",image:"Iran.jpeg",title:null,description:null},{id:"slide-3",image:"Mexico.jpeg",title:null,description:null},{id:"slide-4",image:"Venezuela.jpeg",title:null,description:null},{id:"slide-5",image:"Turkey.jpeg",title:null,description:null},{id:"slide-6",image:"BTC Price.jpeg",title:null,description:null},{id:"slide-7",image:"Bull_bear.jpg",title:null,description:null},{id:"slide-8",image:"BTC_heatmap.jpg",title:null,description:null}]}),document.getElementById("root")),Ju()}]),[[131,1,2]]]);
//# sourceMappingURL=main.3bc8abb2.chunk.js.map